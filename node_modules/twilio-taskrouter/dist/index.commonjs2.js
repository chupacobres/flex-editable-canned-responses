// [AIV_SHORT]  Build version: 0.5.9 - Wednesday, February 9th, 2022, 8:48:07 PM  
 module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.w={},r(r.s=37)}([function(e,t,r){(function(e){var n;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i,s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",h=1,d=2,p=4,_=1,g=2,v=1,m=2,y=4,w=8,k=16,E=32,b=64,S=128,T=256,R=512,x=30,C="...",A=800,O=16,I=1,N=2,j=1/0,L=9007199254740991,U=1.7976931348623157e308,F=NaN,P=4294967295,W=P-1,q=P>>>1,D=[["ary",S],["bind",v],["bindKey",m],["curry",w],["curryRight",k],["flip",R],["partial",E],["partialRight",b],["rearg",T]],B="[object Arguments]",$="[object Array]",M="[object AsyncFunction]",z="[object Boolean]",V="[object Date]",G="[object DOMException]",H="[object Error]",J="[object Function]",Z="[object GeneratorFunction]",K="[object Map]",Q="[object Number]",Y="[object Null]",X="[object Object]",ee="[object Proxy]",te="[object RegExp]",re="[object Set]",ne="[object String]",ie="[object Symbol]",se="[object Undefined]",oe="[object WeakMap]",ae="[object WeakSet]",ce="[object ArrayBuffer]",ue="[object DataView]",le="[object Float32Array]",fe="[object Float64Array]",he="[object Int8Array]",de="[object Int16Array]",pe="[object Int32Array]",_e="[object Uint8Array]",ge="[object Uint8ClampedArray]",ve="[object Uint16Array]",me="[object Uint32Array]",ye=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,ke=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ee=/&(?:amp|lt|gt|quot|#39);/g,be=/[&<>"']/g,Se=RegExp(Ee.source),Te=RegExp(be.source),Re=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,Ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,Ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/[\\^$.*+?()[\]{}|]/g,je=RegExp(Ne.source),Le=/^\s+/,Ue=/\s/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pe=/\{\n\/\* \[wrapped with (.+)\] \*/,We=/,? & /,qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,De=/[()=,{}\[\]\/\s]/,Be=/\\(\\)?/g,$e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Me=/\w*$/,ze=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,Ge=/^\[object .+?Constructor\]$/,He=/^0o[0-7]+$/i,Je=/^(?:0|[1-9]\d*)$/,Ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ke=/($^)/,Qe=/['\n\r\u2028\u2029\\]/g,Ye="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Xe+"]",rt="["+Ye+"]",nt="\\d+",it="[\\u2700-\\u27bf]",st="[a-z\\xdf-\\xf6\\xf8-\\xff]",ot="[^\\ud800-\\udfff"+Xe+nt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",at="\\ud83c[\\udffb-\\udfff]",ct="[^\\ud800-\\udfff]",ut="(?:\\ud83c[\\udde6-\\uddff]){2}",lt="[\\ud800-\\udbff][\\udc00-\\udfff]",ft="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ht="(?:"+st+"|"+ot+")",dt="(?:"+ft+"|"+ot+")",pt="(?:"+rt+"|"+at+")"+"?",_t="[\\ufe0e\\ufe0f]?"+pt+("(?:\\u200d(?:"+[ct,ut,lt].join("|")+")[\\ufe0e\\ufe0f]?"+pt+")*"),gt="(?:"+[it,ut,lt].join("|")+")"+_t,vt="(?:"+[ct+rt+"?",rt,ut,lt,et].join("|")+")",mt=RegExp("['’]","g"),yt=RegExp(rt,"g"),wt=RegExp(at+"(?="+at+")|"+vt+_t,"g"),kt=RegExp([ft+"?"+st+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[tt,ft,"$"].join("|")+")",dt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[tt,ft+ht,"$"].join("|")+")",ft+"?"+ht+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ft+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nt,gt].join("|"),"g"),Et=RegExp("[\\u200d\\ud800-\\udfff"+Ye+"\\ufe0e\\ufe0f]"),bt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,St=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tt=-1,Rt={};Rt[le]=Rt[fe]=Rt[he]=Rt[de]=Rt[pe]=Rt[_e]=Rt[ge]=Rt[ve]=Rt[me]=!0,Rt[B]=Rt[$]=Rt[ce]=Rt[z]=Rt[ue]=Rt[V]=Rt[H]=Rt[J]=Rt[K]=Rt[Q]=Rt[X]=Rt[te]=Rt[re]=Rt[ne]=Rt[oe]=!1;var xt={};xt[B]=xt[$]=xt[ce]=xt[ue]=xt[z]=xt[V]=xt[le]=xt[fe]=xt[he]=xt[de]=xt[pe]=xt[K]=xt[Q]=xt[X]=xt[te]=xt[re]=xt[ne]=xt[ie]=xt[_e]=xt[ge]=xt[ve]=xt[me]=!0,xt[H]=xt[J]=xt[oe]=!1;var Ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},At=parseFloat,Ot=parseInt,It="object"==typeof global&&global&&global.Object===Object&&global,Nt="object"==typeof self&&self&&self.Object===Object&&self,jt=It||Nt||Function("return this")(),Lt="object"==typeof t&&t&&!t.nodeType&&t,Ut=Lt&&"object"==typeof e&&e&&!e.nodeType&&e,Ft=Ut&&Ut.exports===Lt,Pt=Ft&&It.process,Wt=function(){try{var e=Ut&&Ut.require&&Ut.require("util").types;return e||Pt&&Pt.binding&&Pt.binding("util")}catch(e){}}(),qt=Wt&&Wt.isArrayBuffer,Dt=Wt&&Wt.isDate,Bt=Wt&&Wt.isMap,$t=Wt&&Wt.isRegExp,Mt=Wt&&Wt.isSet,zt=Wt&&Wt.isTypedArray;function Vt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Gt(e,t,r,n){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(n,o,r(o),e)}return n}function Ht(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Jt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Zt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Kt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}function Qt(e,t){return!!(null==e?0:e.length)&&ar(e,t,0)>-1}function Yt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Xt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function er(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function tr(e,t,r,n){var i=-1,s=null==e?0:e.length;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function rr(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function nr(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var ir=fr("length");function sr(e,t,r){var n;return r(e,function(e,r,i){if(t(e,r,i))return n=r,!1}),n}function or(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function ar(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):or(e,ur,r)}function cr(e,t,r,n){for(var i=r-1,s=e.length;++i<s;)if(n(e[i],t))return i;return-1}function ur(e){return e!=e}function lr(e,t){var r=null==e?0:e.length;return r?pr(e,t)/r:F}function fr(e){return function(t){return null==t?i:t[e]}}function hr(e){return function(t){return null==e?i:e[t]}}function dr(e,t,r,n,i){return i(e,function(e,i,s){r=n?(n=!1,e):t(r,e,i,s)}),r}function pr(e,t){for(var r,n=-1,s=e.length;++n<s;){var o=t(e[n]);o!==i&&(r=r===i?o:r+o)}return r}function _r(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function gr(e){return e?e.slice(0,jr(e)+1).replace(Le,""):e}function vr(e){return function(t){return e(t)}}function mr(e,t){return Xt(t,function(t){return e[t]})}function yr(e,t){return e.has(t)}function wr(e,t){for(var r=-1,n=e.length;++r<n&&ar(t,e[r],0)>-1;);return r}function kr(e,t){for(var r=e.length;r--&&ar(t,e[r],0)>-1;);return r}var Er=hr({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),br=hr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Sr(e){return"\\"+Ct[e]}function Tr(e){return Et.test(e)}function Rr(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function xr(e,t){return function(r){return e(t(r))}}function Cr(e,t){for(var r=-1,n=e.length,i=0,s=[];++r<n;){var o=e[r];o!==t&&o!==f||(e[r]=f,s[i++]=r)}return s}function Ar(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function Or(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}function Ir(e){return Tr(e)?function(e){var t=wt.lastIndex=0;for(;wt.test(e);)++t;return t}(e):ir(e)}function Nr(e){return Tr(e)?function(e){return e.match(wt)||[]}(e):function(e){return e.split("")}(e)}function jr(e){for(var t=e.length;t--&&Ue.test(e.charAt(t)););return t}var Lr=hr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ur=function e(t){var r,n=(t=null==t?jt:Ur.defaults(jt.Object(),t,Ur.pick(jt,St))).Array,Ue=t.Date,Ye=t.Error,Xe=t.Function,et=t.Math,tt=t.Object,rt=t.RegExp,nt=t.String,it=t.TypeError,st=n.prototype,ot=Xe.prototype,at=tt.prototype,ct=t["__core-js_shared__"],ut=ot.toString,lt=at.hasOwnProperty,ft=0,ht=(r=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",dt=at.toString,pt=ut.call(tt),_t=jt._,gt=rt("^"+ut.call(lt).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=Ft?t.Buffer:i,wt=t.Symbol,Et=t.Uint8Array,Ct=vt?vt.allocUnsafe:i,It=xr(tt.getPrototypeOf,tt),Nt=tt.create,Lt=at.propertyIsEnumerable,Ut=st.splice,Pt=wt?wt.isConcatSpreadable:i,Wt=wt?wt.iterator:i,ir=wt?wt.toStringTag:i,hr=function(){try{var e=Ds(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Fr=t.clearTimeout!==jt.clearTimeout&&t.clearTimeout,Pr=Ue&&Ue.now!==jt.Date.now&&Ue.now,Wr=t.setTimeout!==jt.setTimeout&&t.setTimeout,qr=et.ceil,Dr=et.floor,Br=tt.getOwnPropertySymbols,$r=vt?vt.isBuffer:i,Mr=t.isFinite,zr=st.join,Vr=xr(tt.keys,tt),Gr=et.max,Hr=et.min,Jr=Ue.now,Zr=t.parseInt,Kr=et.random,Qr=st.reverse,Yr=Ds(t,"DataView"),Xr=Ds(t,"Map"),en=Ds(t,"Promise"),tn=Ds(t,"Set"),rn=Ds(t,"WeakMap"),nn=Ds(tt,"create"),sn=rn&&new rn,on={},an=ho(Yr),cn=ho(Xr),un=ho(en),ln=ho(tn),fn=ho(rn),hn=wt?wt.prototype:i,dn=hn?hn.valueOf:i,pn=hn?hn.toString:i;function _n(e){if(Oa(e)&&!ya(e)&&!(e instanceof yn)){if(e instanceof mn)return e;if(lt.call(e,"__wrapped__"))return po(e)}return new mn(e)}var gn=function(){function e(){}return function(t){if(!Aa(t))return{};if(Nt)return Nt(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function vn(){}function mn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function yn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=P,this.__views__=[]}function wn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function kn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function En(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function bn(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new En;++t<r;)this.add(e[t])}function Sn(e){var t=this.__data__=new kn(e);this.size=t.size}function Tn(e,t){var r=ya(e),n=!r&&ma(e),i=!r&&!n&&ba(e),s=!r&&!n&&!i&&Wa(e),o=r||n||i||s,a=o?_r(e.length,nt):[],c=a.length;for(var u in e)!t&&!lt.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Hs(u,c))||a.push(u);return a}function Rn(e){var t=e.length;return t?e[bi(0,t-1)]:i}function xn(e,t){return uo(is(e),Fn(t,0,e.length))}function Cn(e){return uo(is(e))}function An(e,t,r){(r===i||_a(e[t],r))&&(r!==i||t in e)||Ln(e,t,r)}function On(e,t,r){var n=e[t];lt.call(e,t)&&_a(n,r)&&(r!==i||t in e)||Ln(e,t,r)}function In(e,t){for(var r=e.length;r--;)if(_a(e[r][0],t))return r;return-1}function Nn(e,t,r,n){return Bn(e,function(e,i,s){t(n,e,r(e),s)}),n}function jn(e,t){return e&&ss(t,oc(t),e)}function Ln(e,t,r){"__proto__"==t&&hr?hr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Un(e,t){for(var r=-1,s=t.length,o=n(s),a=null==e;++r<s;)o[r]=a?i:tc(e,t[r]);return o}function Fn(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function Pn(e,t,r,n,s,o){var a,c=t&h,u=t&d,l=t&p;if(r&&(a=s?r(e,n,s,o):r(e)),a!==i)return a;if(!Aa(e))return e;var f=ya(e);if(f){if(a=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&lt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!c)return is(e,a)}else{var _=Ms(e),g=_==J||_==Z;if(ba(e))return Yi(e,c);if(_==X||_==B||g&&!s){if(a=u||g?{}:Vs(e),!c)return u?function(e,t){return ss(e,$s(e),t)}(e,function(e,t){return e&&ss(t,ac(t),e)}(a,e)):function(e,t){return ss(e,Bs(e),t)}(e,jn(a,e))}else{if(!xt[_])return s?e:{};a=function(e,t,r){var n,i,s,o=e.constructor;switch(t){case ce:return Xi(e);case z:case V:return new o(+e);case ue:return function(e,t){var r=t?Xi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case le:case fe:case he:case de:case pe:case _e:case ge:case ve:case me:return es(e,r);case K:return new o;case Q:case ne:return new o(e);case te:return(s=new(i=e).constructor(i.source,Me.exec(i))).lastIndex=i.lastIndex,s;case re:return new o;case ie:return n=e,dn?tt(dn.call(n)):{}}}(e,_,c)}}o||(o=new Sn);var v=o.get(e);if(v)return v;o.set(e,a),Ua(e)?e.forEach(function(n){a.add(Pn(n,t,r,n,e,o))}):Ia(e)&&e.forEach(function(n,i){a.set(i,Pn(n,t,r,i,e,o))});var m=f?i:(l?u?js:Ns:u?ac:oc)(e);return Ht(m||e,function(n,i){m&&(n=e[i=n]),On(a,i,Pn(n,t,r,i,e,o))}),a}function Wn(e,t,r){var n=r.length;if(null==e)return!n;for(e=tt(e);n--;){var s=r[n],o=t[s],a=e[s];if(a===i&&!(s in e)||!o(a))return!1}return!0}function qn(e,t,r){if("function"!=typeof e)throw new it(a);return so(function(){e.apply(i,r)},t)}function Dn(e,t,r,n){var i=-1,o=Qt,a=!0,c=e.length,u=[],l=t.length;if(!c)return u;r&&(t=Xt(t,vr(r))),n?(o=Yt,a=!1):t.length>=s&&(o=yr,a=!1,t=new bn(t));e:for(;++i<c;){var f=e[i],h=null==r?f:r(f);if(f=n||0!==f?f:0,a&&h==h){for(var d=l;d--;)if(t[d]===h)continue e;u.push(f)}else o(t,h,n)||u.push(f)}return u}_n.templateSettings={escape:Re,evaluate:xe,interpolate:Ce,variable:"",imports:{_:_n}},_n.prototype=vn.prototype,_n.prototype.constructor=_n,mn.prototype=gn(vn.prototype),mn.prototype.constructor=mn,yn.prototype=gn(vn.prototype),yn.prototype.constructor=yn,wn.prototype.clear=function(){this.__data__=nn?nn(null):{},this.size=0},wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},wn.prototype.get=function(e){var t=this.__data__;if(nn){var r=t[e];return r===u?i:r}return lt.call(t,e)?t[e]:i},wn.prototype.has=function(e){var t=this.__data__;return nn?t[e]!==i:lt.call(t,e)},wn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nn&&t===i?u:t,this},kn.prototype.clear=function(){this.__data__=[],this.size=0},kn.prototype.delete=function(e){var t=this.__data__,r=In(t,e);return!(r<0||(r==t.length-1?t.pop():Ut.call(t,r,1),--this.size,0))},kn.prototype.get=function(e){var t=this.__data__,r=In(t,e);return r<0?i:t[r][1]},kn.prototype.has=function(e){return In(this.__data__,e)>-1},kn.prototype.set=function(e,t){var r=this.__data__,n=In(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},En.prototype.clear=function(){this.size=0,this.__data__={hash:new wn,map:new(Xr||kn),string:new wn}},En.prototype.delete=function(e){var t=Ws(this,e).delete(e);return this.size-=t?1:0,t},En.prototype.get=function(e){return Ws(this,e).get(e)},En.prototype.has=function(e){return Ws(this,e).has(e)},En.prototype.set=function(e,t){var r=Ws(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},bn.prototype.add=bn.prototype.push=function(e){return this.__data__.set(e,u),this},bn.prototype.has=function(e){return this.__data__.has(e)},Sn.prototype.clear=function(){this.__data__=new kn,this.size=0},Sn.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Sn.prototype.get=function(e){return this.__data__.get(e)},Sn.prototype.has=function(e){return this.__data__.has(e)},Sn.prototype.set=function(e,t){var r=this.__data__;if(r instanceof kn){var n=r.__data__;if(!Xr||n.length<s-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new En(n)}return r.set(e,t),this.size=r.size,this};var Bn=cs(Zn),$n=cs(Kn,!0);function Mn(e,t){var r=!0;return Bn(e,function(e,n,i){return r=!!t(e,n,i)}),r}function zn(e,t,r){for(var n=-1,s=e.length;++n<s;){var o=e[n],a=t(o);if(null!=a&&(c===i?a==a&&!Pa(a):r(a,c)))var c=a,u=o}return u}function Vn(e,t){var r=[];return Bn(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function Gn(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=Gs),i||(i=[]);++s<o;){var a=e[s];t>0&&r(a)?t>1?Gn(a,t-1,r,n,i):er(i,a):n||(i[i.length]=a)}return i}var Hn=us(),Jn=us(!0);function Zn(e,t){return e&&Hn(e,t,oc)}function Kn(e,t){return e&&Jn(e,t,oc)}function Qn(e,t){return Kt(t,function(t){return Ra(e[t])})}function Yn(e,t){for(var r=0,n=(t=Ji(t,e)).length;null!=e&&r<n;)e=e[fo(t[r++])];return r&&r==n?e:i}function Xn(e,t,r){var n=t(e);return ya(e)?n:er(n,r(e))}function ei(e){return null==e?e===i?se:Y:ir&&ir in tt(e)?function(e){var t=lt.call(e,ir),r=e[ir];try{e[ir]=i;var n=!0}catch(e){}var s=dt.call(e);return n&&(t?e[ir]=r:delete e[ir]),s}(e):function(e){return dt.call(e)}(e)}function ti(e,t){return e>t}function ri(e,t){return null!=e&&lt.call(e,t)}function ni(e,t){return null!=e&&t in tt(e)}function ii(e,t,r){for(var s=r?Yt:Qt,o=e[0].length,a=e.length,c=a,u=n(a),l=1/0,f=[];c--;){var h=e[c];c&&t&&(h=Xt(h,vr(t))),l=Hr(h.length,l),u[c]=!r&&(t||o>=120&&h.length>=120)?new bn(c&&h):i}h=e[0];var d=-1,p=u[0];e:for(;++d<o&&f.length<l;){var _=h[d],g=t?t(_):_;if(_=r||0!==_?_:0,!(p?yr(p,g):s(f,g,r))){for(c=a;--c;){var v=u[c];if(!(v?yr(v,g):s(e[c],g,r)))continue e}p&&p.push(g),f.push(_)}}return f}function si(e,t,r){var n=null==(e=ro(e,t=Ji(t,e)))?e:e[fo(To(t))];return null==n?i:Vt(n,e,r)}function oi(e){return Oa(e)&&ei(e)==B}function ai(e,t,r,n,s){return e===t||(null==e||null==t||!Oa(e)&&!Oa(t)?e!=e&&t!=t:function(e,t,r,n,s,o){var a=ya(e),c=ya(t),u=a?$:Ms(e),l=c?$:Ms(t),f=(u=u==B?X:u)==X,h=(l=l==B?X:l)==X,d=u==l;if(d&&ba(e)){if(!ba(t))return!1;a=!0,f=!1}if(d&&!f)return o||(o=new Sn),a||Wa(e)?Os(e,t,r,n,s,o):function(e,t,r,n,i,s,o){switch(r){case ue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ce:return!(e.byteLength!=t.byteLength||!s(new Et(e),new Et(t)));case z:case V:case Q:return _a(+e,+t);case H:return e.name==t.name&&e.message==t.message;case te:case ne:return e==t+"";case K:var a=Rr;case re:var c=n&_;if(a||(a=Ar),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=g,o.set(e,t);var l=Os(a(e),a(t),n,i,s,o);return o.delete(e),l;case ie:if(dn)return dn.call(e)==dn.call(t)}return!1}(e,t,u,r,n,s,o);if(!(r&_)){var p=f&&lt.call(e,"__wrapped__"),v=h&&lt.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,y=v?t.value():t;return o||(o=new Sn),s(m,y,r,n,o)}}return!!d&&(o||(o=new Sn),function(e,t,r,n,s,o){var a=r&_,c=Ns(e),u=c.length,l=Ns(t).length;if(u!=l&&!a)return!1;for(var f=u;f--;){var h=c[f];if(!(a?h in t:lt.call(t,h)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var g=!0;o.set(e,t),o.set(t,e);for(var v=a;++f<u;){h=c[f];var m=e[h],y=t[h];if(n)var w=a?n(y,m,h,t,e,o):n(m,y,h,e,t,o);if(!(w===i?m===y||s(m,y,r,n,o):w)){g=!1;break}v||(v="constructor"==h)}if(g&&!v){var k=e.constructor,E=t.constructor;k!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof k&&k instanceof k&&"function"==typeof E&&E instanceof E)&&(g=!1)}return o.delete(e),o.delete(t),g}(e,t,r,n,s,o))}(e,t,r,n,ai,s))}function ci(e,t,r,n){var s=r.length,o=s,a=!n;if(null==e)return!o;for(e=tt(e);s--;){var c=r[s];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<o;){var u=(c=r[s])[0],l=e[u],f=c[1];if(a&&c[2]){if(l===i&&!(u in e))return!1}else{var h=new Sn;if(n)var d=n(l,f,u,e,t,h);if(!(d===i?ai(f,l,_|g,n,h):d))return!1}}return!0}function ui(e){return!(!Aa(e)||ht&&ht in e)&&(Ra(e)?gt:Ge).test(ho(e))}function li(e){return"function"==typeof e?e:null==e?Nc:"object"==typeof e?ya(e)?gi(e[0],e[1]):_i(e):Bc(e)}function fi(e){if(!Ys(e))return Vr(e);var t=[];for(var r in tt(e))lt.call(e,r)&&"constructor"!=r&&t.push(r);return t}function hi(e){if(!Aa(e))return function(e){var t=[];if(null!=e)for(var r in tt(e))t.push(r);return t}(e);var t=Ys(e),r=[];for(var n in e)("constructor"!=n||!t&&lt.call(e,n))&&r.push(n);return r}function di(e,t){return e<t}function pi(e,t){var r=-1,i=ka(e)?n(e.length):[];return Bn(e,function(e,n,s){i[++r]=t(e,n,s)}),i}function _i(e){var t=qs(e);return 1==t.length&&t[0][2]?eo(t[0][0],t[0][1]):function(r){return r===e||ci(r,e,t)}}function gi(e,t){return Zs(e)&&Xs(t)?eo(fo(e),t):function(r){var n=tc(r,e);return n===i&&n===t?rc(r,e):ai(t,n,_|g)}}function vi(e,t,r,n,s){e!==t&&Hn(t,function(o,a){if(s||(s=new Sn),Aa(o))!function(e,t,r,n,s,o,a){var c=no(e,r),u=no(t,r),l=a.get(u);if(l)An(e,r,l);else{var f=o?o(c,u,r+"",e,t,a):i,h=f===i;if(h){var d=ya(u),p=!d&&ba(u),_=!d&&!p&&Wa(u);f=u,d||p||_?ya(c)?f=c:Ea(c)?f=is(c):p?(h=!1,f=Yi(u,!0)):_?(h=!1,f=es(u,!0)):f=[]:ja(u)||ma(u)?(f=c,ma(c)?f=Ga(c):Aa(c)&&!Ra(c)||(f=Vs(u))):h=!1}h&&(a.set(u,f),s(f,u,n,o,a),a.delete(u)),An(e,r,f)}}(e,t,a,r,vi,n,s);else{var c=n?n(no(e,a),o,a+"",e,t,s):i;c===i&&(c=o),An(e,a,c)}},ac)}function mi(e,t){var r=e.length;if(r)return Hs(t+=t<0?r:0,r)?e[t]:i}function yi(e,t,r){var n=-1;return t=Xt(t=t.length?Xt(t,function(e){return ya(e)?function(t){return Yn(t,1===e.length?e[0]:e)}:e}):[Nc],vr(Ps())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(pi(e,function(e,r,i){return{criteria:Xt(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,a=r.length;++n<o;){var c=ts(i[n],s[n]);if(c){if(n>=a)return c;var u=r[n];return c*("desc"==u?-1:1)}}return e.index-t.index}(e,t,r)})}function wi(e,t,r){for(var n=-1,i=t.length,s={};++n<i;){var o=t[n],a=Yn(e,o);r(a,o)&&Ci(s,Ji(o,e),a)}return s}function ki(e,t,r,n){var i=n?cr:ar,s=-1,o=t.length,a=e;for(e===t&&(t=is(t)),r&&(a=Xt(e,vr(r)));++s<o;)for(var c=0,u=t[s],l=r?r(u):u;(c=i(a,l,c,n))>-1;)a!==e&&Ut.call(a,c,1),Ut.call(e,c,1);return e}function Ei(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==s){var s=i;Hs(i)?Ut.call(e,i,1):Di(e,i)}}return e}function bi(e,t){return e+Dr(Kr()*(t-e+1))}function Si(e,t){var r="";if(!e||t<1||t>L)return r;do{t%2&&(r+=e),(t=Dr(t/2))&&(e+=e)}while(t);return r}function Ti(e,t){return oo(to(e,t,Nc),e+"")}function Ri(e){return Rn(_c(e))}function xi(e,t){var r=_c(e);return uo(r,Fn(t,0,r.length))}function Ci(e,t,r,n){if(!Aa(e))return e;for(var s=-1,o=(t=Ji(t,e)).length,a=o-1,c=e;null!=c&&++s<o;){var u=fo(t[s]),l=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(s!=a){var f=c[u];(l=n?n(f,u,c):i)===i&&(l=Aa(f)?f:Hs(t[s+1])?[]:{})}On(c,u,l),c=c[u]}return e}var Ai=sn?function(e,t){return sn.set(e,t),e}:Nc,Oi=hr?function(e,t){return hr(e,"toString",{configurable:!0,enumerable:!1,value:Ac(t),writable:!0})}:Nc;function Ii(e){return uo(_c(e))}function Ni(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(r=r>s?s:r)<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var o=n(s);++i<s;)o[i]=e[i+t];return o}function ji(e,t){var r;return Bn(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}function Li(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=q){for(;n<i;){var s=n+i>>>1,o=e[s];null!==o&&!Pa(o)&&(r?o<=t:o<t)?n=s+1:i=s}return i}return Ui(e,t,Nc,r)}function Ui(e,t,r,n){var s=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=r(t))!=t,c=null===t,u=Pa(t),l=t===i;s<o;){var f=Dr((s+o)/2),h=r(e[f]),d=h!==i,p=null===h,_=h==h,g=Pa(h);if(a)var v=n||_;else v=l?_&&(n||d):c?_&&d&&(n||!p):u?_&&d&&!p&&(n||!g):!p&&!g&&(n?h<=t:h<t);v?s=f+1:o=f}return Hr(o,W)}function Fi(e,t){for(var r=-1,n=e.length,i=0,s=[];++r<n;){var o=e[r],a=t?t(o):o;if(!r||!_a(a,c)){var c=a;s[i++]=0===o?0:o}}return s}function Pi(e){return"number"==typeof e?e:Pa(e)?F:+e}function Wi(e){if("string"==typeof e)return e;if(ya(e))return Xt(e,Wi)+"";if(Pa(e))return pn?pn.call(e):"";var t=e+"";return"0"==t&&1/e==-j?"-0":t}function qi(e,t,r){var n=-1,i=Qt,o=e.length,a=!0,c=[],u=c;if(r)a=!1,i=Yt;else if(o>=s){var l=t?null:Ss(e);if(l)return Ar(l);a=!1,i=yr,u=new bn}else u=t?[]:c;e:for(;++n<o;){var f=e[n],h=t?t(f):f;if(f=r||0!==f?f:0,a&&h==h){for(var d=u.length;d--;)if(u[d]===h)continue e;t&&u.push(h),c.push(f)}else i(u,h,r)||(u!==c&&u.push(h),c.push(f))}return c}function Di(e,t){return null==(e=ro(e,t=Ji(t,e)))||delete e[fo(To(t))]}function Bi(e,t,r,n){return Ci(e,t,r(Yn(e,t)),n)}function $i(e,t,r,n){for(var i=e.length,s=n?i:-1;(n?s--:++s<i)&&t(e[s],s,e););return r?Ni(e,n?0:s,n?s+1:i):Ni(e,n?s+1:0,n?i:s)}function Mi(e,t){var r=e;return r instanceof yn&&(r=r.value()),tr(t,function(e,t){return t.func.apply(t.thisArg,er([e],t.args))},r)}function zi(e,t,r){var i=e.length;if(i<2)return i?qi(e[0]):[];for(var s=-1,o=n(i);++s<i;)for(var a=e[s],c=-1;++c<i;)c!=s&&(o[s]=Dn(o[s]||a,e[c],t,r));return qi(Gn(o,1),t,r)}function Vi(e,t,r){for(var n=-1,s=e.length,o=t.length,a={};++n<s;){var c=n<o?t[n]:i;r(a,e[n],c)}return a}function Gi(e){return Ea(e)?e:[]}function Hi(e){return"function"==typeof e?e:Nc}function Ji(e,t){return ya(e)?e:Zs(e,t)?[e]:lo(Ha(e))}var Zi=Ti;function Ki(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:Ni(e,t,r)}var Qi=Fr||function(e){return jt.clearTimeout(e)};function Yi(e,t){if(t)return e.slice();var r=e.length,n=Ct?Ct(r):new e.constructor(r);return e.copy(n),n}function Xi(e){var t=new e.constructor(e.byteLength);return new Et(t).set(new Et(e)),t}function es(e,t){var r=t?Xi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function ts(e,t){if(e!==t){var r=e!==i,n=null===e,s=e==e,o=Pa(e),a=t!==i,c=null===t,u=t==t,l=Pa(t);if(!c&&!l&&!o&&e>t||o&&a&&u&&!c&&!l||n&&a&&u||!r&&u||!s)return 1;if(!n&&!o&&!l&&e<t||l&&r&&s&&!n&&!o||c&&r&&s||!a&&s||!u)return-1}return 0}function rs(e,t,r,i){for(var s=-1,o=e.length,a=r.length,c=-1,u=t.length,l=Gr(o-a,0),f=n(u+l),h=!i;++c<u;)f[c]=t[c];for(;++s<a;)(h||s<o)&&(f[r[s]]=e[s]);for(;l--;)f[c++]=e[s++];return f}function ns(e,t,r,i){for(var s=-1,o=e.length,a=-1,c=r.length,u=-1,l=t.length,f=Gr(o-c,0),h=n(f+l),d=!i;++s<f;)h[s]=e[s];for(var p=s;++u<l;)h[p+u]=t[u];for(;++a<c;)(d||s<o)&&(h[p+r[a]]=e[s++]);return h}function is(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function ss(e,t,r,n){var s=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var c=t[o],u=n?n(r[c],e[c],c,r,e):i;u===i&&(u=e[c]),s?Ln(r,c,u):On(r,c,u)}return r}function os(e,t){return function(r,n){var i=ya(r)?Gt:Nn,s=t?t():{};return i(r,e,Ps(n,2),s)}}function as(e){return Ti(function(t,r){var n=-1,s=r.length,o=s>1?r[s-1]:i,a=s>2?r[2]:i;for(o=e.length>3&&"function"==typeof o?(s--,o):i,a&&Js(r[0],r[1],a)&&(o=s<3?i:o,s=1),t=tt(t);++n<s;){var c=r[n];c&&e(t,c,n,o)}return t})}function cs(e,t){return function(r,n){if(null==r)return r;if(!ka(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=tt(r);(t?s--:++s<i)&&!1!==n(o[s],s,o););return r}}function us(e){return function(t,r,n){for(var i=-1,s=tt(t),o=n(t),a=o.length;a--;){var c=o[e?a:++i];if(!1===r(s[c],c,s))break}return t}}function ls(e){return function(t){var r=Tr(t=Ha(t))?Nr(t):i,n=r?r[0]:t.charAt(0),s=r?Ki(r,1).join(""):t.slice(1);return n[e]()+s}}function fs(e){return function(t){return tr(Rc(mc(t).replace(mt,"")),e,"")}}function hs(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=gn(e.prototype),n=e.apply(r,t);return Aa(n)?n:r}}function ds(e){return function(t,r,n){var s=tt(t);if(!ka(t)){var o=Ps(r,3);t=oc(t),r=function(e){return o(s[e],e,s)}}var a=e(t,r,n);return a>-1?s[o?t[a]:a]:i}}function ps(e){return Is(function(t){var r=t.length,n=r,s=mn.prototype.thru;for(e&&t.reverse();n--;){var o=t[n];if("function"!=typeof o)throw new it(a);if(s&&!c&&"wrapper"==Us(o))var c=new mn([],!0)}for(n=c?n:r;++n<r;){var u=Us(o=t[n]),l="wrapper"==u?Ls(o):i;c=l&&Ks(l[0])&&l[1]==(S|w|E|T)&&!l[4].length&&1==l[9]?c[Us(l[0])].apply(c,l[3]):1==o.length&&Ks(o)?c[u]():c.thru(o)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&ya(n))return c.plant(n).value();for(var i=0,s=r?t[i].apply(this,e):n;++i<r;)s=t[i].call(this,s);return s}})}function _s(e,t,r,s,o,a,c,u,l,f){var h=t&S,d=t&v,p=t&m,_=t&(w|k),g=t&R,y=p?i:hs(e);return function v(){for(var m=arguments.length,w=n(m),k=m;k--;)w[k]=arguments[k];if(_)var E=Fs(v),b=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(w,E);if(s&&(w=rs(w,s,o,_)),a&&(w=ns(w,a,c,_)),m-=b,_&&m<f){var S=Cr(w,E);return Es(e,t,_s,v.placeholder,r,w,S,u,l,f-m)}var T=d?r:this,R=p?T[e]:e;return m=w.length,u?w=function(e,t){for(var r=e.length,n=Hr(t.length,r),s=is(e);n--;){var o=t[n];e[n]=Hs(o,r)?s[o]:i}return e}(w,u):g&&m>1&&w.reverse(),h&&l<m&&(w.length=l),this&&this!==jt&&this instanceof v&&(R=y||hs(R)),R.apply(T,w)}}function gs(e,t){return function(r,n){return function(e,t,r,n){return Zn(e,function(e,i,s){t(n,r(e),i,s)}),n}(r,e,t(n),{})}}function vs(e,t){return function(r,n){var s;if(r===i&&n===i)return t;if(r!==i&&(s=r),n!==i){if(s===i)return n;"string"==typeof r||"string"==typeof n?(r=Wi(r),n=Wi(n)):(r=Pi(r),n=Pi(n)),s=e(r,n)}return s}}function ms(e){return Is(function(t){return t=Xt(t,vr(Ps())),Ti(function(r){var n=this;return e(t,function(e){return Vt(e,n,r)})})})}function ys(e,t){var r=(t=t===i?" ":Wi(t)).length;if(r<2)return r?Si(t,e):t;var n=Si(t,qr(e/Ir(t)));return Tr(t)?Ki(Nr(n),0,e).join(""):n.slice(0,e)}function ws(e){return function(t,r,s){return s&&"number"!=typeof s&&Js(t,r,s)&&(r=s=i),t=$a(t),r===i?(r=t,t=0):r=$a(r),function(e,t,r,i){for(var s=-1,o=Gr(qr((t-e)/(r||1)),0),a=n(o);o--;)a[i?o:++s]=e,e+=r;return a}(t,r,s=s===i?t<r?1:-1:$a(s),e)}}function ks(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Va(t),r=Va(r)),e(t,r)}}function Es(e,t,r,n,s,o,a,c,u,l){var f=t&w;t|=f?E:b,(t&=~(f?b:E))&y||(t&=~(v|m));var h=[e,t,s,f?o:i,f?a:i,f?i:o,f?i:a,c,u,l],d=r.apply(i,h);return Ks(e)&&io(d,h),d.placeholder=n,ao(d,e,t)}function bs(e){var t=et[e];return function(e,r){if(e=Va(e),(r=null==r?0:Hr(Ma(r),292))&&Mr(e)){var n=(Ha(e)+"e").split("e");return+((n=(Ha(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Ss=tn&&1/Ar(new tn([,-0]))[1]==j?function(e){return new tn(e)}:Pc;function Ts(e){return function(t){var r=Ms(t);return r==K?Rr(t):r==re?Or(t):function(e,t){return Xt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Rs(e,t,r,s,o,c,u,l){var h=t&m;if(!h&&"function"!=typeof e)throw new it(a);var d=s?s.length:0;if(d||(t&=~(E|b),s=o=i),u=u===i?u:Gr(Ma(u),0),l=l===i?l:Ma(l),d-=o?o.length:0,t&b){var p=s,_=o;s=o=i}var g=h?i:Ls(e),R=[e,t,r,s,o,p,_,c,u,l];if(g&&function(e,t){var r=e[1],n=t[1],i=r|n,s=i<(v|m|S),o=n==S&&r==w||n==S&&r==T&&e[7].length<=t[8]||n==(S|T)&&t[7].length<=t[8]&&r==w;if(!s&&!o)return e;n&v&&(e[2]=t[2],i|=r&v?0:y);var a=t[3];if(a){var c=e[3];e[3]=c?rs(c,a,t[4]):a,e[4]=c?Cr(e[3],f):t[4]}(a=t[5])&&(c=e[5],e[5]=c?ns(c,a,t[6]):a,e[6]=c?Cr(e[5],f):t[6]),(a=t[7])&&(e[7]=a),n&S&&(e[8]=null==e[8]?t[8]:Hr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(R,g),e=R[0],t=R[1],r=R[2],s=R[3],o=R[4],!(l=R[9]=R[9]===i?h?0:e.length:Gr(R[9]-d,0))&&t&(w|k)&&(t&=~(w|k)),t&&t!=v)x=t==w||t==k?function(e,t,r){var s=hs(e);return function o(){for(var a=arguments.length,c=n(a),u=a,l=Fs(o);u--;)c[u]=arguments[u];var f=a<3&&c[0]!==l&&c[a-1]!==l?[]:Cr(c,l);return(a-=f.length)<r?Es(e,t,_s,o.placeholder,i,c,f,i,i,r-a):Vt(this&&this!==jt&&this instanceof o?s:e,this,c)}}(e,t,l):t!=E&&t!=(v|E)||o.length?_s.apply(i,R):function(e,t,r,i){var s=t&v,o=hs(e);return function t(){for(var a=-1,c=arguments.length,u=-1,l=i.length,f=n(l+c),h=this&&this!==jt&&this instanceof t?o:e;++u<l;)f[u]=i[u];for(;c--;)f[u++]=arguments[++a];return Vt(h,s?r:this,f)}}(e,t,r,s);else var x=function(e,t,r){var n=t&v,i=hs(e);return function t(){return(this&&this!==jt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return ao((g?Ai:io)(x,R),e,t)}function xs(e,t,r,n){return e===i||_a(e,at[r])&&!lt.call(n,r)?t:e}function Cs(e,t,r,n,s,o){return Aa(e)&&Aa(t)&&(o.set(t,e),vi(e,t,i,Cs,o),o.delete(t)),e}function As(e){return ja(e)?i:e}function Os(e,t,r,n,s,o){var a=r&_,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=r&g?new bn:i;for(o.set(e,t),o.set(t,e);++h<c;){var v=e[h],m=t[h];if(n)var y=a?n(m,v,h,t,e,o):n(v,m,h,e,t,o);if(y!==i){if(y)continue;d=!1;break}if(p){if(!nr(t,function(e,t){if(!yr(p,t)&&(v===e||s(v,e,r,n,o)))return p.push(t)})){d=!1;break}}else if(v!==m&&!s(v,m,r,n,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Is(e){return oo(to(e,i,wo),e+"")}function Ns(e){return Xn(e,oc,Bs)}function js(e){return Xn(e,ac,$s)}var Ls=sn?function(e){return sn.get(e)}:Pc;function Us(e){for(var t=e.name+"",r=on[t],n=lt.call(on,t)?r.length:0;n--;){var i=r[n],s=i.func;if(null==s||s==e)return i.name}return t}function Fs(e){return(lt.call(_n,"placeholder")?_n:e).placeholder}function Ps(){var e=_n.iteratee||jc;return e=e===jc?li:e,arguments.length?e(arguments[0],arguments[1]):e}function Ws(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function qs(e){for(var t=oc(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Xs(i)]}return t}function Ds(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return ui(r)?r:i}var Bs=Br?function(e){return null==e?[]:(e=tt(e),Kt(Br(e),function(t){return Lt.call(e,t)}))}:zc,$s=Br?function(e){for(var t=[];e;)er(t,Bs(e)),e=It(e);return t}:zc,Ms=ei;function zs(e,t,r){for(var n=-1,i=(t=Ji(t,e)).length,s=!1;++n<i;){var o=fo(t[n]);if(!(s=null!=e&&r(e,o)))break;e=e[o]}return s||++n!=i?s:!!(i=null==e?0:e.length)&&Ca(i)&&Hs(o,i)&&(ya(e)||ma(e))}function Vs(e){return"function"!=typeof e.constructor||Ys(e)?{}:gn(It(e))}function Gs(e){return ya(e)||ma(e)||!!(Pt&&e&&e[Pt])}function Hs(e,t){var r=typeof e;return!!(t=null==t?L:t)&&("number"==r||"symbol"!=r&&Je.test(e))&&e>-1&&e%1==0&&e<t}function Js(e,t,r){if(!Aa(r))return!1;var n=typeof t;return!!("number"==n?ka(r)&&Hs(t,r.length):"string"==n&&t in r)&&_a(r[t],e)}function Zs(e,t){if(ya(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Pa(e))||Oe.test(e)||!Ae.test(e)||null!=t&&e in tt(t)}function Ks(e){var t=Us(e),r=_n[t];if("function"!=typeof r||!(t in yn.prototype))return!1;if(e===r)return!0;var n=Ls(r);return!!n&&e===n[0]}(Yr&&Ms(new Yr(new ArrayBuffer(1)))!=ue||Xr&&Ms(new Xr)!=K||en&&"[object Promise]"!=Ms(en.resolve())||tn&&Ms(new tn)!=re||rn&&Ms(new rn)!=oe)&&(Ms=function(e){var t=ei(e),r=t==X?e.constructor:i,n=r?ho(r):"";if(n)switch(n){case an:return ue;case cn:return K;case un:return"[object Promise]";case ln:return re;case fn:return oe}return t});var Qs=ct?Ra:Vc;function Ys(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||at)}function Xs(e){return e==e&&!Aa(e)}function eo(e,t){return function(r){return null!=r&&r[e]===t&&(t!==i||e in tt(r))}}function to(e,t,r){return t=Gr(t===i?e.length-1:t,0),function(){for(var i=arguments,s=-1,o=Gr(i.length-t,0),a=n(o);++s<o;)a[s]=i[t+s];s=-1;for(var c=n(t+1);++s<t;)c[s]=i[s];return c[t]=r(a),Vt(e,this,c)}}function ro(e,t){return t.length<2?e:Yn(e,Ni(t,0,-1))}function no(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var io=co(Ai),so=Wr||function(e,t){return jt.setTimeout(e,t)},oo=co(Oi);function ao(e,t,r){var n=t+"";return oo(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Fe,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Ht(D,function(r){var n="_."+r[0];t&r[1]&&!Qt(e,n)&&e.push(n)}),e.sort()}(function(e){var t=e.match(Pe);return t?t[1].split(We):[]}(n),r)))}function co(e){var t=0,r=0;return function(){var n=Jr(),s=O-(n-r);if(r=n,s>0){if(++t>=A)return arguments[0]}else t=0;return e.apply(i,arguments)}}function uo(e,t){var r=-1,n=e.length,s=n-1;for(t=t===i?n:t;++r<t;){var o=bi(r,s),a=e[o];e[o]=e[r],e[r]=a}return e.length=t,e}var lo=function(e){var t=ua(e,function(e){return r.size===l&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ie,function(e,r,n,i){t.push(n?i.replace(Be,"$1"):r||e)}),t});function fo(e){if("string"==typeof e||Pa(e))return e;var t=e+"";return"0"==t&&1/e==-j?"-0":t}function ho(e){if(null!=e){try{return ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function po(e){if(e instanceof yn)return e.clone();var t=new mn(e.__wrapped__,e.__chain__);return t.__actions__=is(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var _o=Ti(function(e,t){return Ea(e)?Dn(e,Gn(t,1,Ea,!0)):[]}),go=Ti(function(e,t){var r=To(t);return Ea(r)&&(r=i),Ea(e)?Dn(e,Gn(t,1,Ea,!0),Ps(r,2)):[]}),vo=Ti(function(e,t){var r=To(t);return Ea(r)&&(r=i),Ea(e)?Dn(e,Gn(t,1,Ea,!0),i,r):[]});function mo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Ma(r);return i<0&&(i=Gr(n+i,0)),or(e,Ps(t,3),i)}function yo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var s=n-1;return r!==i&&(s=Ma(r),s=r<0?Gr(n+s,0):Hr(s,n-1)),or(e,Ps(t,3),s,!0)}function wo(e){return null!=e&&e.length?Gn(e,1):[]}function ko(e){return e&&e.length?e[0]:i}var Eo=Ti(function(e){var t=Xt(e,Gi);return t.length&&t[0]===e[0]?ii(t):[]}),bo=Ti(function(e){var t=To(e),r=Xt(e,Gi);return t===To(r)?t=i:r.pop(),r.length&&r[0]===e[0]?ii(r,Ps(t,2)):[]}),So=Ti(function(e){var t=To(e),r=Xt(e,Gi);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?ii(r,i,t):[]});function To(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ro=Ti(xo);function xo(e,t){return e&&e.length&&t&&t.length?ki(e,t):e}var Co=Is(function(e,t){var r=null==e?0:e.length,n=Un(e,t);return Ei(e,Xt(t,function(e){return Hs(e,r)?+e:e}).sort(ts)),n});function Ao(e){return null==e?e:Qr.call(e)}var Oo=Ti(function(e){return qi(Gn(e,1,Ea,!0))}),Io=Ti(function(e){var t=To(e);return Ea(t)&&(t=i),qi(Gn(e,1,Ea,!0),Ps(t,2))}),No=Ti(function(e){var t=To(e);return t="function"==typeof t?t:i,qi(Gn(e,1,Ea,!0),i,t)});function jo(e){if(!e||!e.length)return[];var t=0;return e=Kt(e,function(e){if(Ea(e))return t=Gr(e.length,t),!0}),_r(t,function(t){return Xt(e,fr(t))})}function Lo(e,t){if(!e||!e.length)return[];var r=jo(e);return null==t?r:Xt(r,function(e){return Vt(t,i,e)})}var Uo=Ti(function(e,t){return Ea(e)?Dn(e,t):[]}),Fo=Ti(function(e){return zi(Kt(e,Ea))}),Po=Ti(function(e){var t=To(e);return Ea(t)&&(t=i),zi(Kt(e,Ea),Ps(t,2))}),Wo=Ti(function(e){var t=To(e);return t="function"==typeof t?t:i,zi(Kt(e,Ea),i,t)}),qo=Ti(jo);var Do=Ti(function(e){var t=e.length,r=t>1?e[t-1]:i;return Lo(e,r="function"==typeof r?(e.pop(),r):i)});function Bo(e){var t=_n(e);return t.__chain__=!0,t}function $o(e,t){return t(e)}var Mo=Is(function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,s=function(t){return Un(t,e)};return!(t>1||this.__actions__.length)&&n instanceof yn&&Hs(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:$o,args:[s],thisArg:i}),new mn(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(i),e})):this.thru(s)});var zo=os(function(e,t,r){lt.call(e,r)?++e[r]:Ln(e,r,1)});var Vo=ds(mo),Go=ds(yo);function Ho(e,t){return(ya(e)?Ht:Bn)(e,Ps(t,3))}function Jo(e,t){return(ya(e)?Jt:$n)(e,Ps(t,3))}var Zo=os(function(e,t,r){lt.call(e,r)?e[r].push(t):Ln(e,r,[t])});var Ko=Ti(function(e,t,r){var i=-1,s="function"==typeof t,o=ka(e)?n(e.length):[];return Bn(e,function(e){o[++i]=s?Vt(t,e,r):si(e,t,r)}),o}),Qo=os(function(e,t,r){Ln(e,r,t)});function Yo(e,t){return(ya(e)?Xt:pi)(e,Ps(t,3))}var Xo=os(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});var ea=Ti(function(e,t){if(null==e)return[];var r=t.length;return r>1&&Js(e,t[0],t[1])?t=[]:r>2&&Js(t[0],t[1],t[2])&&(t=[t[0]]),yi(e,Gn(t,1),[])}),ta=Pr||function(){return jt.Date.now()};function ra(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Rs(e,S,i,i,i,i,t)}function na(e,t){var r;if("function"!=typeof t)throw new it(a);return e=Ma(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var ia=Ti(function(e,t,r){var n=v;if(r.length){var i=Cr(r,Fs(ia));n|=E}return Rs(e,n,t,r,i)}),sa=Ti(function(e,t,r){var n=v|m;if(r.length){var i=Cr(r,Fs(sa));n|=E}return Rs(t,n,e,r,i)});function oa(e,t,r){var n,s,o,c,u,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new it(a);function _(t){var r=n,o=s;return n=s=i,f=t,c=e.apply(o,r)}function g(e){var r=e-l;return l===i||r>=t||r<0||d&&e-f>=o}function v(){var e=ta();if(g(e))return m(e);u=so(v,function(e){var r=t-(e-l);return d?Hr(r,o-(e-f)):r}(e))}function m(e){return u=i,p&&n?_(e):(n=s=i,c)}function y(){var e=ta(),r=g(e);if(n=arguments,s=this,l=e,r){if(u===i)return function(e){return f=e,u=so(v,t),h?_(e):c}(l);if(d)return Qi(u),u=so(v,t),_(l)}return u===i&&(u=so(v,t)),c}return t=Va(t)||0,Aa(r)&&(h=!!r.leading,o=(d="maxWait"in r)?Gr(Va(r.maxWait)||0,t):o,p="trailing"in r?!!r.trailing:p),y.cancel=function(){u!==i&&Qi(u),f=0,n=l=s=u=i},y.flush=function(){return u===i?c:m(ta())},y}var aa=Ti(function(e,t){return qn(e,1,t)}),ca=Ti(function(e,t,r){return qn(e,Va(t)||0,r)});function ua(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new it(a);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(ua.Cache||En),r}function la(e){if("function"!=typeof e)throw new it(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ua.Cache=En;var fa=Zi(function(e,t){var r=(t=1==t.length&&ya(t[0])?Xt(t[0],vr(Ps())):Xt(Gn(t,1),vr(Ps()))).length;return Ti(function(n){for(var i=-1,s=Hr(n.length,r);++i<s;)n[i]=t[i].call(this,n[i]);return Vt(e,this,n)})}),ha=Ti(function(e,t){var r=Cr(t,Fs(ha));return Rs(e,E,i,t,r)}),da=Ti(function(e,t){var r=Cr(t,Fs(da));return Rs(e,b,i,t,r)}),pa=Is(function(e,t){return Rs(e,T,i,i,i,t)});function _a(e,t){return e===t||e!=e&&t!=t}var ga=ks(ti),va=ks(function(e,t){return e>=t}),ma=oi(function(){return arguments}())?oi:function(e){return Oa(e)&&lt.call(e,"callee")&&!Lt.call(e,"callee")},ya=n.isArray,wa=qt?vr(qt):function(e){return Oa(e)&&ei(e)==ce};function ka(e){return null!=e&&Ca(e.length)&&!Ra(e)}function Ea(e){return Oa(e)&&ka(e)}var ba=$r||Vc,Sa=Dt?vr(Dt):function(e){return Oa(e)&&ei(e)==V};function Ta(e){if(!Oa(e))return!1;var t=ei(e);return t==H||t==G||"string"==typeof e.message&&"string"==typeof e.name&&!ja(e)}function Ra(e){if(!Aa(e))return!1;var t=ei(e);return t==J||t==Z||t==M||t==ee}function xa(e){return"number"==typeof e&&e==Ma(e)}function Ca(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=L}function Aa(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Oa(e){return null!=e&&"object"==typeof e}var Ia=Bt?vr(Bt):function(e){return Oa(e)&&Ms(e)==K};function Na(e){return"number"==typeof e||Oa(e)&&ei(e)==Q}function ja(e){if(!Oa(e)||ei(e)!=X)return!1;var t=It(e);if(null===t)return!0;var r=lt.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ut.call(r)==pt}var La=$t?vr($t):function(e){return Oa(e)&&ei(e)==te};var Ua=Mt?vr(Mt):function(e){return Oa(e)&&Ms(e)==re};function Fa(e){return"string"==typeof e||!ya(e)&&Oa(e)&&ei(e)==ne}function Pa(e){return"symbol"==typeof e||Oa(e)&&ei(e)==ie}var Wa=zt?vr(zt):function(e){return Oa(e)&&Ca(e.length)&&!!Rt[ei(e)]};var qa=ks(di),Da=ks(function(e,t){return e<=t});function Ba(e){if(!e)return[];if(ka(e))return Fa(e)?Nr(e):is(e);if(Wt&&e[Wt])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Wt]());var t=Ms(e);return(t==K?Rr:t==re?Ar:_c)(e)}function $a(e){return e?(e=Va(e))===j||e===-j?(e<0?-1:1)*U:e==e?e:0:0===e?e:0}function Ma(e){var t=$a(e),r=t%1;return t==t?r?t-r:t:0}function za(e){return e?Fn(Ma(e),0,P):0}function Va(e){if("number"==typeof e)return e;if(Pa(e))return F;if(Aa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Aa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=gr(e);var r=Ve.test(e);return r||He.test(e)?Ot(e.slice(2),r?2:8):ze.test(e)?F:+e}function Ga(e){return ss(e,ac(e))}function Ha(e){return null==e?"":Wi(e)}var Ja=as(function(e,t){if(Ys(t)||ka(t))ss(t,oc(t),e);else for(var r in t)lt.call(t,r)&&On(e,r,t[r])}),Za=as(function(e,t){ss(t,ac(t),e)}),Ka=as(function(e,t,r,n){ss(t,ac(t),e,n)}),Qa=as(function(e,t,r,n){ss(t,oc(t),e,n)}),Ya=Is(Un);var Xa=Ti(function(e,t){e=tt(e);var r=-1,n=t.length,s=n>2?t[2]:i;for(s&&Js(t[0],t[1],s)&&(n=1);++r<n;)for(var o=t[r],a=ac(o),c=-1,u=a.length;++c<u;){var l=a[c],f=e[l];(f===i||_a(f,at[l])&&!lt.call(e,l))&&(e[l]=o[l])}return e}),ec=Ti(function(e){return e.push(i,Cs),Vt(uc,i,e)});function tc(e,t,r){var n=null==e?i:Yn(e,t);return n===i?r:n}function rc(e,t){return null!=e&&zs(e,t,ni)}var nc=gs(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),e[t]=r},Ac(Nc)),ic=gs(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),lt.call(e,t)?e[t].push(r):e[t]=[r]},Ps),sc=Ti(si);function oc(e){return ka(e)?Tn(e):fi(e)}function ac(e){return ka(e)?Tn(e,!0):hi(e)}var cc=as(function(e,t,r){vi(e,t,r)}),uc=as(function(e,t,r,n){vi(e,t,r,n)}),lc=Is(function(e,t){var r={};if(null==e)return r;var n=!1;t=Xt(t,function(t){return t=Ji(t,e),n||(n=t.length>1),t}),ss(e,js(e),r),n&&(r=Pn(r,h|d|p,As));for(var i=t.length;i--;)Di(r,t[i]);return r});var fc=Is(function(e,t){return null==e?{}:function(e,t){return wi(e,t,function(t,r){return rc(e,r)})}(e,t)});function hc(e,t){if(null==e)return{};var r=Xt(js(e),function(e){return[e]});return t=Ps(t),wi(e,r,function(e,r){return t(e,r[0])})}var dc=Ts(oc),pc=Ts(ac);function _c(e){return null==e?[]:mr(e,oc(e))}var gc=fs(function(e,t,r){return t=t.toLowerCase(),e+(r?vc(t):t)});function vc(e){return Tc(Ha(e).toLowerCase())}function mc(e){return(e=Ha(e))&&e.replace(Ze,Er).replace(yt,"")}var yc=fs(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),wc=fs(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),kc=ls("toLowerCase");var Ec=fs(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});var bc=fs(function(e,t,r){return e+(r?" ":"")+Tc(t)});var Sc=fs(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),Tc=ls("toUpperCase");function Rc(e,t,r){return e=Ha(e),(t=r?i:t)===i?function(e){return bt.test(e)}(e)?function(e){return e.match(kt)||[]}(e):function(e){return e.match(qe)||[]}(e):e.match(t)||[]}var xc=Ti(function(e,t){try{return Vt(e,i,t)}catch(e){return Ta(e)?e:new Ye(e)}}),Cc=Is(function(e,t){return Ht(t,function(t){t=fo(t),Ln(e,t,ia(e[t],e))}),e});function Ac(e){return function(){return e}}var Oc=ps(),Ic=ps(!0);function Nc(e){return e}function jc(e){return li("function"==typeof e?e:Pn(e,h))}var Lc=Ti(function(e,t){return function(r){return si(r,e,t)}}),Uc=Ti(function(e,t){return function(r){return si(e,r,t)}});function Fc(e,t,r){var n=oc(t),i=Qn(t,n);null!=r||Aa(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Qn(t,oc(t)));var s=!(Aa(r)&&"chain"in r&&!r.chain),o=Ra(e);return Ht(i,function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(s||t){var r=e(this.__wrapped__);return(r.__actions__=is(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,er([this.value()],arguments))})}),e}function Pc(){}var Wc=ms(Xt),qc=ms(Zt),Dc=ms(nr);function Bc(e){return Zs(e)?fr(fo(e)):function(e){return function(t){return Yn(t,e)}}(e)}var $c=ws(),Mc=ws(!0);function zc(){return[]}function Vc(){return!1}var Gc=vs(function(e,t){return e+t},0),Hc=bs("ceil"),Jc=vs(function(e,t){return e/t},1),Zc=bs("floor");var Kc,Qc=vs(function(e,t){return e*t},1),Yc=bs("round"),Xc=vs(function(e,t){return e-t},0);return _n.after=function(e,t){if("function"!=typeof t)throw new it(a);return e=Ma(e),function(){if(--e<1)return t.apply(this,arguments)}},_n.ary=ra,_n.assign=Ja,_n.assignIn=Za,_n.assignInWith=Ka,_n.assignWith=Qa,_n.at=Ya,_n.before=na,_n.bind=ia,_n.bindAll=Cc,_n.bindKey=sa,_n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ya(e)?e:[e]},_n.chain=Bo,_n.chunk=function(e,t,r){t=(r?Js(e,t,r):t===i)?1:Gr(Ma(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var o=0,a=0,c=n(qr(s/t));o<s;)c[a++]=Ni(e,o,o+=t);return c},_n.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var s=e[t];s&&(i[n++]=s)}return i},_n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return er(ya(r)?is(r):[r],Gn(t,1))},_n.cond=function(e){var t=null==e?0:e.length,r=Ps();return e=t?Xt(e,function(e){if("function"!=typeof e[1])throw new it(a);return[r(e[0]),e[1]]}):[],Ti(function(r){for(var n=-1;++n<t;){var i=e[n];if(Vt(i[0],this,r))return Vt(i[1],this,r)}})},_n.conforms=function(e){return function(e){var t=oc(e);return function(r){return Wn(r,e,t)}}(Pn(e,h))},_n.constant=Ac,_n.countBy=zo,_n.create=function(e,t){var r=gn(e);return null==t?r:jn(r,t)},_n.curry=function e(t,r,n){var s=Rs(t,w,i,i,i,i,i,r=n?i:r);return s.placeholder=e.placeholder,s},_n.curryRight=function e(t,r,n){var s=Rs(t,k,i,i,i,i,i,r=n?i:r);return s.placeholder=e.placeholder,s},_n.debounce=oa,_n.defaults=Xa,_n.defaultsDeep=ec,_n.defer=aa,_n.delay=ca,_n.difference=_o,_n.differenceBy=go,_n.differenceWith=vo,_n.drop=function(e,t,r){var n=null==e?0:e.length;return n?Ni(e,(t=r||t===i?1:Ma(t))<0?0:t,n):[]},_n.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?Ni(e,0,(t=n-(t=r||t===i?1:Ma(t)))<0?0:t):[]},_n.dropRightWhile=function(e,t){return e&&e.length?$i(e,Ps(t,3),!0,!0):[]},_n.dropWhile=function(e,t){return e&&e.length?$i(e,Ps(t,3),!0):[]},_n.fill=function(e,t,r,n){var s=null==e?0:e.length;return s?(r&&"number"!=typeof r&&Js(e,t,r)&&(r=0,n=s),function(e,t,r,n){var s=e.length;for((r=Ma(r))<0&&(r=-r>s?0:s+r),(n=n===i||n>s?s:Ma(n))<0&&(n+=s),n=r>n?0:za(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},_n.filter=function(e,t){return(ya(e)?Kt:Vn)(e,Ps(t,3))},_n.flatMap=function(e,t){return Gn(Yo(e,t),1)},_n.flatMapDeep=function(e,t){return Gn(Yo(e,t),j)},_n.flatMapDepth=function(e,t,r){return r=r===i?1:Ma(r),Gn(Yo(e,t),r)},_n.flatten=wo,_n.flattenDeep=function(e){return null!=e&&e.length?Gn(e,j):[]},_n.flattenDepth=function(e,t){return null!=e&&e.length?Gn(e,t=t===i?1:Ma(t)):[]},_n.flip=function(e){return Rs(e,R)},_n.flow=Oc,_n.flowRight=Ic,_n.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},_n.functions=function(e){return null==e?[]:Qn(e,oc(e))},_n.functionsIn=function(e){return null==e?[]:Qn(e,ac(e))},_n.groupBy=Zo,_n.initial=function(e){return null!=e&&e.length?Ni(e,0,-1):[]},_n.intersection=Eo,_n.intersectionBy=bo,_n.intersectionWith=So,_n.invert=nc,_n.invertBy=ic,_n.invokeMap=Ko,_n.iteratee=jc,_n.keyBy=Qo,_n.keys=oc,_n.keysIn=ac,_n.map=Yo,_n.mapKeys=function(e,t){var r={};return t=Ps(t,3),Zn(e,function(e,n,i){Ln(r,t(e,n,i),e)}),r},_n.mapValues=function(e,t){var r={};return t=Ps(t,3),Zn(e,function(e,n,i){Ln(r,n,t(e,n,i))}),r},_n.matches=function(e){return _i(Pn(e,h))},_n.matchesProperty=function(e,t){return gi(e,Pn(t,h))},_n.memoize=ua,_n.merge=cc,_n.mergeWith=uc,_n.method=Lc,_n.methodOf=Uc,_n.mixin=Fc,_n.negate=la,_n.nthArg=function(e){return e=Ma(e),Ti(function(t){return mi(t,e)})},_n.omit=lc,_n.omitBy=function(e,t){return hc(e,la(Ps(t)))},_n.once=function(e){return na(2,e)},_n.orderBy=function(e,t,r,n){return null==e?[]:(ya(t)||(t=null==t?[]:[t]),ya(r=n?i:r)||(r=null==r?[]:[r]),yi(e,t,r))},_n.over=Wc,_n.overArgs=fa,_n.overEvery=qc,_n.overSome=Dc,_n.partial=ha,_n.partialRight=da,_n.partition=Xo,_n.pick=fc,_n.pickBy=hc,_n.property=Bc,_n.propertyOf=function(e){return function(t){return null==e?i:Yn(e,t)}},_n.pull=Ro,_n.pullAll=xo,_n.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?ki(e,t,Ps(r,2)):e},_n.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?ki(e,t,i,r):e},_n.pullAt=Co,_n.range=$c,_n.rangeRight=Mc,_n.rearg=pa,_n.reject=function(e,t){return(ya(e)?Kt:Vn)(e,la(Ps(t,3)))},_n.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],s=e.length;for(t=Ps(t,3);++n<s;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return Ei(e,i),r},_n.rest=function(e,t){if("function"!=typeof e)throw new it(a);return Ti(e,t=t===i?t:Ma(t))},_n.reverse=Ao,_n.sampleSize=function(e,t,r){return t=(r?Js(e,t,r):t===i)?1:Ma(t),(ya(e)?xn:xi)(e,t)},_n.set=function(e,t,r){return null==e?e:Ci(e,t,r)},_n.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Ci(e,t,r,n)},_n.shuffle=function(e){return(ya(e)?Cn:Ii)(e)},_n.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&Js(e,t,r)?(t=0,r=n):(t=null==t?0:Ma(t),r=r===i?n:Ma(r)),Ni(e,t,r)):[]},_n.sortBy=ea,_n.sortedUniq=function(e){return e&&e.length?Fi(e):[]},_n.sortedUniqBy=function(e,t){return e&&e.length?Fi(e,Ps(t,2)):[]},_n.split=function(e,t,r){return r&&"number"!=typeof r&&Js(e,t,r)&&(t=r=i),(r=r===i?P:r>>>0)?(e=Ha(e))&&("string"==typeof t||null!=t&&!La(t))&&!(t=Wi(t))&&Tr(e)?Ki(Nr(e),0,r):e.split(t,r):[]},_n.spread=function(e,t){if("function"!=typeof e)throw new it(a);return t=null==t?0:Gr(Ma(t),0),Ti(function(r){var n=r[t],i=Ki(r,0,t);return n&&er(i,n),Vt(e,this,i)})},_n.tail=function(e){var t=null==e?0:e.length;return t?Ni(e,1,t):[]},_n.take=function(e,t,r){return e&&e.length?Ni(e,0,(t=r||t===i?1:Ma(t))<0?0:t):[]},_n.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?Ni(e,(t=n-(t=r||t===i?1:Ma(t)))<0?0:t,n):[]},_n.takeRightWhile=function(e,t){return e&&e.length?$i(e,Ps(t,3),!1,!0):[]},_n.takeWhile=function(e,t){return e&&e.length?$i(e,Ps(t,3)):[]},_n.tap=function(e,t){return t(e),e},_n.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new it(a);return Aa(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),oa(e,t,{leading:n,maxWait:t,trailing:i})},_n.thru=$o,_n.toArray=Ba,_n.toPairs=dc,_n.toPairsIn=pc,_n.toPath=function(e){return ya(e)?Xt(e,fo):Pa(e)?[e]:is(lo(Ha(e)))},_n.toPlainObject=Ga,_n.transform=function(e,t,r){var n=ya(e),i=n||ba(e)||Wa(e);if(t=Ps(t,4),null==r){var s=e&&e.constructor;r=i?n?new s:[]:Aa(e)&&Ra(s)?gn(It(e)):{}}return(i?Ht:Zn)(e,function(e,n,i){return t(r,e,n,i)}),r},_n.unary=function(e){return ra(e,1)},_n.union=Oo,_n.unionBy=Io,_n.unionWith=No,_n.uniq=function(e){return e&&e.length?qi(e):[]},_n.uniqBy=function(e,t){return e&&e.length?qi(e,Ps(t,2)):[]},_n.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?qi(e,i,t):[]},_n.unset=function(e,t){return null==e||Di(e,t)},_n.unzip=jo,_n.unzipWith=Lo,_n.update=function(e,t,r){return null==e?e:Bi(e,t,Hi(r))},_n.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Bi(e,t,Hi(r),n)},_n.values=_c,_n.valuesIn=function(e){return null==e?[]:mr(e,ac(e))},_n.without=Uo,_n.words=Rc,_n.wrap=function(e,t){return ha(Hi(t),e)},_n.xor=Fo,_n.xorBy=Po,_n.xorWith=Wo,_n.zip=qo,_n.zipObject=function(e,t){return Vi(e||[],t||[],On)},_n.zipObjectDeep=function(e,t){return Vi(e||[],t||[],Ci)},_n.zipWith=Do,_n.entries=dc,_n.entriesIn=pc,_n.extend=Za,_n.extendWith=Ka,Fc(_n,_n),_n.add=Gc,_n.attempt=xc,_n.camelCase=gc,_n.capitalize=vc,_n.ceil=Hc,_n.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=Va(r))==r?r:0),t!==i&&(t=(t=Va(t))==t?t:0),Fn(Va(e),t,r)},_n.clone=function(e){return Pn(e,p)},_n.cloneDeep=function(e){return Pn(e,h|p)},_n.cloneDeepWith=function(e,t){return Pn(e,h|p,t="function"==typeof t?t:i)},_n.cloneWith=function(e,t){return Pn(e,p,t="function"==typeof t?t:i)},_n.conformsTo=function(e,t){return null==t||Wn(e,t,oc(t))},_n.deburr=mc,_n.defaultTo=function(e,t){return null==e||e!=e?t:e},_n.divide=Jc,_n.endsWith=function(e,t,r){e=Ha(e),t=Wi(t);var n=e.length,s=r=r===i?n:Fn(Ma(r),0,n);return(r-=t.length)>=0&&e.slice(r,s)==t},_n.eq=_a,_n.escape=function(e){return(e=Ha(e))&&Te.test(e)?e.replace(be,br):e},_n.escapeRegExp=function(e){return(e=Ha(e))&&je.test(e)?e.replace(Ne,"\\$&"):e},_n.every=function(e,t,r){var n=ya(e)?Zt:Mn;return r&&Js(e,t,r)&&(t=i),n(e,Ps(t,3))},_n.find=Vo,_n.findIndex=mo,_n.findKey=function(e,t){return sr(e,Ps(t,3),Zn)},_n.findLast=Go,_n.findLastIndex=yo,_n.findLastKey=function(e,t){return sr(e,Ps(t,3),Kn)},_n.floor=Zc,_n.forEach=Ho,_n.forEachRight=Jo,_n.forIn=function(e,t){return null==e?e:Hn(e,Ps(t,3),ac)},_n.forInRight=function(e,t){return null==e?e:Jn(e,Ps(t,3),ac)},_n.forOwn=function(e,t){return e&&Zn(e,Ps(t,3))},_n.forOwnRight=function(e,t){return e&&Kn(e,Ps(t,3))},_n.get=tc,_n.gt=ga,_n.gte=va,_n.has=function(e,t){return null!=e&&zs(e,t,ri)},_n.hasIn=rc,_n.head=ko,_n.identity=Nc,_n.includes=function(e,t,r,n){e=ka(e)?e:_c(e),r=r&&!n?Ma(r):0;var i=e.length;return r<0&&(r=Gr(i+r,0)),Fa(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&ar(e,t,r)>-1},_n.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Ma(r);return i<0&&(i=Gr(n+i,0)),ar(e,t,i)},_n.inRange=function(e,t,r){return t=$a(t),r===i?(r=t,t=0):r=$a(r),function(e,t,r){return e>=Hr(t,r)&&e<Gr(t,r)}(e=Va(e),t,r)},_n.invoke=sc,_n.isArguments=ma,_n.isArray=ya,_n.isArrayBuffer=wa,_n.isArrayLike=ka,_n.isArrayLikeObject=Ea,_n.isBoolean=function(e){return!0===e||!1===e||Oa(e)&&ei(e)==z},_n.isBuffer=ba,_n.isDate=Sa,_n.isElement=function(e){return Oa(e)&&1===e.nodeType&&!ja(e)},_n.isEmpty=function(e){if(null==e)return!0;if(ka(e)&&(ya(e)||"string"==typeof e||"function"==typeof e.splice||ba(e)||Wa(e)||ma(e)))return!e.length;var t=Ms(e);if(t==K||t==re)return!e.size;if(Ys(e))return!fi(e).length;for(var r in e)if(lt.call(e,r))return!1;return!0},_n.isEqual=function(e,t){return ai(e,t)},_n.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?ai(e,t,i,r):!!n},_n.isError=Ta,_n.isFinite=function(e){return"number"==typeof e&&Mr(e)},_n.isFunction=Ra,_n.isInteger=xa,_n.isLength=Ca,_n.isMap=Ia,_n.isMatch=function(e,t){return e===t||ci(e,t,qs(t))},_n.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,ci(e,t,qs(t),r)},_n.isNaN=function(e){return Na(e)&&e!=+e},_n.isNative=function(e){if(Qs(e))throw new Ye(o);return ui(e)},_n.isNil=function(e){return null==e},_n.isNull=function(e){return null===e},_n.isNumber=Na,_n.isObject=Aa,_n.isObjectLike=Oa,_n.isPlainObject=ja,_n.isRegExp=La,_n.isSafeInteger=function(e){return xa(e)&&e>=-L&&e<=L},_n.isSet=Ua,_n.isString=Fa,_n.isSymbol=Pa,_n.isTypedArray=Wa,_n.isUndefined=function(e){return e===i},_n.isWeakMap=function(e){return Oa(e)&&Ms(e)==oe},_n.isWeakSet=function(e){return Oa(e)&&ei(e)==ae},_n.join=function(e,t){return null==e?"":zr.call(e,t)},_n.kebabCase=yc,_n.last=To,_n.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var s=n;return r!==i&&(s=(s=Ma(r))<0?Gr(n+s,0):Hr(s,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,s):or(e,ur,s,!0)},_n.lowerCase=wc,_n.lowerFirst=kc,_n.lt=qa,_n.lte=Da,_n.max=function(e){return e&&e.length?zn(e,Nc,ti):i},_n.maxBy=function(e,t){return e&&e.length?zn(e,Ps(t,2),ti):i},_n.mean=function(e){return lr(e,Nc)},_n.meanBy=function(e,t){return lr(e,Ps(t,2))},_n.min=function(e){return e&&e.length?zn(e,Nc,di):i},_n.minBy=function(e,t){return e&&e.length?zn(e,Ps(t,2),di):i},_n.stubArray=zc,_n.stubFalse=Vc,_n.stubObject=function(){return{}},_n.stubString=function(){return""},_n.stubTrue=function(){return!0},_n.multiply=Qc,_n.nth=function(e,t){return e&&e.length?mi(e,Ma(t)):i},_n.noConflict=function(){return jt._===this&&(jt._=_t),this},_n.noop=Pc,_n.now=ta,_n.pad=function(e,t,r){e=Ha(e);var n=(t=Ma(t))?Ir(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return ys(Dr(i),r)+e+ys(qr(i),r)},_n.padEnd=function(e,t,r){e=Ha(e);var n=(t=Ma(t))?Ir(e):0;return t&&n<t?e+ys(t-n,r):e},_n.padStart=function(e,t,r){e=Ha(e);var n=(t=Ma(t))?Ir(e):0;return t&&n<t?ys(t-n,r)+e:e},_n.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),Zr(Ha(e).replace(Le,""),t||0)},_n.random=function(e,t,r){if(r&&"boolean"!=typeof r&&Js(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=$a(e),t===i?(t=e,e=0):t=$a(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var s=Kr();return Hr(e+s*(t-e+At("1e-"+((s+"").length-1))),t)}return bi(e,t)},_n.reduce=function(e,t,r){var n=ya(e)?tr:dr,i=arguments.length<3;return n(e,Ps(t,4),r,i,Bn)},_n.reduceRight=function(e,t,r){var n=ya(e)?rr:dr,i=arguments.length<3;return n(e,Ps(t,4),r,i,$n)},_n.repeat=function(e,t,r){return t=(r?Js(e,t,r):t===i)?1:Ma(t),Si(Ha(e),t)},_n.replace=function(){var e=arguments,t=Ha(e[0]);return e.length<3?t:t.replace(e[1],e[2])},_n.result=function(e,t,r){var n=-1,s=(t=Ji(t,e)).length;for(s||(s=1,e=i);++n<s;){var o=null==e?i:e[fo(t[n])];o===i&&(n=s,o=r),e=Ra(o)?o.call(e):o}return e},_n.round=Yc,_n.runInContext=e,_n.sample=function(e){return(ya(e)?Rn:Ri)(e)},_n.size=function(e){if(null==e)return 0;if(ka(e))return Fa(e)?Ir(e):e.length;var t=Ms(e);return t==K||t==re?e.size:fi(e).length},_n.snakeCase=Ec,_n.some=function(e,t,r){var n=ya(e)?nr:ji;return r&&Js(e,t,r)&&(t=i),n(e,Ps(t,3))},_n.sortedIndex=function(e,t){return Li(e,t)},_n.sortedIndexBy=function(e,t,r){return Ui(e,t,Ps(r,2))},_n.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=Li(e,t);if(n<r&&_a(e[n],t))return n}return-1},_n.sortedLastIndex=function(e,t){return Li(e,t,!0)},_n.sortedLastIndexBy=function(e,t,r){return Ui(e,t,Ps(r,2),!0)},_n.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=Li(e,t,!0)-1;if(_a(e[r],t))return r}return-1},_n.startCase=bc,_n.startsWith=function(e,t,r){return e=Ha(e),r=null==r?0:Fn(Ma(r),0,e.length),t=Wi(t),e.slice(r,r+t.length)==t},_n.subtract=Xc,_n.sum=function(e){return e&&e.length?pr(e,Nc):0},_n.sumBy=function(e,t){return e&&e.length?pr(e,Ps(t,2)):0},_n.template=function(e,t,r){var n=_n.templateSettings;r&&Js(e,t,r)&&(t=i),e=Ha(e),t=Ka({},t,n,xs);var s,o,a=Ka({},t.imports,n.imports,xs),u=oc(a),l=mr(a,u),f=0,h=t.interpolate||Ke,d="__p += '",p=rt((t.escape||Ke).source+"|"+h.source+"|"+(h===Ce?$e:Ke).source+"|"+(t.evaluate||Ke).source+"|$","g"),_="//# sourceURL="+(lt.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tt+"]")+"\n";e.replace(p,function(t,r,n,i,a,c){return n||(n=i),d+=e.slice(f,c).replace(Qe,Sr),r&&(s=!0,d+="' +\n__e("+r+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=c+t.length,t}),d+="';\n";var g=lt.call(t,"variable")&&t.variable;if(g){if(De.test(g))throw new Ye(c)}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(ye,""):d).replace(we,"$1").replace(ke,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=xc(function(){return Xe(u,_+"return "+d).apply(i,l)});if(v.source=d,Ta(v))throw v;return v},_n.times=function(e,t){if((e=Ma(e))<1||e>L)return[];var r=P,n=Hr(e,P);t=Ps(t),e-=P;for(var i=_r(n,t);++r<e;)t(r);return i},_n.toFinite=$a,_n.toInteger=Ma,_n.toLength=za,_n.toLower=function(e){return Ha(e).toLowerCase()},_n.toNumber=Va,_n.toSafeInteger=function(e){return e?Fn(Ma(e),-L,L):0===e?e:0},_n.toString=Ha,_n.toUpper=function(e){return Ha(e).toUpperCase()},_n.trim=function(e,t,r){if((e=Ha(e))&&(r||t===i))return gr(e);if(!e||!(t=Wi(t)))return e;var n=Nr(e),s=Nr(t);return Ki(n,wr(n,s),kr(n,s)+1).join("")},_n.trimEnd=function(e,t,r){if((e=Ha(e))&&(r||t===i))return e.slice(0,jr(e)+1);if(!e||!(t=Wi(t)))return e;var n=Nr(e);return Ki(n,0,kr(n,Nr(t))+1).join("")},_n.trimStart=function(e,t,r){if((e=Ha(e))&&(r||t===i))return e.replace(Le,"");if(!e||!(t=Wi(t)))return e;var n=Nr(e);return Ki(n,wr(n,Nr(t))).join("")},_n.truncate=function(e,t){var r=x,n=C;if(Aa(t)){var s="separator"in t?t.separator:s;r="length"in t?Ma(t.length):r,n="omission"in t?Wi(t.omission):n}var o=(e=Ha(e)).length;if(Tr(e)){var a=Nr(e);o=a.length}if(r>=o)return e;var c=r-Ir(n);if(c<1)return n;var u=a?Ki(a,0,c).join(""):e.slice(0,c);if(s===i)return u+n;if(a&&(c+=u.length-c),La(s)){if(e.slice(c).search(s)){var l,f=u;for(s.global||(s=rt(s.source,Ha(Me.exec(s))+"g")),s.lastIndex=0;l=s.exec(f);)var h=l.index;u=u.slice(0,h===i?c:h)}}else if(e.indexOf(Wi(s),c)!=c){var d=u.lastIndexOf(s);d>-1&&(u=u.slice(0,d))}return u+n},_n.unescape=function(e){return(e=Ha(e))&&Se.test(e)?e.replace(Ee,Lr):e},_n.uniqueId=function(e){var t=++ft;return Ha(e)+t},_n.upperCase=Sc,_n.upperFirst=Tc,_n.each=Ho,_n.eachRight=Jo,_n.first=ko,Fc(_n,(Kc={},Zn(_n,function(e,t){lt.call(_n.prototype,t)||(Kc[t]=e)}),Kc),{chain:!1}),_n.VERSION="4.17.21",Ht(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){_n[e].placeholder=_n}),Ht(["drop","take"],function(e,t){yn.prototype[e]=function(r){r=r===i?1:Gr(Ma(r),0);var n=this.__filtered__&&!t?new yn(this):this.clone();return n.__filtered__?n.__takeCount__=Hr(r,n.__takeCount__):n.__views__.push({size:Hr(r,P),type:e+(n.__dir__<0?"Right":"")}),n},yn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Ht(["filter","map","takeWhile"],function(e,t){var r=t+1,n=r==I||3==r;yn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ps(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),Ht(["head","last"],function(e,t){var r="take"+(t?"Right":"");yn.prototype[e]=function(){return this[r](1).value()[0]}}),Ht(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");yn.prototype[e]=function(){return this.__filtered__?new yn(this):this[r](1)}}),yn.prototype.compact=function(){return this.filter(Nc)},yn.prototype.find=function(e){return this.filter(e).head()},yn.prototype.findLast=function(e){return this.reverse().find(e)},yn.prototype.invokeMap=Ti(function(e,t){return"function"==typeof e?new yn(this):this.map(function(r){return si(r,e,t)})}),yn.prototype.reject=function(e){return this.filter(la(Ps(e)))},yn.prototype.slice=function(e,t){e=Ma(e);var r=this;return r.__filtered__&&(e>0||t<0)?new yn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=Ma(t))<0?r.dropRight(-t):r.take(t-e)),r)},yn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},yn.prototype.toArray=function(){return this.take(P)},Zn(yn.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),s=_n[n?"take"+("last"==t?"Right":""):t],o=n||/^find/.test(t);s&&(_n.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,c=t instanceof yn,u=a[0],l=c||ya(t),f=function(e){var t=s.apply(_n,er([e],a));return n&&h?t[0]:t};l&&r&&"function"==typeof u&&1!=u.length&&(c=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,_=c&&!d;if(!o&&l){t=_?t:new yn(this);var g=e.apply(t,a);return g.__actions__.push({func:$o,args:[f],thisArg:i}),new mn(g,h)}return p&&_?e.apply(this,a):(g=this.thru(f),p?n?g.value()[0]:g.value():g)})}),Ht(["pop","push","shift","sort","splice","unshift"],function(e){var t=st[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);_n.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(ya(i)?i:[],e)}return this[r](function(r){return t.apply(ya(r)?r:[],e)})}}),Zn(yn.prototype,function(e,t){var r=_n[t];if(r){var n=r.name+"";lt.call(on,n)||(on[n]=[]),on[n].push({name:t,func:r})}}),on[_s(i,m).name]=[{name:"wrapper",func:i}],yn.prototype.clone=function(){var e=new yn(this.__wrapped__);return e.__actions__=is(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=is(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=is(this.__views__),e},yn.prototype.reverse=function(){if(this.__filtered__){var e=new yn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},yn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=ya(e),n=t<0,i=r?e.length:0,s=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var s=r[n],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Hr(t,e+o);break;case"takeRight":e=Gr(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,c=a-o,u=n?a:o-1,l=this.__iteratees__,f=l.length,h=0,d=Hr(c,this.__takeCount__);if(!r||!n&&i==c&&d==c)return Mi(e,this.__actions__);var p=[];e:for(;c--&&h<d;){for(var _=-1,g=e[u+=t];++_<f;){var v=l[_],m=v.iteratee,y=v.type,w=m(g);if(y==N)g=w;else if(!w){if(y==I)continue e;break e}}p[h++]=g}return p},_n.prototype.at=Mo,_n.prototype.chain=function(){return Bo(this)},_n.prototype.commit=function(){return new mn(this.value(),this.__chain__)},_n.prototype.next=function(){this.__values__===i&&(this.__values__=Ba(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},_n.prototype.plant=function(e){for(var t,r=this;r instanceof vn;){var n=po(r);n.__index__=0,n.__values__=i,t?s.__wrapped__=n:t=n;var s=n;r=r.__wrapped__}return s.__wrapped__=e,t},_n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof yn){var t=e;return this.__actions__.length&&(t=new yn(this)),(t=t.reverse()).__actions__.push({func:$o,args:[Ao],thisArg:i}),new mn(t,this.__chain__)}return this.thru(Ao)},_n.prototype.toJSON=_n.prototype.valueOf=_n.prototype.value=function(){return Mi(this.__wrapped__,this.__actions__)},_n.prototype.first=_n.prototype.head,Wt&&(_n.prototype[Wt]=function(){return this}),_n}();jt._=Ur,(n=function(){return Ur}.call(t,r,t,e))===i||(e.exports=n)}).call(this)}).call(this,r(74)(e))},function(e,t,r){"use strict";r.r(t),r.d(t,"RESERVATION_STATUS_ACCEPTED",function(){return n}),r.d(t,"RESERVATION_STATUS_COMPLETED",function(){return i}),r.d(t,"RESERVATION_STATUS_REJECTED",function(){return s}),r.d(t,"RESERVATION_STATUS_WRAPPING",function(){return o}),r.d(t,"RESERVATION_INSTRUCTION_CALL",function(){return a}),r.d(t,"RESERVATION_INSTRUCTION_DEQUEUE",function(){return c}),r.d(t,"RESERVATION_INSTRUCTION_REDIRECT",function(){return u}),r.d(t,"RESERVATION_INSTRUCTION_CONFERENCE",function(){return l}),r.d(t,"TRANSFER_STATUS",function(){return f}),r.d(t,"RESERVATION_REJECT_OPTIONS",function(){return h}),r.d(t,"WORKER_UPDATE_OPTIONS",function(){return d}),r.d(t,"RESERVATION_CALL_OPTIONS",function(){return p}),r.d(t,"RESERVATION_DEQUEUE_OPTIONS",function(){return _}),r.d(t,"RESERVATION_REDIRECT_OPTIONS",function(){return g}),r.d(t,"CREATE_TASK_OPTIONS",function(){return v}),r.d(t,"TASK_STATUS_COMPLETED",function(){return m}),r.d(t,"TASK_STATUS_WRAPPING",function(){return y}),r.d(t,"reservationEventTypes",function(){return w}),r.d(t,"taskEventTypes",function(){return k}),r.d(t,"reservationToSDKEventsMapping",function(){return E}),r.d(t,"transferFields",function(){return b}),r.d(t,"TRANSFER_INITIATED",function(){return S}),r.d(t,"taskTransferEventTypes",function(){return T}),r.d(t,"taskTransferEventEmitterMapping",function(){return R}),r.d(t,"API_V1",function(){return x}),r.d(t,"API_V2",function(){return C}),r.d(t,"DEFAULT_PAGE_SIZE",function(){return A}),r.d(t,"DEFAULT_HTTP_TIMEOUT",function(){return O}),r.d(t,"EB_URL_PARAMS",function(){return I}),r.d(t,"twilioErrors",function(){return j});const n="accepted",i="completed",s="rejected",o="wrapping",a="call",c="dequeue",u="redirect",l="conference",f=Object.freeze({canceled:"canceled",complete:"complete",failed:"failed",initiated:"initiated"}),h={activitySid:"WorkerActivitySid"};Object.freeze(h);const d={rejectPendingReservations:"RejectPendingReservations"};Object.freeze(d);const p={accept:"CallAccept",record:"CallRecord",statusCallbackUrl:"CallStatusCallbackUrl",timeout:"CallTimeout",to:"CallTo"};Object.freeze(p);const _={to:"DequeueTo",from:"DequeueFrom",postWorkActivitySid:"DequeuePostWorkActivitySid",record:"DequeueRecord",timeout:"DequeueTimeout",statusCallbackUrl:"DequeueStatusCallbackUrl",statusCallbackEvents:"DequeueStatusCallbackEvents"};Object.freeze(_);const g={accept:"RedirectAccept"};Object.freeze(g);const v={taskChannelUniqueName:"TaskChannelUniqueName",taskChannelSid:"TaskChannelSid",attributes:"Attributes"},m="completed",y="wrapping",w={accepted:0,rejected:1,timeout:2,canceled:3,rescinded:4,completed:5,wrapup:6};Object.freeze(w);const k={"task.updated":"updated","task.canceled":"canceled","task.completed":"completed","task.wrapup":"wrapup"};Object.freeze(k);const E={"reservation.completed":"completed","reservation.rejected":"rejected","reservation.timeout":"timeout","reservation.canceled":"canceled","reservation.rescinded":"rescinded","reservation.accepted":"accepted","reservation.wrapup":"wrapup"};Object.freeze(E);const b=Object.freeze({taskTransfer:"task_transfer",activeOutgoingTaskTransfer:"active_outgoing_task_transfer"}),S="transfer-initiated",T={"transfer-attempt-failed":"attemptFailed","transfer-completed":"completed","transfer-failed":"failed","transfer-initiated":"transferInitiated","transfer-canceled":"canceled"};Object.freeze(T);const R={"task.transfer-attempt-failed":"transfer-attempt-failed","task.transfer-completed":"transfer-completed","task.transfer-failed":"transfer-failed","task.transfer-initiated":"transfer-initiated","task.transfer-canceled":"transfer-canceled"};Object.freeze(R);const x="v1",C="v2",A=1e3,O=5e3,I={TOKEN:"token",CLOSE_EXISTING_SESSIONS:"closeExistingSessions",CLIENT_VERSION:"clientVersion"},N=r(73),j=[{name:"INVALID_ARGUMENT",message:"One or more arguments passed were invalid."},{name:"INVALID_TOKEN",message:"The token is invalid or malformed."},{name:"TOKEN_EXPIRED",message:"Worker's active token has expired."},{name:"GATEWAY_CONNECTION_FAILED",message:"Could not connect to Twilio's servers."},{name:"GATEWAY_DISCONNECTED",message:"Connection to Twilio's servers was lost."},{name:"INVALID_GATEWAY_MESSAGE",message:"The JSON message received was malformed."},{name:"TASKROUTER_ERROR",message:"TaskRouter failed to complete the request."}].reduce((e,t)=>(e[t.name]=new N(t),e),{})},function(e,t,r){"use strict";function n(e){try{return new Date(e)}catch(e){return null}}function i(e,t){for(const r in e)if(r in t&&!t[r](e[r]))throw new TypeError(`Option key: ${r} does not meet the required type.`);return!0}r.r(t),r.d(t,"parseTime",function(){return n}),r.d(t,"validateOptions",function(){return i})},function(e,t){e.exports=require("events")},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";var n=r(27),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function o(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):s(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return i});const n=r(1).twilioErrors;class i{constructor(e,t,r){if(!e)throw n.INVALID_ARGUMENT.clone("Error instantiating Paginator. <Array>items is a required parameter.");if(!t)throw n.INVALID_ARGUMENT.clone("Error instantiating Paginator. <Function>source is a required parameter.");this._nextToken=r,this._source=t,this.hasNextPage=!!this._nextToken,this.items=e}nextPage(){return this.hasNextPage?this._source(this._nextToken):Promise.reject(n.TASKROUTER_ERROR.clone("Error getting the next page. No next page exists."))}}},function(e,t,r){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(e,t,r){"use strict";const{EMPTY_BUFFER:n}=r(7);function i(e,t){if(0===e.length)return n;if(1===e.length)return e[0];const r=Buffer.allocUnsafe(t);let i=0;for(let t=0;t<e.length;t++){const n=e[t];r.set(n,i),i+=n.length}return i<t?r.slice(0,i):r}function s(e,t,r,n,i){for(let s=0;s<i;s++)r[n+s]=e[s]^t[3&s]}function o(e,t){const r=e.length;for(let n=0;n<r;n++)e[n]^=t[3&n]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){if(c.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),c.readOnly=!1),t}try{const t=r(!function(){var e=new Error('Cannot find module "bufferutil"');throw e.code="MODULE_NOT_FOUND",e}()),n=t.BufferUtil||t;e.exports={concat:i,mask(e,t,r,i,o){o<48?s(e,t,r,i,o):n.mask(e,t,r,i,o)},toArrayBuffer:a,toBuffer:c,unmask(e,t){e.length<32?o(e,t):n.unmask(e,t)}}}catch(t){e.exports={concat:i,mask:s,toArrayBuffer:a,toBuffer:c,unmask:o}}},function(e,t,r){"use strict";const n=r(32),i=r(8),s=r(68),{kStatusCode:o,NOOP:a}=r(7),c=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),l=Symbol("total-length"),f=Symbol("callback"),h=Symbol("buffers"),d=Symbol("error");let p;function _(e){this[h].push(e),this[l]+=e.length}function g(e){this[l]+=e.length,this[u]._maxPayload<1||this[l]<=this[u]._maxPayload?this[h].push(e):(this[d]=new RangeError("Max payload size exceeded"),this[d][o]=1009,this.removeListener("data",g),this.reset())}function v(e){this[u]._inflate=null,e[o]=1007,this[f](e)}e.exports=class{constructor(e,t,r){if(this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!p){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;p=new s(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[f];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,r=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:!0!==r.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete r.client_max_window_bits,r}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==r)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}e[t]=r})}),e}decompress(e,t,r){p.add(n=>{this._decompress(e,t,(e,t)=>{n(),r(e,t)})})}compress(e,t,r){p.add(n=>{this._compress(e,t,(e,t)=>{n(),r(e,t)})})}_decompress(e,t,r){const s=this._isServer?"client":"server";if(!this._inflate){const e=`${s}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[l]=0,this._inflate[h]=[],this._inflate.on("error",v),this._inflate.on("data",g)}this._inflate[f]=r,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{const e=this._inflate[d];if(e)return this._inflate.close(),this._inflate=null,void r(e);const n=i.concat(this._inflate[h],this._inflate[l]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[h]=[],t&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),r(null,n)})}_compress(e,t,r){const s=this._isServer?"server":"client";if(!this._deflate){const e=`${s}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[l]=0,this._deflate[h]=[],this._deflate.on("error",a),this._deflate.on("data",_)}this._deflate[f]=r,this._deflate.write(e),this._deflate.flush(n.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=i.concat(this._deflate[h],this._deflate[l]);t&&(e=e.slice(0,e.length-4)),this._deflate[f]=null,this._deflate[l]=0,this._deflate[h]=[],t&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),r(null,e)})}}},function(e,t){e.exports=require("http")},function(e){e.exports={a:"0.5.9"}},function(e,t,r){"use strict";var n=r(23);e.exports=function(e,t,r,i,s){var o=new Error(e);return n(o,t,r,i,s)}},function(e,t,r){"use strict";var n=r(5);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(n.isURLSearchParams(t))s=t.toString();else{var o=[];n.forEach(t,function(e,t){null!==e&&void 0!==e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))}))}),s=o.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("https")},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";var n=r(5);e.exports=function(e,t){t=t||{};var r={},i=["url","method","data"],s=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function u(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=c(void 0,e[i])):r[i]=c(e[i],t[i])}n.forEach(i,function(e){n.isUndefined(t[e])||(r[e]=c(void 0,t[e]))}),n.forEach(s,u),n.forEach(o,function(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=c(void 0,e[i])):r[i]=c(void 0,t[i])}),n.forEach(a,function(n){n in t?r[n]=c(e[n],t[n]):n in e&&(r[n]=c(void 0,e[n]))});var l=i.concat(s).concat(o).concat(a),f=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===l.indexOf(e)});return n.forEach(f,u),r}},function(e,t,r){"use strict";e.exports=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var r;function o(){if(o.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=o,a=Number(new Date),c=a-(r||a);s.diff=c,s.prev=r,s.curr=a,r=a,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,r){if("%%"===e)return e;u++;var i=n.formatters[r];if("function"==typeof i){var o=t[u];e=i.call(s,o),t.splice(u,1),u--}return e}),n.formatArgs.call(s,t),(s.log||n.log).apply(s,t)}}return o.namespace=e,o.enabled=n.enabled(e),o.useColors=n.useColors(),o.color=t(e),o.destroy=i,o.extend=s,"function"==typeof n.init&&n.init(o),n.instances.push(o),o}function i(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function s(e,t){return n(this.namespace+(void 0===t?":":t)+e)}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var s=n.instances[t];s.enabled=n.enabled(s.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(47),Object.keys(e).forEach(function(t){n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t,r){var n=r(15),i=n.URL,s=r(10),o=r(17),a=r(14).Writable,c=r(51),u=r(50),l=Object.create(null);["abort","aborted","connect","error","socket","timeout"].forEach(function(e){l[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}});var f=E("ERR_FR_REDIRECTION_FAILURE",""),h=E("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),d=E("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),p=E("ERR_STREAM_WRITE_AFTER_END","write after end");function _(e,t){a.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(e){r._processResponse(e)},this._performRequest()}function g(e,t){clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.emit("timeout")},t)}function v(){clearTimeout(this._timeout)}function m(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach(function(s){var o=s+":",a=r[o]=e[s],l=t[s]=Object.create(a);Object.defineProperties(l,{request:{value:function(e,s,a){if("string"==typeof e){var l=e;try{e=w(new i(l))}catch(t){e=n.parse(l)}}else i&&e instanceof i?e=w(e):(a=s,s=e,e={protocol:o});return"function"==typeof s&&(a=s,s=null),(s=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,s)).nativeProtocols=r,c.equal(s.protocol,o,"protocol mismatch"),u("options",s),new _(s,a)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,r){var n=l.request(e,t,r);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})}),t}function y(){}function w(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function k(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r}function E(e,t){function r(e){Error.captureStackTrace(this,this.constructor),this.message=e||t}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r.prototype.code=e,r}_.prototype=Object.create(a.prototype),_.prototype.write=function(e,t,r){if(this._ending)throw new p;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new d),this.abort()):r&&r()},_.prototype.end=function(e,t,r){if("function"==typeof e?(r=e,e=t=null):"function"==typeof t&&(r=t,t=null),e){var n=this,i=this._currentRequest;this.write(e,t,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},_.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},_.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},_.prototype.setTimeout=function(e,t){if(t&&this.once("timeout",t),this.socket)g(this,e);else{var r=this;this._currentRequest.once("socket",function(){g(r,e)})}return this.once("response",v),this.once("error",v),this},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){_.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}}),["aborted","connection","socket"].forEach(function(e){Object.defineProperty(_.prototype,e,{get:function(){return this._currentRequest[e]}})}),_.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},_.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var i=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var s in this._currentUrl=n.format(this._options),i._redirectable=this,l)s&&i.on(s,l[s]);if(this._isRedirect){var o=0,a=this,c=this._requestBodyBuffers;!function e(t){if(i===a._currentRequest)if(t)a.emit("error",t);else if(o<c.length){var r=c[o++];i.finished||i.write(r.data,r.encoding,e)}else a._ended&&i.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},_.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(r&&!1!==this._options.followRedirects&&t>=300&&t<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",y),this._currentRequest.abort(),e.destroy(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new h);((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],k(/^content-/i,this._options.headers));var i=k(/^host$/i,this._options.headers)||n.parse(this._currentUrl).hostname,s=n.resolve(this._currentUrl,r);u("redirecting to",s),this._isRedirect=!0;var o=n.parse(s);if(Object.assign(this._options,o),o.hostname!==i&&k(/^authorization$/i,this._options.headers),"function"==typeof this._options.beforeRedirect){var a={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,a)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){var c=new f("Redirected request failed: "+e.message);c.cause=e,this.emit("error",c)}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=m({http:s,https:o}),e.exports.wrap=m},function(e,t,r){"use strict";var n=r(56),i=r(55);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(12);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";var n=r(5),i=r(59),s={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:("undefined"!=typeof XMLHttpRequest?a=r(58):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(a=r(52)),a),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){c.headers[e]={}}),n.forEach(["post","put","patch"],function(e){c.headers[e]=n.merge(s)}),e.exports=c},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function i(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t=Object.create(null);if(void 0===e||""===e)return t;let r,s,o=Object.create(null),a=!1,c=!1,u=!1,l=-1,f=-1,h=0;for(;h<e.length;h++){const d=e.charCodeAt(h);if(void 0===r)if(-1===f&&1===n[d])-1===l&&(l=h);else if(32===d||9===d)-1===f&&-1!==l&&(f=h);else{if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${h}`);-1===f&&(f=h);const n=e.slice(l,f);44===d?(i(t,n,o),o=Object.create(null)):r=n,l=f=-1}}else if(void 0===s)if(-1===f&&1===n[d])-1===l&&(l=h);else if(32===d||9===d)-1===f&&-1!==l&&(f=h);else if(59===d||44===d){if(-1===l)throw new SyntaxError(`Unexpected character at index ${h}`);-1===f&&(f=h),i(o,e.slice(l,f),!0),44===d&&(i(t,r,o),o=Object.create(null),r=void 0),l=f=-1}else{if(61!==d||-1===l||-1!==f)throw new SyntaxError(`Unexpected character at index ${h}`);s=e.slice(l,h),l=f=-1}else if(c){if(1!==n[d])throw new SyntaxError(`Unexpected character at index ${h}`);-1===l?l=h:a||(a=!0),c=!1}else if(u)if(1===n[d])-1===l&&(l=h);else if(34===d&&-1!==l)u=!1,f=h;else{if(92!==d)throw new SyntaxError(`Unexpected character at index ${h}`);c=!0}else if(34===d&&61===e.charCodeAt(h-1))u=!0;else if(-1===f&&1===n[d])-1===l&&(l=h);else if(-1===l||32!==d&&9!==d){if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${h}`);-1===f&&(f=h);let n=e.slice(l,f);a&&(n=n.replace(/\\/g,""),a=!1),i(o,s,n),44===d&&(i(t,r,o),o=Object.create(null),r=void 0),s=void 0,l=f=-1}}else-1===f&&(f=h)}if(-1===l||u)throw new SyntaxError("Unexpected end of input");-1===f&&(f=h);const d=e.slice(l,f);return void 0===r?i(t,d,o):(void 0===s?i(o,d,!0):i(o,s,a?d.replace(/\\/g,""):d),i(t,r,o)),t}}},function(e,t,r){"use strict";const{randomFillSync:n}=r(16),i=r(9),{EMPTY_BUFFER:s}=r(7),{isValidStatusCode:o}=r(30),{mask:a,toBuffer:c}=r(8),u=Buffer.alloc(4);class l{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const r=t.mask&&t.readOnly;let i=t.mask?6:2,s=e.length;e.length>=65536?(i+=8,s=127):e.length>125&&(i+=2,s=126);const o=Buffer.allocUnsafe(r?e.length+i:i);return o[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(o[0]|=64),o[1]=s,126===s?o.writeUInt16BE(e.length,2):127===s&&(o.writeUInt32BE(0,2),o.writeUInt32BE(e.length,6)),t.mask?(n(u,0,4),o[1]|=128,o[i-4]=u[0],o[i-3]=u[1],o[i-2]=u[2],o[i-1]=u[3],r?(a(e,u,o,i,e.length),[o]):(a(e,u,e,0,e.length),[o,e])):[o,e]}close(e,t,r,n){let i;if(void 0===e)i=s;else{if("number"!=typeof e||!o(e))throw new TypeError("First argument must be a valid error code number");if(void 0===t||""===t)(i=Buffer.allocUnsafe(2)).writeUInt16BE(e,0);else{const r=Buffer.byteLength(t);if(r>123)throw new RangeError("The message must not be greater than 123 bytes");(i=Buffer.allocUnsafe(2+r)).writeUInt16BE(e,0),i.write(t,2)}}this._deflating?this.enqueue([this.doClose,i,r,n]):this.doClose(i,r,n)}doClose(e,t,r){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),r)}ping(e,t,r){const n=c(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,n,t,c.readOnly,r]):this.doPing(n,t,c.readOnly,r)}doPing(e,t,r,n){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:r}),n)}pong(e,t,r){const n=c(e);if(n.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,n,t,c.readOnly,r]):this.doPong(n,t,c.readOnly,r)}doPong(e,t,r,n){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:r}),n)}send(e,t,r){const n=c(e),s=this._extensions[i.extensionName];let o=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&s&&(a=n.length>=s._threshold),this._compress=a):(a=!1,o=0),t.fin&&(this._firstFragment=!0),s){const e={fin:t.fin,rsv1:a,opcode:o,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,n,this._compress,e,r]):this.dispatch(n,this._compress,e,r)}else this.sendFrame(l.frame(n,{fin:t.fin,rsv1:!1,opcode:o,mask:t.mask,readOnly:c.readOnly}),r)}dispatch(e,t,r,n){if(!t)return void this.sendFrame(l.frame(e,r),n);const s=this._extensions[i.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,s.compress(e,r.fin,(t,i)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){const r=this._queue[t][4];"function"==typeof r&&r(e)}}else this._bufferedBytes-=e.length,this._deflating=!1,r.readOnly=!1,this.sendFrame(l.frame(i,r),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=l},function(e,t,r){"use strict";function n(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999}function i(e){const t=e.length;let r=0;for(;r<t;)if(0==(128&e[r]))r++;else if(192==(224&e[r])){if(r+1===t||128!=(192&e[r+1])||192==(254&e[r]))return!1;r+=2}else if(224==(240&e[r])){if(r+2>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||224===e[r]&&128==(224&e[r+1])||237===e[r]&&160==(224&e[r+1]))return!1;r+=3}else{if(240!=(248&e[r]))return!1;if(r+3>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||128!=(192&e[r+3])||240===e[r]&&128==(240&e[r+1])||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}try{let t=r(!function(){var e=new Error('Cannot find module "utf-8-validate"');throw e.code="MODULE_NOT_FOUND",e}());"object"==typeof t&&(t=t.Validation.isValidUTF8),e.exports={isValidStatusCode:n,isValidUTF8:e=>e.length<150?i(e):t(e)}}catch(t){e.exports={isValidStatusCode:n,isValidUTF8:i}}},function(e,t,r){"use strict";const{Writable:n}=r(14),i=r(9),{BINARY_TYPES:s,EMPTY_BUFFER:o,kStatusCode:a,kWebSocket:c}=r(7),{concat:u,toArrayBuffer:l,unmask:f}=r(8),{isValidStatusCode:h,isValidUTF8:d}=r(30),p=0,_=1,g=2,v=3,m=4,y=5;function w(e,t,r,n){const i=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(i,w),i[a]=n,i}e.exports=class extends n{constructor(e,t,r,n){super(),this._binaryType=e||s[0],this[c]=void 0,this._extensions=t||{},this._isServer=!!r,this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=p,this._loop=!1}_write(e,t,r){if(8===this._opcode&&this._state==p)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case p:t=this.getInfo();break;case _:t=this.getPayloadLength16();break;case g:t=this.getPayloadLength64();break;case v:this.getMask();break;case m:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,w(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[i.extensionName])return this._loop=!1,w(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,w(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,w(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,w(RangeError,`invalid opcode ${this._opcode}`,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,w(RangeError,`invalid opcode ${this._opcode}`,!0,1002);if(!this._fin)return this._loop=!1,w(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,w(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,w(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,w(RangeError,"MASK must be set",!0,1002)}else if(this._masked)return this._loop=!1,w(RangeError,"MASK must be clear",!0,1002);if(126===this._payloadLength)this._state=_;else{if(127!==this._payloadLength)return this.haveLength();this._state=g}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,w(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,w(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=v:this._state=m}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=m)}getData(e){let t=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&f(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=y,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(w(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(r)}const n=this.dataMessage();if(n)return t(n);this.startLoop(t)})}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?u(t,e):"arraybuffer"===this._binaryType?l(u(t,e)):t,this.emit("message",r)}else{const r=u(t,e);if(!d(r))return this._loop=!1,w(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",r.toString())}}this._state=p}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return w(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!h(t))return w(RangeError,`invalid status code ${t}`,!0,1002);const r=e.slice(2);if(!d(r))return w(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,r.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=p}}},function(e,t){e.exports=require("zlib")},function(e,t,r){"use strict";const n=r(3),i=r(17),s=r(10),o=r(70),a=r(69),{randomBytes:c,createHash:u}=r(16),{URL:l}=r(15),f=r(9),h=r(31),d=r(29),{BINARY_TYPES:p,EMPTY_BUFFER:_,GUID:g,kStatusCode:v,kWebSocket:m,NOOP:y}=r(7),{addEventListener:w,removeEventListener:k}=r(67),{format:E,parse:b}=r(28),{toBuffer:S}=r(8),T=["CONNECTING","OPEN","CLOSING","CLOSED"],R=[8,13],x=3e4;class C extends n{constructor(e,t,r){super(),this._binaryType=p[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=C.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(r=t,t=void 0),function e(t,r,n,o){const a={protocolVersion:R[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...o,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!R.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} `+`(supported versions: ${R.join(", ")})`);let h;r instanceof l?(h=r,t._url=r.href):(h=new l(r),t._url=r);const d="ws+unix:"===h.protocol;if(!(h.host||d&&h.pathname))throw new Error(`Invalid URL: ${t.url}`);const p="wss:"===h.protocol||"https:"===h.protocol;const _=p?443:80;const v=c(16).toString("base64");const m=p?i.get:s.get;let y;a.createConnection=p?O:A;a.defaultPort=a.defaultPort||_;a.port=h.port||_;a.host=h.hostname.startsWith("[")?h.hostname.slice(1,-1):h.hostname;a.headers={"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":v,Connection:"Upgrade",Upgrade:"websocket",...a.headers};a.path=h.pathname+h.search;a.timeout=a.handshakeTimeout;a.perMessageDeflate&&(y=new f(!0!==a.perMessageDeflate?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=E({[f.extensionName]:y.offer()}));n&&(a.headers["Sec-WebSocket-Protocol"]=n);a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin);(h.username||h.password)&&(a.auth=`${h.username}:${h.password}`);if(d){const e=a.path.split(":");a.socketPath=e[0],a.path=e[1]}let w=t._req=m(a);a.timeout&&w.on("timeout",()=>{I(t,w,"Opening handshake has timed out")});w.on("error",e=>{null===w||w.aborted||(w=t._req=null,t._readyState=C.CLOSING,t.emit("error",e),t.emitClose())});w.on("response",i=>{const s=i.headers.location,c=i.statusCode;if(s&&a.followRedirects&&c>=300&&c<400){if(++t._redirects>a.maxRedirects)return void I(t,w,"Maximum redirects exceeded");w.abort();const i=new l(s,r);e(t,i,n,o)}else t.emit("unexpected-response",w,i)||I(t,w,`Unexpected server response: ${i.statusCode}`)});w.on("upgrade",(e,r,i)=>{if(t.emit("upgrade",e),t.readyState!==C.CONNECTING)return;w=t._req=null;const s=u("sha1").update(v+g).digest("base64");if(e.headers["sec-websocket-accept"]!==s)return void I(t,r,"Invalid Sec-WebSocket-Accept header");const o=e.headers["sec-websocket-protocol"],c=(n||"").split(/, */);let l;if(!n&&o?l="Server sent a subprotocol but none was requested":n&&!o?l="Server sent no subprotocol":o&&!c.includes(o)&&(l="Server sent an invalid subprotocol"),l)I(t,r,l);else{if(o&&(t._protocol=o),y)try{const n=b(e.headers["sec-websocket-extensions"]);n[f.extensionName]&&(y.accept(n[f.extensionName]),t._extensions[f.extensionName]=y)}catch(e){return void I(t,r,"Invalid Sec-WebSocket-Extensions header")}t.setSocket(r,i,a.maxPayload)}})}(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){p.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){const n=new h(this.binaryType,this._extensions,this._isServer,r);this._sender=new d(e,this._extensions),this._receiver=n,this._socket=e,n[m]=this,e[m]=this,n.on("conclude",j),n.on("drain",L),n.on("error",U),n.on("message",P),n.on("ping",W),n.on("pong",q),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",D),e.on("data",B),e.on("end",$),e.on("error",M),this._readyState=C.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=C.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[f.extensionName]&&this._extensions[f.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=C.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==C.CLOSED){if(this.readyState===C.CONNECTING){const e="WebSocket was closed before the connection was established";return I(this,this._req,e)}this.readyState!==C.CLOSING?(this._readyState=C.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),x)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,r){if(this.readyState===C.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===C.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||_,t,r)):N(this,e,r)}pong(e,t,r){if(this.readyState===C.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===C.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||_,t,r)):N(this,e,r)}send(e,t,r){if(this.readyState===C.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==C.OPEN)return void N(this,e,r);const n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[f.extensionName]||(n.compress=!1),this._sender.send(e||_,n,r)}terminate(){if(this.readyState!==C.CLOSED){if(this.readyState===C.CONNECTING){const e="WebSocket was closed before the connection was established";return I(this,this._req,e)}this._socket&&(this._readyState=C.CLOSING,this._socket.destroy())}}}function A(e){return e.path=e.socketPath,o.connect(e)}function O(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=o.isIP(e.host)?"":e.host),a.connect(e)}function I(e,t,r){e._readyState=C.CLOSING;const n=new Error(r);Error.captureStackTrace(n,I),t.setHeader?(t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),t.once("abort",e.emitClose.bind(e)),e.emit("error",n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function N(e,t,r){if(t){const r=S(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){r(new Error(`WebSocket is not open: readyState ${e.readyState} `+`(${T[e.readyState]})`))}}function j(e,t){const r=this[m];r._socket.removeListener("data",B),r._socket.resume(),r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,1005===e?r.close():r.close(e,t)}function L(){this[m]._socket.resume()}function U(e){const t=this[m];t._socket.removeListener("data",B),t._readyState=C.CLOSING,t._closeCode=e[v],t.emit("error",e),t._socket.destroy()}function F(){this[m].emitClose()}function P(e){this[m].emit("message",e)}function W(e){const t=this[m];t.pong(e,!t._isServer,y),t.emit("ping",e)}function q(e){this[m].emit("pong",e)}function D(){const e=this[m];this.removeListener("close",D),this.removeListener("end",$),e._readyState=C.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",B),this[m]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",F),e._receiver.on("finish",F))}function B(e){this[m]._receiver.write(e)||this.pause()}function $(){const e=this[m];e._readyState=C.CLOSING,e._receiver.end(),this.end()}function M(){const e=this[m];this.removeListener("error",M),this.on("error",y),e&&(e._readyState=C.CLOSING,this.destroy())}T.forEach((e,t)=>{const r={enumerable:!0,value:t};Object.defineProperty(C.prototype,e,r),Object.defineProperty(C,e,r)}),["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach(e=>{Object.defineProperty(C.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(C.prototype,`on${e}`,{configurable:!0,enumerable:!0,get(){const t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){const r=this.listeners(e);for(let t=0;t<r.length;t++)r[t]._listener&&this.removeListener(e,r[t]);this.addEventListener(e,t)}})}),C.prototype.addEventListener=w,C.prototype.removeEventListener=k,e.exports=C},function(e,t){e.exports=require("util")},function(e,t,r){e.exports=r(64)},function(e,t){function r(e){if(!(this instanceof r))return new r(e);e=e||{};const t=function(){},n={interval:10,now:function(){return(new Date).getTime()},repeat:function(e,t){return setInterval(e,t)},stop:function(e,t){return clearInterval(e,t)},onsleep:t,onwakeup:t};for(let t in n)t in e||(e[t]=n[t]);this.interval=e.interval,this.lastbeat=0,this.pintvl=null,this.onsleep=e.onsleep,this.onwakeup=e.onwakeup,this.repeat=e.repeat,this.stop=e.stop,this.now=e.now}r.toString=function(){return"[Twilio.Heartbeat class]"},r.prototype.toString=function(){return"[Twilio.Heartbeat instance]"},r.prototype.beat=function(){if(this.lastbeat=this.now(),this.sleeping()){this.onwakeup&&this.onwakeup();var e=this;this.pintvl=this.repeat.call(null,function(){e.check()},1e3*this.interval)}},r.prototype.check=function(){const e=this.now()-this.lastbeat;!this.sleeping()&&e>=1e3*this.interval&&(this.onsleep&&this.onsleep(),this.stop.call(null,this.pintvl),this.pintvl=null)},r.prototype.sleeping=function(){return null===this.pintvl},t.Heartbeat=r},function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n);const s=r(1).twilioErrors,o=r(72),a=["trace","debug","info","warn","error","silent"];class c{constructor(e,t){if(!e)throw s.INVALID_ARGUMENT.clone("Error instantiating Logger. <string>moduleName is a required parameter.");this._log=o.getLogger(e),a.forEach(function(e){this[e]=((...t)=>this._log[e](...t))}.bind(this)),t&&this.setLevel(t)}setLevel(e){if(-1===a.indexOf(e))throw s.INVALID_ARGUMENT.clone("Error setting Logger level. <string>level must be one of ['trace', 'debug', 'info', 'warn', 'error', 'silent']");this._log.setLevel(e,!1),this._log.setDefaultLevel(e)}getLevel(){return a[this._log.getLevel()]}}class u{constructor(e,t={}){if(!i.a.isString(e))throw new TypeError("Failed to initialize Configuration. <string>token is a required parameter.");if(this.logIdentifier=t.logIdentifier||+new Date,this._logLevel=t.logLevel||"error",this._log=new c(`Configuration-${this.logIdentifier}`,this._logLevel),this.token=e,this.EB_SERVER=t.ebServer||"https://event-bridge.twilio.com/v1/wschannels",this.WS_SERVER=t.wsServer||"wss://event-bridge.twilio.com/v1/wschannels",t.region){const e=t.region+".us1.",r=this.EB_SERVER.indexOf("twilio.com"),n=this.WS_SERVER.indexOf("twilio.com");this.EB_SERVER=this.EB_SERVER.slice(0,r)+e+this.EB_SERVER.slice(r),this.WS_SERVER=this.WS_SERVER.slice(0,n)+e+this.WS_SERVER.slice(n)}}updateToken(e){if(!i.a.isString(e))throw new TypeError("To update the Twilio token, a new Twilio token must be passed in. <string>newToken is a required parameter.");this.token=e}getLogIdentifier(){return this.logIdentifier}}var l=r(1),f=r(3),h=r(36),d=r(11);const p=global.window||global,_=p.WebSocket?p.WebSocket:r(71),g=5e3,v=d.a;class m extends f.EventEmitter{constructor(e,t={}){if(super(),!(e&&e instanceof be))throw l.twilioErrors.INVALID_ARGUMENT.clone("<Worker>worker is a required parameter to construct EventBridgeSignaling.");const r=e.getLogger(`EventBridgeSignaling-${e.sid}`);if(!i.a.isNil(t.closeExistingSessions)&&!i.a.isBoolean(t.closeExistingSessions))throw new TypeError("Invalid type passed for <boolean>closeExistingSessions");this._heartbeat=null,this.webSocket=null,this._log=r,this._worker=e,this.closeExistingSessions=t.closeExistingSessions||!1,this._config=e._config,this.reconnect=!1,this.tokenTimer=null,this.setUpWebSocket()}updateToken(e){if(!e)throw l.twilioErrors.INVALID_ARGUMENT.clone("To update the Twilio token, a new Twilio token must be passed in. <string>newToken is a required parameter.");this.setTokenExpirationEvent(),this._log.info("Updated token for Worker "+this._worker.sid),this.reconnect=!0,this.webSocket.readyState!==this.webSocket.CLOSING&&this.webSocket.readyState!==this.webSocket.CLOSED||this.createWebSocket()}setTokenExpirationEvent(){clearTimeout(this.tokenTimer),this.tokenTimer=setTimeout(()=>{this.reconnect=!1,this.emit("tokenExpired")},this.tokenLifetime-g)}setUpWebSocket(){this._heartbeat&&(this._heartbeat.onsleep=(()=>{})),this._heartbeat=new h.Heartbeat({interval:60}),this.createWebSocket()}setLifetime(e){this.tokenLifetime=e,this.setTokenExpirationEvent()}createWebSocket(){this.numAttempts=1,this.reconnect=!0;const e=`?${l.EB_URL_PARAMS.TOKEN}=${this._config.token}&${l.EB_URL_PARAMS.CLOSE_EXISTING_SESSIONS}=${this.closeExistingSessions}&${l.EB_URL_PARAMS.CLIENT_VERSION}=${v}`;this.webSocket=new _(this._config.WS_SERVER+e),this.webSocket.onopen=(()=>{this.numAttempts=1,this.emit("connected"),this._heartbeat.onsleep=(()=>{this._log.info("Heartbeat not received in the past 60 seconds. Proceeding to disconnect websocket."),this.webSocket.close()}),this._heartbeat.beat()}),this.webSocket.onmessage=(e=>{if(this._log.debug("Received event",e.data),this._heartbeat.beat(),0===e.data.trim().length)return;let t;try{t=JSON.parse(e.data)}catch(t){return this._log.error("Received data is not valid JSON: "+e.data),void this.emit("error",l.twilioErrors.INVALID_GATEWAY_MESSAGE)}this._log.debug("Emitting event: %s with %s",t.event_type,JSON.stringify(t.payload)),this.emit(t.event_type,t.payload||null,t.event_type)}),this.webSocket.onerror=(e=>{this._log.error("WebSocket error occurred: ",e),this.emit("error",l.twilioErrors.GATEWAY_CONNECTION_FAILED)}),this.webSocket.onclose=(e=>{this.reconnect?this._log.info("WebSocket connection has closed. Trying to reconnect."):this._log.info("WebSocket connection has closed. Not reconnecting due to token expiration.");let t=e.reason;const r=e.code;if(i.a.isEmpty(t)&&(t=`Websocket closed with errorCode=${r}`),this.emit("disconnected",{message:t}),this._heartbeat.onsleep=(()=>{}),this.reconnect){const e=this.generateBackOffInterval(this.numAttempts);setTimeout(()=>{this.numAttempts++,this.createWebSocket()},e)}})}generateBackOffInterval(e){const t=Math.ceil(800),r=Math.floor(1e3*Math.min(30,Math.pow(2,e)-1));return Math.round(Math.floor(Math.random()*(r-t+1))+t)}disconnect(){this._log.info("Disconnecting websocket"),null!==this.webSocket&&(["onmessage","onclose","onopen","onerror"].forEach(e=>{this.webSocket[e]=null}),this.webSocket.close()),this.emit("disconnected",{message:"SDK Disconnect"})}}var y=r(35);const w={GET:"GET",POST:"POST"};Object.freeze(w);const k=d.a;class E{constructor(e){if(!(e instanceof u))throw new TypeError("Failed to initialize Request. <Configuration>config is a required parameter.");this._config=e,this._postClient=y.create({method:w.POST,timeout:l.DEFAULT_HTTP_TIMEOUT,headers:{clientVersion:k}})}post(e,t,r){if(!e)throw new Error("Failed to make POST request. <string>url is a required parameter.");if(!i.a.isObject(t))throw new Error("Failed to make POST request. <object>paramsJSON is a required parameter.");if(!r)throw new Error("Failed to make POST request. <string>apiVersion is a required parameter.");const n=this.buildRequest(w.POST,e,t);return this._postClient.post(this._config.EB_SERVER,n,{headers:{apiVersion:r}}).then(e=>Promise.resolve(e.data.payload))}get(e,t,r){if(!e)throw new Error("Failed to make GET request. <string>url is a required parameter.");if(!t)throw new Error("Failed to make GET request. <string>apiVersion is a required parameter.");if(r=r||{},!i.a.isObject(r))throw new Error("Failed to make GET request. <object>paramsJSON is a required parameter.");const n=this.buildRequest(w.GET,e,r);return this._postClient.post(this._config.EB_SERVER,n,{headers:{apiVersion:t}}).then(e=>Promise.resolve(e.data.payload))}buildRequest(e,t,r){return JSON.stringify({url:t,method:e,params:r,token:this._config.token})}}var b=r(4),S=r.n(b);const T=r(1).twilioErrors,R="reservationList",x="reservationInstance",C="workerInstance",A="workerList",O="taskReservationInstance",I="taskList",N="taskInstance",j="taskTransferList",L="taskTransferInstance",U="taskQueueList",F="workerChannels",P="activitiesList",W="customerParticipantInstance",q="workerParticipantInstance",D="holdWorkerParticipantInstance",B="kickWorkerParticipant";class ${constructor(e,t){if(!e||!t)throw T.INVALID_ARGUMENT.clone("Error instantiating Routes class. <string>workspaceSid and <string>workerSid are required parameters.");this.workspaceSid=e,this.workerSid=t,this.routes={[P]:{path:S.a.join("Workspaces",this.workspaceSid,"Activities")},[C]:{path:S.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid)},[A]:{path:S.a.join("Workspaces",this.workspaceSid,"Workers")},[x]:{path:S.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"Reservations","%s")},[R]:{path:S.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"Reservations")},[I]:{path:S.a.join("Workspaces",this.workspaceSid,"Tasks")},[N]:{path:S.a.join("Workspaces",this.workspaceSid,"Tasks","%s")},[j]:{path:S.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"Transfers")},[L]:{path:S.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"Transfers","%s")},[O]:{path:S.a.join("Workspaces",this.workspaceSid,"Tasks","%s","Reservations","%s")},[U]:{path:S.a.join("Workspaces",this.workspaceSid,"TaskQueues")},[F]:{path:S.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"WorkerChannels")},[W]:{path:S.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"CustomerParticipant")},[q]:{path:S.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"WorkerParticipant")},[D]:{path:S.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"HoldWorkerParticipant")},[B]:{path:S.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"KickWorkerParticipant")}}}getRoute(e,...t){if(!this.routes[e])throw T.INVALID_ARGUMENT.clone(`Invalid route fetched <string>route "${e}" does not exist.`);if(t.length){let r=Object.assign({},this.routes[e]);if(t.length!==(r.path.match(/%s/g)||[]).length)throw T.INVALID_ARGUMENT.clone(`Invalid number of positional arguments supplied for route ${e}`);for(let e of t)r.path=r.path.replace(/%s/,e);return r}return this.routes[e]}}var M=r(2);class z{constructor(e,t){if(!i.a.isObject(e))throw new TypeError("Failed to create a WorkerDescriptor. <Descriptor>descriptor is a required parameter.");if(!i.a.isObject(t))throw new TypeError("Failed to create a WorkerDescriptor. <Configuration>config is a required parameter.");if(!Ee.every(t=>t in e))throw new TypeError("Failed to create a WorkerDescriptor. The provided <Descriptor>descriptor does not contain all properties of a Worker.");this.accountSid=e.account_sid,this.activityName=e.activity_name,this.activitySid=e.activity_sid,this.attributes=JSON.parse(e.attributes),this.available=e.available,this.dateCreated=Object(M.parseTime)(1e3*e.date_created),this.dateStatusChanged=Object(M.parseTime)(1e3*e.date_status_changed),this.dateUpdated=Object(M.parseTime)(1e3*e.date_updated),this.name=e.friendly_name,this.sid=e.sid,this.workspaceSid=e.workspace_sid}}class V{constructor(e){if(!i.a.isObject(e))throw new TypeError("Failed to instantiate ActivityDescriptor. <Descriptor>descriptor is required.");if(!H.every(t=>t in e))throw new TypeError("Failed to instantiate ActivityDescriptor. <Descriptor>descriptor does not contain all properties of an Activity.");this.accountSid=e.account_sid,this.available=e.available,this.dateCreated=Object(M.parseTime)(1e3*e.date_created),this.dateUpdated=Object(M.parseTime)(1e3*e.date_updated),this.name=e.friendly_name,this.sid=e.sid,this.workspaceSid=e.workspace_sid}}const G=r(2).validateOptions;const H=["account_sid","available","date_created","date_updated","friendly_name","sid","workspace_sid"];var J=class{constructor(e,t){if(!i.a.isObject(e))throw new TypeError("Failed to create an Activity. <Worker>worker is a required parameter.");if(!(t instanceof V))throw new TypeError("Failed to create an Activity. <ActivityDescriptor>descriptor is a required parameter.");Object.assign(this,t),this._worker=e,this._isCurrent=!1}get isCurrent(){return this._isCurrent}setAsCurrent(e={}){if(!G(e,{rejectPendingReservations:e=>i.a.isBoolean(e)}))throw new TypeError(`Failed to set activity=${this.sid}. The options passed in did not match the required types.`);if(e.rejectPendingReservations&&this.available)throw new Error("Unable to reject pending reservations when updating to an Available activity state.");return this._worker._updateWorkerActivity(this.sid,e).then(()=>this)}},Z=r(6);class K{constructor(e,t,r={}){if(!i.a.isObject(e))throw new TypeError("Failed to initialize ActivitiesEntity. <Worker>worker is a required parameter.");this._activities=new Map,this._log=e.getLogger(`ActivitiesEntity-${e.sid}`),this._request=t,this._worker=e,this._pageSize=r.pageSize||l.DEFAULT_PAGE_SIZE,i.a.inRange(this._pageSize,1,l.DEFAULT_PAGE_SIZE+1)||(this._log.warn("PageSize range for ActivitiesEntity must be between 1 and %d. Setting pageSize to default size=%d",l.DEFAULT_PAGE_SIZE,l.DEFAULT_PAGE_SIZE),this._pageSize=1e3)}get activities(){return this._activities}fetchActivities(){const e=this._getPage();return this._getAllActivities(e)}_getAllActivities(e){return e.then(e=>(e.items.forEach(e=>{this._insertActivity(e)}),e.hasNextPage?this._getAllActivities(e.nextPage()):Promise.resolve()))}_getPage(e){e=e||{};const t=this._worker.getRoutes().getRoute(P).path,r={PageSize:this._pageSize};return e.AfterSid&&(r.AfterSid=e.AfterSid),this._request.get(t,l.API_V1,r).then(e=>new Z.default(e.contents.map(e=>new V(e)),e=>this._getPage({AfterSid:e}),e.after_sid))}_insertActivity(e){const t=e.sid;this._log.trace(`_insertActivity(sid=${t}, data=${JSON.stringify(e)}`);try{const r=new J(this._worker,e);this._activities.set(t,r)}catch(e){this._log.error(`Unable to create an Activity for sid=${t}. Skipping insert into Activities map. Error: ${e}`)}}}class Q{constructor(e){if(!i.a.isObject(e))throw new TypeError("Failed to instantiate WorkerChannelDescriptor. <Descriptor>descriptor is required.");if(!X.every(t=>t in e))throw new TypeError("Failed to create a WorkerChannelDescriptor. <Descriptor>descriptor does not contain all properties of a Channel.");this.accountSid=e.account_sid,this.assignedTasks=e.assigned_tasks,this.available=!!e.available,this.availableCapacityPercentage=e.available_capacity_percentage,this.capacity=e.configured_capacity,this.dateCreated=Object(M.parseTime)(1e3*e.date_created),this.dateUpdated=Object(M.parseTime)(1e3*e.date_updated),this.lastReservedTime=Object(M.parseTime)(e.last_reserved_time),this.sid=e.sid,this.taskChannelSid=e.task_channel_sid,this.taskChannelUniqueName=e.task_channel_unique_name,this.workerSid=e.worker_sid,this.workspaceSid=e.workspace_sid}}const Y=["capacity","available","assignedTasks","availableCapacityPercentage","dateUpdated","lastReservedTime"];const X=["account_sid","assigned_tasks","available","available_capacity_percentage","configured_capacity","date_created","date_updated","last_reserved_time","sid","task_channel_sid","task_channel_unique_name","worker_sid","workspace_sid"];var ee=class extends f.EventEmitter{constructor(e,t,r){if(super(),!(e instanceof be))throw new TypeError("Failed to instantiate Worker. <Worker>worker is a required parameter.");if(!(r instanceof Q))throw new TypeError("Failed to instantiate Channel. <WorkerChannelDescriptor>descriptor is a required parameter.");this._request=t,this._log=e.getLogger(`Channel-${r.sid}`),Object.assign(this,r)}_emitEvent(e,t){if(!i.a.isString(e))throw new TypeError("Error calling _emitEvent(). <string>eventType is a required parameter.");if(!i.a.isObject(t))throw new TypeError("Error calling method _emitEvent(). <object>rawEventData is a required parameter.");this._update(t),this.emit(e,this)}_update(e){try{const t=new Q(e);Y.forEach(e=>{this[e]=t[e]})}catch(t){this._log.warn("Failed to update Channel sid=%s. Update aborted. Error: %s.",e.sid,t)}return this}};class te{constructor(e,t,r={}){if(!(e instanceof be))throw new TypeError("Failed to initialize ChannelsEntity. <Worker>worker is a required parameter.");this._channels=new Map,this._log=e.getLogger("ChannelsEntity"),this._request=t,this._pageSize=r.pageSize||l.DEFAULT_PAGE_SIZE,this._worker=e,i.a.inRange(this._pageSize,1,l.DEFAULT_PAGE_SIZE+1)||(this._log.warn("PageSize range for ChannelsEntity must be between 1 and %d. Setting pageSize to default size=%d",l.DEFAULT_PAGE_SIZE,l.DEFAULT_PAGE_SIZE),this._pageSize=1e3)}get channels(){return this._channels}fetchChannels(){const e=this._getPage();return this._getAllChannels(e)}_getAllChannels(e){return e.then(e=>(e.items.forEach(e=>{this._insertChannel(e)}),e.hasNextPage?this._getAllChannels(e.nextPage()):Promise.resolve()))}_getPage(e){e=e||{};const t=this._worker.getRoutes().getRoute(F).path,r={PageSize:this._pageSize};return e.AfterSid&&(r.AfterSid=e.AfterSid),this._request.get(t,l.API_V1,r).then(e=>new Z.default(e.contents.map(e=>new Q(e)),e=>this._getPage({AfterSid:e}),e.after_sid))}_insertChannel(e){const t=e.sid;this._log.trace(`_insertChannel(sid=${t}, data=${JSON.stringify(e)}`);try{const r=new ee(this._worker,this._request,e);this._channels.set(t,r)}catch(e){this._log.error(`Unable to create a Channel for sid=${t}. Skipping insert into Channels map. Error: ${e}`)}}}class re{constructor(e){if(!i.a.isObject(e))throw new TypeError("Failed to instantiate TransferDescriptor. <Descriptor>descriptor is required.");if(!ie.every(t=>t in e))throw new TypeError("Failed to instantiate TransferDescriptor. <Descriptor>descriptor does not contain all properties of a Transfer.");this.dateCreated=Object(M.parseTime)(1e3*e.date_created),this.dateUpdated=Object(M.parseTime)(1e3*e.date_updated),this.mode=e.transfer_mode,this.queueSid=e.initiating_queue_sid,this.reservationSid=e.initiating_reservation_sid,this.to=e.transfer_to,this.transferFailedReason=e.transfer_failed_reason,this.type=e.transfer_type,this.sid=e.sid,this.status=e.transfer_status,this.workerSid=e.initiating_worker_sid,this.workflowSid=e.initiating_workflow_sid}}const ne=["dateUpdated","status","transferFailedReason"];const ie=["date_created","date_updated","initiating_reservation_sid","initiating_worker_sid","initiating_queue_sid","initiating_workflow_sid","sid","transfer_mode","transfer_to","transfer_type","transfer_status"];var se=class extends f.EventEmitter{constructor(e,t){if(super(),!(t instanceof re))throw new TypeError("Failed to instantiate Transfer. <TransferDescriptor>descriptor is a required parameter.");this._log=e.getLogger(`Transfer-${t.sid}`),Object.assign(this,t)}_update(e){try{const t=new re(e);ne.forEach(e=>{this[e]=t[e]})}catch(t){throw this._log.error(`Failed to update Transfer sid=${e.sid}. Update aborted.`,t),new Error(`Failed to update Transfer sid=${e.sid}. Update aborted. Error: ${t}.`)}return this}};var oe=class extends se{constructor(e,t){super(e,t)}};var ae=class extends se{constructor(e,t,r,n){if(super(e,n),"string"!=typeof r)throw new TypeError("Failed to instantiate OutgoingTransfer. <string>taskSid is a required parameter.");this._worker=e,this._request=t,this.taskSid=r}_emitEvent(e,t){if(this._log.trace(`_emitEvent(${e}, ${JSON.stringify(t)})`),!i.a.isString(e))throw new TypeError("Error calling _emitEvent(). <string>eventType is a required parameter.");if(!i.a.isObject(t))throw new TypeError("Error calling method _emitEvent(). <object>payload is a required parameter.");this.emit(e,this)}async cancel(){const e=this._worker.getRoutes().getRoute(L,this.sid).path,t={TaskSid:this.taskSid,TransferStatus:l.TRANSFER_STATUS.canceled},r=await this._request.post(e,t,l.API_V2);return this._update(r)}};var ce=class extends f.EventEmitter{constructor(e,t,r){if(super(),!(r instanceof he))throw new TypeError("Failed to instantiate Transfers. <TaskDescriptor>taskDescriptor is a required parameter.");this._log=e.getLogger(`Transfers-${r.sid}`),this._worker=e,this._request=t,this.incoming=r.incomingTransferDescriptor?new oe(e,r.incomingTransferDescriptor):null,this.outgoing=r.outgoingTransferDescriptor?new ae(e,t,r.sid,r.outgoingTransferDescriptor):null}_emitEvent(e,t){if(this._log.trace(`_emitEvent(${e}, ${JSON.stringify(t)})`),!i.a.isString(e))throw new TypeError("Error calling _emitEvent(). <string>eventType is a required parameter.");if(!i.a.isObject(t))throw new TypeError("Error calling method _emitEvent(). <object>payload is a required parameter.");const r=l.taskTransferEventTypes[e];this.outgoing?this.outgoing.sid===t.sid?Object.keys(i.a.pick(l.taskTransferEventTypes,["transfer-attempt-failed","transfer-completed","transfer-failed","transfer-canceled"])).indexOf(e)>-1&&(this._updateOutgoing(t),this.outgoing._emitEvent(r,t)):this._log.warn("The transfer %s specified by Event: transfer.%s does not match the current active outgoing transfer for Worker %s. Skipping event.",t.sid,r,this._worker.sid):this._log.warn("An active outgoing transfer does currently exist in Worker %s transfers map for Event: transfer.%s. Skipping event.",this._worker.sid,r)}_updateOutgoing(e,t=!1){!this.outgoing||t?this.outgoing=new ae(this._worker,this._request,e.task_sid,new re(e)):this.outgoing._update(e)}_update(e){if(e.incoming)if(this.incoming)this.incoming._update(e.incoming);else{const t=new re(e.incoming);this.incoming=new oe(this._worker,this._request,e.incoming.task_sid,t)}if(e.outgoing)if(this.outgoing)this.outgoing._update(e.outgoing);else{const t=new re(e.outgoing);this.outgoing=new ae(this._worker,this._request,e.outgoing.task_sid,t)}}};const ue=["attributes","status","workflowSid","workflowName","queueSid","queueName","priority","reason","routingTarget","timeout","taskChannelSid","taskChannelUniqueName","age","addOns","dateUpdated","transfers"];const le=["addons","age","attributes","date_created","date_updated","priority","queue_name","queue_sid","reason","routing_target","sid","assignment_status","task_channel_unique_name","task_channel_sid","timeout","workflow_name","workflow_sid"];var fe=class extends f.EventEmitter{constructor(e,t,r,n){if(super(),!(e instanceof be))throw new TypeError("Failed to instantiate Task. <Worker>worker is a required parameter.");if(!n)throw new TypeError("Failed to instantiate Task. <TaskDescriptor>descriptor is a required parameter.");if(!(n instanceof he))throw new TypeError("descriptor should be of type <TaskDescriptor>");if("string"!=typeof r)throw new TypeError("Failed to instantiate Task. <string>reservationSid is a required parameter.");this._worker=e,this._log=e.getLogger(`Task-${n.sid}`),this._request=t,this.transfers=new ce(e,t,n),Object.assign(this,n),this.reservationSid=r}complete(e){if(!i.a.isString(e))throw new TypeError("Error calling method complete(). <string>reason is a required parameter.");const t=this._worker.getRoutes().getRoute(N,this.sid).path,r={AssignmentStatus:l.TASK_STATUS_COMPLETED,Reason:e};return this._request.post(t,r,l.API_V1).then(e=>this._update(e))}async transfer(e,t={}){if(!i.a.isString(e))throw new TypeError("Error calling method transfer(). <string>to is a required parameter.");const r=this._worker.getRoutes().getRoute(j).path,n={ReservationSid:this.reservationSid,TaskSid:this.sid,To:e};t.attributes&&(n.Attributes=t.attributes),t.mode&&(n.Mode=t.mode),t.priority&&(n.Priority=t.priority);const s=await this._request.post(r,n,l.API_V2);return this._log.info(`Completed transfer to Worker/TaskQueue=${e}`),this.transfers._updateOutgoing(s,!0),this}wrapUp(e={}){const t=this._worker.getRoutes().getRoute(N,this.sid).path,r={AssignmentStatus:l.TASK_STATUS_WRAPPING};if(e.reason){if(!i.a.isString(e.reason))throw new Error(`Failed to call wrapUp() on Task sid=${this.sid}. A <string>reason is required.`);r.Reason=e.reason}return this._request.post(t,r,l.API_V1).then(e=>this._update(e))}setAttributes(e){if(!i.a.isObject(e))throw new TypeError("Unable to set attributes on Task. <object>attributes is a required parameter.");const t=this._worker.getRoutes().getRoute(N,this.sid).path,r={Attributes:e};return this._request.post(t,r,l.API_V1).then(e=>this._update(e))}updateParticipant(e){const t={hold:e=>i.a.isBoolean(e),holdUrl:e=>i.a.isString(e),holdMethod:e=>i.a.isString(e)};if(!Object(M.validateOptions)(e,t))throw new TypeError(`Failed to update Participant tied to Task sid=${this.sid}. The options passed in did not match the required types.`);const r=this._worker.getRoutes().getRoute(W).path,n={TaskSid:this.sid};for(const t in e)n[i.a.upperFirst(t)]=e[t];return this._request.post(r,n,l.API_V2).then(e=>this._update(e))}kick(e){if(!i.a.isString(e))throw new TypeError("Error calling method kick(). <string>workerSid is a required parameter.");const t=this._worker.getRoutes().getRoute(B).path,r={TaskSid:this.sid,TargetWorkerSid:e};return this._request.post(t,r,l.API_V2).then(e=>this._update(e))}hold(e,t,r){const n={holdUrl:e=>i.a.isString(e),holdMethod:e=>i.a.isString(e)};if(!i.a.isString(e))throw new TypeError("Error calling method hold(). <string>targetWorkerSid is a required parameter.");if(!i.a.isBoolean(t))throw new TypeError("Error calling method hold(). <boolean>onHold is a required parameter that is either true or false.");if(!Object(M.validateOptions)(r,n))throw new TypeError(`Failed to update Participant tied to Task sid=${this.sid}. The options passed in did not match the required types.`);const s=this._worker.getRoutes().getRoute(D).path,o={TaskSid:this.sid,TargetWorkerSid:e,Hold:t};for(const e in r)o[i.a.upperFirst(e)]=r[e];return this._request.post(s,o,l.API_V2).then(e=>this._update(e))}_emitEvent(e,t){if(this._log.trace(`_emitEvent(${e}, ${JSON.stringify(t)})`),!i.a.isString(e))throw new TypeError("Error calling _emitEvent(). <string>eventType is a required parameter.");if(!i.a.isObject(t))throw new TypeError("Error calling method _emitEvent(). <object>payload is a required parameter.");this.emit(e,this,t)}async _emitEventForOutgoingTransfer(e,t){if(this._log.trace(`_emitEventForOutgoingTransfer(${e}, ${JSON.stringify(t)})`),!i.a.isString(e))throw new TypeError("Error calling _emitEventForOutgoingTransfer(). <string>eventType is a required parameter.");if(!i.a.isObject(t))throw new TypeError("Error calling method _emitEventForOutgoingTransfer(). <object>payload is a required parameter.");let r=0;for(;!this.transfers.outgoing&&r<10;)await new Promise(e=>setTimeout(e,500)),r++;this.transfers.outgoing&&this.transfers.outgoing.sid===t.sid?Object.keys(i.a.pick(l.taskTransferEventTypes,[l.TRANSFER_INITIATED])).indexOf(e)>-1?(this.transfers._updateOutgoing(t),this.emit(l.taskTransferEventTypes[l.TRANSFER_INITIATED],this.transfers.outgoing)):this.transfers._emitEvent(e,t):this._log.debug(`The transfers.outgoing object is either not present or does not match the transfer sid in the event. ${JSON.stringify(t)}`)}_update(e,t={}){try{const r=new he(e,this._config);ue.forEach(e=>{"transfers"===e?(t.incoming||t.outgoing)&&this.transfers._update(t):this[e]=r[e]})}catch(t){throw this._log.error(`Failed to update Task sid=${e.sid}. Update aborted.`,t),new Error(`Failed to update Task sid=${e.sid}. Update aborted. Error: ${t}.`)}return this}};class he{constructor(e){if(!i.a.isObject(e))throw new TypeError("Failed to instantiate TaskDescriptor. <Descriptor>descriptor is required.");if(!le.every(t=>t in e))throw new TypeError("Failed to instantiate TaskDescriptor. <Descriptor>descriptor does not contain all properties of a Task.");this.addOns=JSON.parse(e.addons),this.age=e.age,this.attributes=JSON.parse(e.attributes),this.dateCreated=Object(M.parseTime)(1e3*e.date_created),this.dateUpdated=Object(M.parseTime)(1e3*e.date_updated),this.priority=e.priority,this.queueName=e.queue_name,this.queueSid=e.queue_sid,this.reason=e.reason,this.routingTarget=e.routing_target,this.sid=e.sid,this.status=e.assignment_status,this.taskChannelUniqueName=e.task_channel_unique_name,this.taskChannelSid=e.task_channel_sid,this.timeout=e.timeout,this.workflowName=e.workflow_name,this.workflowSid=e.workflow_sid,this.incomingTransferDescriptor=null,this.outgoingTransferDescriptor=null}}class de{constructor(e,t,r=[]){if(!i.a.isObject(e))throw new TypeError("Failed to instantiate ReservationDescriptor. <Descriptor>descriptor is required.");if(!i.a.isObject(t))throw new TypeError("Failed to instantiate ReservationDescriptor. <Worker>worker is required.");const n=i.a.filter(ve,e=>-1===r.indexOf(e));if(!i.a.every(n,t=>t in e)){const t=i.a.difference(n,Object.keys(e)).join(", ");throw new TypeError(`Failed to instantiate ReservationDescriptor. <Descriptor>descriptor does not contain all properties of a Reservation. Missing: ${t}`)}this.accountSid=e.account_sid,this.dateCreated=Object(M.parseTime)(1e3*e.date_created),this.dateUpdated=Object(M.parseTime)(1e3*e.date_updated),this.sid=e.sid,this.status=e.reservation_status,this.timeout=e.reservation_timeout,this.workerSid=e.worker_sid,this.workspaceSid=e.workspace_sid,this.taskDescriptor=null,e.canceled_reason_code&&(this.canceledReasonCode=e.canceled_reason_code);const s=t.getLogger(`ReservationDescriptor-${this.sid}`);if(-1===r.indexOf("task"))try{this.taskDescriptor=new he(e.task)}catch(e){throw s.error("Failed to create a ReservationDescriptor. The 'task' property is malformed."),e}if(-1===r.indexOf(l.transferFields.taskTransfer)&&"object"==typeof e.task_transfer)try{this.taskDescriptor.incomingTransferDescriptor=new re(e.task_transfer),this.transferDescriptor=new re(e.task_transfer)}catch(e){throw s.error("Failed to create a ReservationDescriptor. The 'task_transfer' property is malformed."),e}if(-1===r.indexOf(l.transferFields.activeOutgoingTaskTransfer)&&"object"==typeof e.active_outgoing_task_transfer)try{this.taskDescriptor.outgoingTransferDescriptor=new re(e.active_outgoing_task_transfer)}catch(e){throw s.error("Failed to create a ReservationDescriptor. The 'active_outgoing_task_transfer' property is malformed."),e}}}const pe=r(2).validateOptions,_e=["dateUpdated","canceledReasonCode","status","timeout","task","task_transfer"],ge=["reservation_timeout","task","canceled_reason_code"];const ve=["account_sid","date_created","date_updated","reservation_status","sid","task","reservation_timeout","worker_sid","workspace_sid"];var me=class extends f.EventEmitter{constructor(e,t,r){if(super(),!(e instanceof be))throw new TypeError("Failed to instantiate Reservation. <Worker>worker is a required parameter.");if(!(r instanceof de))throw new TypeError("Failed to instantiate Reservation. <ReservationDescriptor>descriptor is a required parameter.");this._worker=e,this._log=e.getLogger(`Reservation-${r.sid}`),this._request=t,this.task=this._createTask(r),r.transferDescriptor&&(this.transfer=this._createTransfer(r)),Object.assign(this,r),delete this.taskDescriptor,delete this.transferDescriptor}accept(){const e=this._worker.getRoutes().getRoute(x,this.sid).path,t={ReservationStatus:l.RESERVATION_STATUS_ACCEPTED};return this._request.post(e,t,l.API_V1).then(e=>this._update(e,ge))}complete(){const e=this._worker.getRoutes().getRoute(x,this.sid).path,t={ReservationStatus:l.RESERVATION_STATUS_COMPLETED};return this._request.post(e,t,l.API_V1).then(e=>this._update(e,ge))}reject(e={}){const t=this._worker.getRoutes().getRoute(x,this.sid).path,r={ReservationStatus:l.RESERVATION_STATUS_REJECTED};if(!pe(e,{activitySid:e=>i.a.isString(e)}))throw new TypeError(`Failed to issue Instruction:reject on Reservation sid=${this.sid}. The options passed in did not match the required types.`);for(const t in e)r[l.RESERVATION_REJECT_OPTIONS[t]]=e[t];return this._request.post(t,r,l.API_V1).then(e=>this._update(e,ge))}wrap(){const e=this._worker.getRoutes().getRoute(x,this.sid).path,t={ReservationStatus:l.RESERVATION_STATUS_WRAPPING};return this._request.post(e,t,l.API_V1).then(e=>this._update(e,ge))}call(e,t,r={}){if(!i.a.isString(e))throw new TypeError("Error calling method call(). <string>from is a required parameter.");if(!i.a.isString(t))throw new TypeError("Error calling method call(). <string>url is a required parameter.");const n=this._worker.getRoutes().getRoute(x,this.sid).path,s={Instruction:l.RESERVATION_INSTRUCTION_CALL,CallFrom:e,CallUrl:t};if(!pe(r,{accept:e=>i.a.isBoolean(e),record:e=>i.a.isString(e),statusCallbackUrl:e=>i.a.isString(e),timeout:e=>i.a.isInteger(e),to:e=>i.a.isString(e)}))throw new TypeError(`Failed to issue Instruction:call on Reservation sid=${this.sid}. The options passed in did not match the required types.`);for(const e in r)s[l.RESERVATION_CALL_OPTIONS[e]]=r[e];return this._request.post(n,s,l.API_V1).then(e=>this._update(e,ge))}dequeue(e={}){const t=this._worker.getRoutes().getRoute(x,this.sid).path,r={Instruction:l.RESERVATION_INSTRUCTION_DEQUEUE};if(!pe(e,{from:e=>i.a.isString(e),to:e=>i.a.isString(e),postWorkActivitySid:e=>i.a.isString(e),record:e=>i.a.isString(e),timeout:e=>i.a.isInteger(e),statusCallbackUrl:e=>i.a.isString(e),statusCallbackEvents:e=>i.a.isString(e)}))throw new TypeError(`Failed to issue Instruction:dequeue on Reservation sid=${this.sid}. The options passed in did not match the required types.`);for(const t in e)r[l.RESERVATION_DEQUEUE_OPTIONS[t]]=e[t];return this._request.post(t,r,l.API_V1).then(e=>this._update(e,ge))}redirect(e,t,r={}){if(!i.a.isString(e))throw new TypeError("Error calling method redirect(). <string>callSid is a required parameter.");if(!i.a.isString(t))throw new TypeError("Error calling method redirect(). <string>url is a required parameter.");const n=this._worker.getRoutes().getRoute(x,this.sid).path,s={accept:e=>i.a.isBoolean(e)},o={Instruction:l.RESERVATION_INSTRUCTION_REDIRECT,RedirectCallSid:e,RedirectUrl:t};if(!pe(r,s))throw new TypeError(`Failed to issue Instruction:redirect on Reservation sid=${this.sid}. The options passed in did not match the required types.`);for(const e in r)o[l.RESERVATION_REDIRECT_OPTIONS[e]]=r[e];return this._request.post(n,o,l.API_V1).then(e=>this._update(e,ge))}conference(e={}){if(!pe(e,{to:e=>i.a.isString(e),from:e=>i.a.isString(e),timeout:e=>i.a.isInteger(e),statusCallback:e=>i.a.isString(e),statusCallbackMethod:e=>i.a.isString(e),statusCallbackEvent:e=>i.a.isString(e),record:e=>i.a.isString(e),muted:e=>i.a.isBoolean(e),beep:e=>i.a.isBoolean(e)||i.a.isString(e),startConferenceOnEnter:e=>i.a.isBoolean(e),endConferenceOnExit:e=>i.a.isBoolean(e),endConferenceOnCustomerExit:e=>i.a.isBoolean(e),waitUrl:e=>i.a.isString(e),waitMethod:e=>i.a.isString(e),earlyMedia:e=>i.a.isBoolean(e),maxParticipants:e=>i.a.isInteger(e),conferenceStatusCallback:e=>i.a.isString(e),conferenceStatusCallbackMethod:e=>i.a.isString(e),conferenceStatusCallbackEvent:e=>i.a.isString(e),conferenceRecord:e=>i.a.isBoolean(e)||i.a.isString(e),conferenceTrim:e=>i.a.isString(e),recordingChannels:e=>i.a.isString(e),recordingStatusCallback:e=>i.a.isString(e),recordingStatusCallbackMethod:e=>i.a.isString(e),conferenceRecordingStatusCallback:e=>i.a.isString(e),conferenceRecordingStatusCallbackMethod:e=>i.a.isString(e),region:e=>i.a.isString(e),sipAuthUsername:e=>i.a.isString(e),sipAuthPassword:e=>i.a.isString(e)}))throw new TypeError(`Failed to issue Instruction:conference on Reservation sid=${this.sid}. The options passed in did not match the required types.`);const t=this._worker.getRoutes().getRoute(x,this.sid).path,r={Instruction:l.RESERVATION_INSTRUCTION_CONFERENCE};for(const t in e)r[i.a.upperFirst(t)]=e[t];return this._request.post(t,r,l.API_V1).then(()=>this)}updateParticipant(e){if(!pe(e,{endConferenceOnExit:e=>i.a.isBoolean(e),mute:e=>i.a.isBoolean(e),beepOnExit:e=>i.a.isBoolean(e)}))throw new TypeError(`Failed to update Worker Participant tied to Reservation sid=${this.sid}. The options passed in did not match the required types.`);const t=this._worker.getRoutes().getRoute(q).path,r={ReservationSid:this.sid};for(const t in e)r[i.a.upperFirst(t)]=e[t];return this._request.post(t,r,l.API_V2).then(()=>this)}_createTask(e){if(!(e instanceof de))return this._log.error(`Error calling method _createTask() for Reservation                              sid=${this.sid}. <ReservationDescriptor>reservationDescriptor                              is a required parameter.`),{};const t=e.taskDescriptor;try{return new fe(this._worker,this._request,e.sid,t)}catch(e){return this._log.error(`Failed to create a Task for Reservation sid=${this.sid}. Error: ${e}`),{}}}_createTransfer(e){if(!(e instanceof de))return this._log.error(`Error calling method _createTransfer() for Reservation                              sid=${this.sid}. <ReservationDescriptor>reservationDescriptor                              is a required parameter.`),{};const t=e.transferDescriptor;try{return new oe(this._worker,t)}catch(e){return this._log.error(`Failed to create a Transfer for Reservation sid=${this.sid}. Error: ${e}`),{}}}_update(e,t=[]){try{const r=new de(e,this._worker,t);_e.forEach(n=>{if("task"===n){if(-1===t.indexOf("task")){const t=e.task_transfer,r=e.active_outgoing_task_transfer;this.task._update(e.task,{incoming:t,outgoing:r})}}else"canceledReasonCode"===n?-1===t.indexOf("canceled_reason_code")&&e.canceled_reason_code&&(this[n]=r[n]):"task_transfer"===n&&e.task_transfer?this.transfer._update(e.task_transfer):this[n]=r[n]})}catch(t){throw this._log.error(`Failed to update Reservation sid=${e.sid}. Update aborted. Error: ${t}.`),t}return this}_emitEvent(e,t){if(!i.a.isString(e))throw new TypeError("Error calling _emitEvent(). <string>eventType is a required parameter.");if(!i.a.isObject(t))throw new TypeError("Error calling method _emitEvent(). <object>rawEventData is a required parameter.");this._update(t),this.emit(e,this)}};class ye extends f.EventEmitter{constructor(e,t,r={}){if(super(),!(e instanceof be))throw new TypeError("Failed to initialize ReservationsEntity. <Worker>worker is a required parameter.");this._worker=e,this._log=e.getLogger("ReservationsEntity"),this._request=t,this._reservations=new Map,this._reservationSidsByTask=new Map,this._pageSize=r.pageSize||l.DEFAULT_PAGE_SIZE,i.a.inRange(this._pageSize,1,l.DEFAULT_PAGE_SIZE+1)||(this._log.warn("PageSize range for ReservationsEntity must be between 1 and %d. Setting pageSize to default size=%d",l.DEFAULT_PAGE_SIZE,l.DEFAULT_PAGE_SIZE),this._pageSize=1e3)}get reservations(){return new Map(Array.from(this._reservations).filter(e=>!e[1][1]).map(e=>[e[0],e[1][0]]))}fetchReservations(){const e=this._getPage();return this._reservations.clear(),this._getAllReservations(e)}_getAllReservations(e){return e.then(e=>{e.items.forEach(e=>{this._insertReservation(e)}),e.hasNextPage&&this._getAllReservations(e.nextPage())})}_getPage(e){e=e||{};const t=this._worker.getRoutes().getRoute(R).path,r={Active:"true",PageSize:this._pageSize};return e.AfterSid&&(r.AfterSid=e.AfterSid),this._request.get(t,l.API_V2,r).then(e=>new Z.default(e.contents.map(e=>new de(e,this._worker)),e=>this._getPage({AfterSid:e}),e.after_sid))}_insertReservation(e){const t=e.sid;this._log.trace("_insertReservation(sid=%s, data=%s)",t,JSON.stringify(e)),this._reservations.has(t)&&this._log.debug("Reservation %s already exists for Worker %s. Attempting to overwrite it.",t,this._worker.sid);try{const r=new me(this._worker,this._request,e);return this._reservations.set(t,[r,!1]),this._reservationSidsByTask.has(r.task.sid)?this._reservationSidsByTask.get(r.task.sid).add(r.sid):this._reservationSidsByTask.set(r.task.sid,new Set([r.sid])),this._log.debug("Successfully created and inserted %s for %s to Task-Reservation lookup. Contents: %s",r.sid,r.task.sid,this._reservationSidsByTask.get(r.task.sid)),r}catch(e){throw this._log.error("Unable to create a Reservation for sid=%s. Skipping insert into Reservations map. Error: %s",t,e),e}}insert(e){this._log.trace("_insertReservation(sid=%s, data=%s)",e.sid,JSON.stringify(e));const t=new de(e,this._worker);return this._insertReservation(t)}getTasks(e){if(!this._reservationSidsByTask.has(e))return null;const t=[];return this._reservationSidsByTask.get(e).forEach(e=>{const r=this._reservations.get(e);r&&r[0].task&&t.push(r[0].task)}),t}_deleteByReservationSid(e){this._log.trace("_deleteByReservationSid(sid=%s)",e);const t=this.reservations.get(e);t?(this._log.info("Found Reservation sid=%s for Worker %s. Removing reservation and task.",e,this._worker.sid),this._cleanUpReservationAndTask(t)):this._log.info("Reservation with sid=%s not found. Unable to remove Reservation.",e)}_cleanUpReservationAndTask(e){this._log.debug("Soft deleting Reservation sid=%s for Worker %s",e.sid,this._worker.sid),this._reservations.set(e.sid,[e,!0]),setTimeout(()=>{this._log.debug("Hard deleting of Reservation sid=%s for Worker %s",e.sid,this._worker.sid),this._reservations.delete(e.sid)||this._log.warn("Failed to hard delete Reservation sid=%s for Worker %s",e.sid,this._worker.sid)},5e3)}}class we{constructor(e,t={}){this._worker=e,this._logLevel=t.logLevel||"error",this._log=new c("WorkerEventHandler",this._logLevel)}getTREventsToHandlerMapping(){return{"worker.activity.update":"_workerActivityUpdateHandler","worker.attributes.update":"_workerAttributesUpdateHandler","worker.capacity.update":"_workerCapacityUpdateHandler","worker.channel.availability.update":"_workerChannelAvailabilityUpdateHandler","reservation.created":"_reservationCreatedHandler","reservation.failed":"_reservationFailedHandler","reservation.accepted":"_reservationUpdateHandler","reservation.wrapup":"_reservationUpdateHandler","reservation.completed":"_reservationCleanupEventsHandler","reservation.rejected":"_reservationCleanupEventsHandler","reservation.timeout":"_reservationCleanupEventsHandler","reservation.canceled":"_reservationCleanupEventsHandler","reservation.rescinded":"_reservationCleanupEventsHandler","task.updated":"_taskTypeEventHandler","task.canceled":"_taskTypeEventHandler","task.completed":"_taskTypeEventHandler","task.wrapup":"_taskTypeEventHandler","task.transfer-attempt-failed":"_transferTaskEventHandler","task.transfer-completed":"_transferTaskEventHandler","task.transfer-failed":"_transferTaskEventHandler","task.transfer-initiated":"_transferTaskEventHandler","task.transfer-canceled":"_transferTaskEventHandler"}}_workerActivityUpdateHandler(e){if(this._log.info("Worker %s received Event: worker.activity.update. Proceeding to update ...",this._worker.sid),!e.activity_sid)throw this._log.error("Event: worker.activity.update did not contain an activity_sid. Unable to update Worker %s.",this._worker.sid),new Error(`Failed to update Worker ${this._worker.sid} activity.`);{const t=this._worker.activities.get(e.activity_sid);if(!t)throw this._log.error("The Activity sid=%s specified in Event: worker.activity.update does not exist in the Worker's map of Activities. Unable to update Worker %s activity.",e.activity_sid,this._worker.sid),new Error(`Failed to update Worker ${this._worker.sid} activity.`);this._worker.activity._isCurrent=!1,this._worker.activity=t,t._isCurrent=!0,this._worker.emit("activityUpdated",this._worker._update(e))}}_workerAttributesUpdateHandler(e){this._log.info(`Worker ${this._worker.sid} received Event: worker.attributes.update. Proceeding to update ...`),this._worker.emit("attributesUpdated",this._worker._update(e))}_workerCapacityUpdateHandler(e){if(this._log.info(`Worker ${this._worker.sid} received Event: worker.capacity.update.`),!e.sid)throw this._log.error("Event: worker.capacity.update did not contain a Channel sid. Unable to update Channel for Worker %s.",this._worker.sid),new Error(`Failed to update Worker ${this._worker.sid} channel.`);{const t=this._worker.channels.get(e.sid);if(!t)throw this._log.error("The Channel sid=%s specified in Event: worker.capacity.update does not  exist in the Worker's map of Channels. Unable to update Worker %s channel.",e.sid,this._worker.sid),new Error(`Failed to update Worker ${this._worker.sid} channel.`);t._emitEvent("capacityUpdated",e)}}_workerChannelAvailabilityUpdateHandler(e){if(this._log.info("Worker %s received Event: worker.channel.availability.update.",this._worker.sid),!e.sid)throw this._log.error("Event: worker.capacity.update did not contain a Channel sid. Unable to update Channel for Worker %s.",this._worker.sid),new Error(`Failed to update Worker ${this._worker.sid} channel.`);{const t=this._worker.channels.get(e.sid);if(!t)throw this._log.error("The Channel sid=%s specified in Event: worker.channel.availability.update does not  exist in the Worker's map of Channels. Unable to update Worker %s channel.",e.sid,this._worker.sid),new Error(`Failed to update Worker ${this._worker.sid} channel.`);t._emitEvent("availabilityUpdated",e)}}_reservationCreatedHandler(e){if(this._log.info("Worker %s received Event: reservation.created.",this._worker.sid),!e.sid)throw this._log.error("Event: reservationCreated did not contain a Reservation sid. Unable to create a Reservation for Worker %s.",this._worker.sid),new Error(`Failed to create Reservation for Worker ${this._worker.sid}.`);try{this._log.info("Attempting to create and insert Reservation into Worker %s reservations map.",this._worker.sid);const t=this._worker._dataServices.reservationsEntity.insert(e);this._worker.emit("reservationCreated",t)}catch(e){throw this._log.info("Failed to create and insert Reservation into Worker %s reservations map.",this._worker.sid),new Error(`Failed to create a Reservation for Worker ${this._worker.sid} on Event: reservationCreated. Error: ${e}`)}}_reservationFailedHandler(e){this._log.info("Worker %s received Event: reservation.failed.",this._worker.sid),this._worker.emit("reservationFailed",e)}_reservationUpdateHandler(e,t){const r=l.reservationToSDKEventsMapping[t];if(this._log.info("Worker %s received Event: %s mapped to %s.",this._worker.sid,t,r),!e.sid)throw this._log.error(`Event: reservation.${r} did not contain a Reservation sid. Unable to update Reservation for Worker ${this._worker.sid}`),new Error(`Failed to update Reservation for Worker ${this._worker.sid}.`);{const t=this._worker.reservations.get(e.sid);if(!t)throw this._log.error(`The Resevation sid=${e.sid} specified in Event: reservation.${r} does not                                         exist in the Worker's map of Reservations. Unable to update Worker ${this._worker.sid} reservation.`),new Error(`Failed to update Worker ${this._worker.sid} reservation.`);t._emitEvent(r,e)}}_reservationCleanupEventsHandler(e,t){const r=l.reservationToSDKEventsMapping[t];if(this._log.info("Worker %s received Event: %s mapped to %s.",this._worker.sid,t,r),!e.sid)throw this._log.error("Event: reservation.%s did not contain a Reservation sid. Unable to update Reservation for Worker %s.",r,this._worker.sid),new Error(`Failed to update Reservation for Worker ${this._worker.sid}.`);{const t=this._worker.reservations.get(e.sid);t?(this._worker._dataServices.reservationsEntity._deleteByReservationSid(e.sid),t._emitEvent(r,e)):this._log.warn("The reservation specified by Event: reservation.%s does not exist in Worker %s Reservations map. Skipping event.",r,this._worker.sid)}}_taskTypeEventHandler(e,t){const r=l.taskEventTypes[t];if(this._log.info("Worker %s received Event: %s mapped to %s.",this._worker.sid,t,r),!e.sid)throw this._log.error("Event: task.%s did not contain a Task sid. Unable to emit event for Worker %s.",r,this._worker.sid),new Error(`Failed to emit event for Worker ${this._worker.sid}.`);{const t=this._worker._dataServices.reservationsEntity.getTasks(e.sid);t&&t.length>0?t.forEach(t=>{t._update(e),t._emitEvent(r,e)}):this._log.warn("The task specified by Event: task.%s does not exist in Worker %s Reservations map. Skipping event.",r,this._worker.sid)}}_transferTaskEventHandler(e,t){const r=l.taskTransferEventEmitterMapping[t];if(this._log.info("Worker %s received Event: % mapped to %s.",this._worker.sid,t,r),!e.initiating_reservation_sid||!e.task_sid)throw this._log.error("Event: task.%s did not contain a Reservation sid or Task sid. Unable to emit event for Worker %s.",r,this._worker.sid),new Error(`Failed to emit event for Worker ${this._worker.sid}.`);{const t=this._worker.reservations.get(e.initiating_reservation_sid);t?t.task.sid===e.task_sid?t.task._emitEventForOutgoingTransfer(r,e):this._log.warn("The task %s related to Event: task.%s does not match the expected owning Reservation %s for Worker %s. Skipping event.",e.task_sid,r,t.sid,this._worker.sid):this._log.warn("The reservation %s related to Event: task.%s does not exist in Worker %s Reservations map. Skipping event.",e.initiating_reservation_sid,r,this._worker.sid)}}}const ke=["dateUpdated","dateStatusChanged","attributes","name","available"];const Ee=["account_sid","activity_name","activity_sid","attributes","available","date_created","date_status_changed","date_updated","friendly_name","sid","workspace_sid"];var be=class extends f.EventEmitter{constructor(e,t={},r={Request:E,EventBridgeSignaling:m}){if(super(),!i.a.isString(e))throw new TypeError("Failed to instantiate Worker. <string>token is a required parameter.");const n={connectActivitySid:e=>i.a.isString(e),closeExistingSessions:e=>i.a.isBoolean(e),logLevel:e=>i.a.isString(e),ebServer:e=>i.a.isString(e),wsServer:e=>i.a.isString(e),region:e=>i.a.isString(e)};let s;Object(M.validateOptions)(t,n),this._connectActivitySid=t.connectActivitySid,this._closeExistingSessions=t.closeExistingSessions,this._logLevel=t.logLevel||"error",this._config=new u(e,t),this._log=new c(`Worker-${this._config.getLogIdentifier()}`,this._logLevel),this._request=new r.Request(this._config),this._dataServices={activitiesEntity:new K(this,this._request),channelsEntity:new te(this,this._request),reservationsEntity:new ye(this,this._request)},this._signaling=new r.EventBridgeSignaling(this,{closeExistingSessions:t.closeExistingSessions}),this._subscribeToSignalingEvents(),s=t.eventHandlerClass?new t.eventHandlerClass(this):new we(this),this.taskRouterEventHandler=s}createTask(e,t,r,n,s={}){if(!i.a.isString(e))throw new TypeError("Error calling method createTask(). <string>to is a required parameter.");if(!i.a.isString(t))throw new TypeError("Error calling method createTask(). <string>from is a required parameter.");if(!i.a.isString(r))throw new TypeError("Error calling method createTask(). <string>workflowSid is a required parameter.");if(!i.a.isString(n))throw new TypeError("Error calling method createTask(). <string>taskQueueSid is a required parameter.");const o={attributes:e=>i.a.isObject(e),taskChannelUniqueName:e=>i.a.isString(e),taskChannelSid:e=>i.a.isString(e)};if(!Object(M.validateOptions)(s,o))throw new TypeError(`Failed to create a Task for Worker ${this.sid}. The options passed in did not match the required types.`);const a=this.getRoutes().getRoute(I).path,c={WorkflowSid:r,TaskQueueSid:n,RoutingTarget:this.sid};for(const e in s)"attributes"===e||(c[l.CREATE_TASK_OPTIONS[e]]=s[e]);const u={outbound_to:e,from:t};return c.Attributes=Object.assign({},s.attributes,u),this._request.post(a,c,l.API_V1).then(e=>e.sid)}getLogger(e){return new c(`${e}-${this.sid}`,this._config._logLevel)}setAttributes(e){if(!i.a.isObject(e))throw new TypeError("Unable to set attributes on Worker. <object>attributes is a required parameter.");const t=this.getRoutes().getRoute(C).path,r={Attributes:e};return this._request.post(t,r,l.API_V1).then(e=>this._update(e))}updateToken(e){if(!i.a.isString(e))throw new TypeError("To update the Twilio token, a new Twilio token must be passed in. <string>newToken is a required parameter.");this._log.info("Proceeding to update the Worker's current active token with a new token."),this._log.debug("New token: "+e);try{this._config.updateToken(e),this._signaling.updateToken(e),this.emit("tokenUpdated")}catch(e){this.emit("error",e)}}_subscribeToSignalingEvents(){this._log.info("Subscribing to Signaling events .... "),this._signaling.on("connected",()=>{this._log.info("Received Event: 'connected' from Signaling layer. Pending initialization.",this.sid)}),this._signaling.on("disconnected",e=>{this._log.info("Received Event: 'disconnected' from Signaling layer for Worker %s. %s",this.sid,e),this._unSubscribeFromTaskRouterEvents(),this.emit("disconnected",e)}),this._signaling.on("init",e=>{this._log.info("Received Event: 'init' from Signaling layer. Proceeding to initialize Worker %s.",e.channel_id),this.sid=e.channel_id,this.accountSid=e.account_sid,this.workspaceSid=e.workspace_sid,this._signaling.setLifetime(e.token_lifetime),this._initialize()}),this._signaling.on("error",e=>{this._log.info("Received Event: 'error' from Signaling layer for Worker %s.",this.sid),this.emit("error",e)}),this._signaling.on("tokenExpired",()=>{this._log.info("Received Event: 'tokenExpired' for for Worker %s. Please update the token. Websocket will not reconnect automatically until token is updated.",this.sid),this.emit("tokenExpired")})}_subscribeToTaskRouterEvents(){this._log.info("Subscribing to TaskRouter events ... ");for(let[e,t]of Object.entries(this.taskRouterEventHandler.getTREventsToHandlerMapping()))this._signaling.on(e,this.taskRouterEventHandler[t])}_unSubscribeFromTaskRouterEvents(){this._log.info("Unsubscribing from TaskRouter events ... ");for(let[e,t]of Object.entries(this.taskRouterEventHandler.getTREventsToHandlerMapping()))this._signaling.removeListener(e,this.taskRouterEventHandler[t])}_initialize(){this._routes=new $(this.workspaceSid,this.sid),this._log.info("Initializing Worker %s...",this.sid);const e=this.getRoutes().getRoute(C).path;let t;this._request.get(e,l.API_V1).then(e=>{const r=new z(e,this._config);return t=r.activitySid,delete r.activityName,delete r.activitySid,delete r.available,Object.assign(this,r),Promise.all([this._dataServices.activitiesEntity.fetchActivities(),this._dataServices.channelsEntity.fetchChannels(),this._dataServices.reservationsEntity.fetchReservations()])}).then(()=>{this._log.info("Worker %s activities, channels and pending reservations initialized",this.sid),this._setCurrentActivity(t),this._connectActivitySid?this._setWorkerConnectActivity().then(()=>{this._log.info("Successfully updated Worker on connect to Activity=%s",this._connectActivitySid),this._log.info("Worker %s successfully initialized",this.sid)}):this._log.info("Worker %s successfully initialized",this.sid),this._subscribeToTaskRouterEvents(),this.emit("ready",this)}).catch(e=>{this._log.error("Failed to initialize Worker %s. Error: %s",this.sid,e),this.emit("error",`Failed to initialize Worker ${this.sid}`)})}get channels(){return this._dataServices.channelsEntity.channels}get activities(){return this._dataServices.activitiesEntity.activities}get reservations(){return this._dataServices.reservationsEntity.reservations}_setCurrentActivity(e){const t=this.activities.get(e);if(!t)throw new Error(`Unable to set the current Activity sid=${e} on the Worker.`);t._isCurrent=!0,this.activity=t,this.activity._isCurrent=!0}_setWorkerConnectActivity(){if(!i.a.isString(this._connectActivitySid))throw new TypeError("Failed to set the Worker's activity to the provided optional connectActivitySid. <string>connectActivitySid must be a string.");return this._updateWorkerActivity(this._connectActivitySid).then(()=>(this._log.info("Successfully set the Worker's activity to the provided connectActivitySid=%s on connection.",this._connectActivitySid),this._connectRetry=0,this)).catch(e=>{if(this._connectRetry>=3)throw this._log.error("Unable to set Worker %s activity to the provided %s on successful connection. %s",this.sid,this._connectActivitySid,e),e;return this._connectRetry=this._connectRetry>0?this._connectRetry+1:1,new Promise(e=>setTimeout(e,500)).then(this._setWorkerConnectActivity.bind(this))})}_updateWorkerActivity(e,t={}){if(!i.a.isString(e))throw new TypeError("Error updating Worker Activity: <string>activitySid is a required parameter");const r=this.getRoutes().getRoute(C).path,n={ActivitySid:e};for(const e in t)n[l.WORKER_UPDATE_OPTIONS[e]]=t[e];return this._request.post(r,n,l.API_V1).then(t=>{try{this._update(t),this.activity._isCurrent=!1;const r=this.activities.get(t.activity_sid);this.activity=r,this.activity._isCurrent=!0}catch(t){throw this._log.error("Failed to update the Worker's activity to sid=%s. Error: %s",e,t),t}return this})}_update(e){this._log.trace("Attempting to update Worker %s with latest Worker data=%s",this.sid,JSON.stringify(e));try{const t=new z(e,this._config);ke.forEach(e=>{this[e]=t[e]})}catch(t){this._log.error("Failed to update Worker sid=%s. Update aborted. Error: %s.",e.sid,t)}return this}disconnect(){this._signaling.disconnect()}getRoutes(){return this._routes}};var Se=class extends be{monitor(e,t,r){if(!i.a.isString(e))throw new TypeError("Error monitoring reservation: <string>taskSid is a required parameter");if(!i.a.isString(t))throw new TypeError("Error monitoring reservation: <string>reservationSid is a required parameter");if(r&&!i.a.isObject(r))throw new TypeError("Error monitoring reservation: <string>extraParams must be an object");return this._supervise("monitor",e,t,r)}_supervise(e,t,r,n){const i=this.getRoutes().getRoute(O,t,r).path,s=Object.assign({},n,{Instruction:"supervise",Supervisor:this.sid,SupervisorMode:e});return this._request.post(i,s,l.API_V1).then(()=>{})}};const Te=r(2);class Re{constructor(e,t={}){if(new.target===Re)throw new TypeError("You cannot instantiate TaskRouterBase directly");this._config=new u(e,t),this._request=new E(this._config),e=Te.verifyJWT(e),this.jwt=e,this.accountSid=e.sub,this.workspaceSid=e.grants.task_router.workspace_sid,this.workerSid=e.grants.task_router.worker_sid,this.role=e.grants.task_router.role}}const xe=["friendly_name","reservation_activity_name","assignment_activity_name","target_workers","max_reserved_workers","task_order","reservation_activity_sid","assignment_activity_sid","workspace_sid","account_sid","sid","date_created","date_updated","lifo_queue"];var Ce=class{constructor(e){if(!(e instanceof Ae))throw new TypeError("Failed to create a TaskQueue. <TaskQueueDescriptor>descriptor is a required parameter.");Object.assign(this,e)}};class Ae{constructor(e){if(!i.a.isObject(e))throw new TypeError("Failed to instantiate TaskQueueDescriptor. <Descriptor>descriptor is required.");if(!xe.every(t=>t in e))throw new TypeError("Failed to instantiate TaskQueueDescriptor. <Descriptor>descriptor does not contain all properties of a TaskQueue.");this.sid=e.sid,this.accountSid=e.account_sid,this.workspaceSid=e.workspace_sid,this.name=e.friendly_name,this.assignmentActivityName=e.assignment_activity_name,this.reservationActivityName=e.reservation_activity_name,this.assignmentActivitySid=e.assignment_activity_sid,this.reservationActivitySid=e.reservation_activity_sid,this.targetWorkers=e.target_workers,this.maxReservedWorkers=e.max_reserved_workers,this.taskOrder=e.task_order,this.dateCreated=Object(M.parseTime)(1e3*e.date_created),this.dateUpdated=Object(M.parseTime)(1e3*e.date_updated)}}var Oe=class{constructor(e){if(!(e instanceof z))throw new TypeError("Failed to create a WorkerContainer. <WorkerDescriptor>descriptor is a required parameter.");Object.assign(this,e)}};const Ie=r(6);class Ne{constructor(e,t,r={}){if(!(e instanceof be))throw new TypeError("Failed to initialize WorkspacesEntity. <Worker>worker is a required parameter.");this._Workers=new Map,this._TaskQueues=new Map,this._worker=e,this._request=t,this._log=e.getLogger(`WorkspaceEntity-${this._worker.workspaceSid}`),this._pageSize=r.pageSize||l.DEFAULT_PAGE_SIZE,i.a.inRange(this._pageSize,1,l.DEFAULT_PAGE_SIZE+1)||(this._log.warn("PageSize range for WorkspaceEntity must be between 1 and %d. Setting pageSize to default size=%d",l.DEFAULT_PAGE_SIZE,l.DEFAULT_PAGE_SIZE),this._pageSize=l.DEFAULT_PAGE_SIZE)}get Workers(){return this._Workers}get TaskQueues(){return this._TaskQueues}fetchWorkers(){return this._getAllWorkers(this._getWorkerPage())}fetchTaskQueues(){return this._getAllTaskQueues(this._getTaskQueuePage())}_getAllWorkers(e){return e.then(e=>{e.items.forEach(e=>this._insertWorker(e)),e.hasNextPage&&this._getAllWorkers(e.nextPage())})}_getWorkerPage(e){e=e||{};const t=this._worker.getRoutes().getRoute(A).path,r={PageSize:this._pageSize};return e.AfterSid&&(r.AfterSid=e.AfterSid),this._request.get(t,l.API_V1,r).then(e=>new Ie(e.contents.map(e=>new z(e)),e=>this._getPage({AfterSid:e}),e.after_sid))}_insertWorker(e){const t=e.sid;this._log.trace("_insertWorker(sid=%s, data=%s)",t,JSON.stringify(e));try{this._Workers.set(t,new Oe(e))}catch(e){this._log.error("Unable to create a Worker for sid=%s. Skipping insert into Worker map. Error: %s",t,e)}}_getAllTaskQueues(e){return e.then(e=>{e.items.forEach(e=>this._insertTaskQueue(e)),e.hasNextPage&&this._getAllTaskQueues(e.nextPage())})}_getTaskQueuePage(e){e=e||{};const t=this._worker.getRoute(U).path,r={PageSize:this._pageSize};return e.AfterSid&&(r.AfterSid=e.AfterSid),this._request.get(t,l.API_V1,r).then(e=>new Ie(e.contents.map(e=>new Ae(e)),e=>this._getPage({AfterSid:e}),e.after_sid))}_insertTaskQueue(e){const t=e.sid;this._log.trace("_insertTaskQueue(sid=%s, data=%s",t,JSON.stringify(e));try{this._TaskQueues.set(t,new Ce(e))}catch(e){this._log.error("Unable to create a TaskQueue for sid=%s. Skipping insert into TaskQueue map. Error: %s",t,e)}}}var je=class extends Re{constructor(e,t={}){if(super(e,t),"admin"!==this.role.toLowerCase())throw new TypeError('A token with the "admin" role is required to use this functionality.');this.workspaceEntity=new Ne(this._config,this._request,t)}fetchWorkers(){return this.workspaceEntity.fetchWorkers().then(()=>this.workspaceEntity.Workers)}fetchTaskQueues(){return this.workspaceEntity.fetchTaskQueues().then(()=>this.workspaceEntity.TaskQueues)}};r.d(t,"Supervisor",function(){return Se}),r.d(t,"Worker",function(){return be}),r.d(t,"Workspace",function(){return je}),r.d(t,"TaskRouterEventHandler",function(){return we})},function(e,t,r){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";var n=r(18);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e){e.exports={name:"axios",version:"0.21.1",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test && bundlesize",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://github.com/axios/axios",devDependencies:{bundlesize:"^0.17.0",coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^5.2.0",sinon:"^4.5.0",typescript:"^2.8.1","url-search-params":"^0.10.0",webpack:"^1.13.1","webpack-dev-server":"^1.14.1"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.10.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]}},function(e,t,r){"use strict";e.exports=((e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return-1!==n&&(-1===i||n<i)})},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";const n=r(43),i=r(42),s=process.env;let o;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===o)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==o)return s.VSCODE_PID?1:0;const t=o?1:0;if("win32"===process.platform){const e=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in s)||"codeship"===s.CI_NAME?1:t;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)?1:"COLORTERM"in s?1:(s.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?o=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(o=!0),"FORCE_COLOR"in s&&(o=0===s.FORCE_COLOR.length||0!==parseInt(s.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t){e.exports=require("tty")},function(e,t,r){"use strict";var n=r(45),i=r(34);t.init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(){return process.stderr.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(r){var n=this.namespace;if(this.useColors){var i=this.color,s="[3"+(i<8?i:"8;5;"+i),o="  ".concat(s,";1m").concat(n," [0m");r[0]=o+r[0].split("\n").join("\n"+o),r.push(s+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{var s=r(44);s&&(s.stderr||s).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(20)(t);var o=e.exports.formatters;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t){var r=1e3,n=60*r,i=60*n,s=24*i,o=7*s,a=365.25*s;function c(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*s;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*n;case"seconds":case"second":case"secs":case"sec":case"s":return c*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return c(e,t,s,"day");if(t>=i)return c(e,t,i,"hour");if(t>=n)return c(e,t,n,"minute");if(t>=r)return c(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":n(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(i=++n)}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(20)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t,r){"use strict";"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(48):e.exports=r(46)},function(e,t,r){var n;try{n=r(49)("follow-redirects")}catch(e){n=function(){}}e.exports=n},function(e,t){e.exports=require("assert")},function(e,t,r){"use strict";var n=r(5),i=r(24),s=r(22),o=r(13),a=r(10),c=r(17),u=r(21).http,l=r(21).https,f=r(15),h=r(32),d=r(41),p=r(12),_=r(23),g=/https:?/;e.exports=function(e){return new Promise(function(t,r){var v=function(e){t(e)},m=function(e){r(e)},y=e.data,w=e.headers;if(w["User-Agent"]||w["user-agent"]||(w["User-Agent"]="axios/"+d.version),y&&!n.isStream(y)){if(Buffer.isBuffer(y));else if(n.isArrayBuffer(y))y=Buffer.from(new Uint8Array(y));else{if(!n.isString(y))return m(p("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));y=Buffer.from(y,"utf-8")}w["Content-Length"]=y.length}var k=void 0;e.auth&&(k=(e.auth.username||"")+":"+(e.auth.password||""));var E=s(e.baseURL,e.url),b=f.parse(E),S=b.protocol||"http:";if(!k&&b.auth){var T=b.auth.split(":");k=(T[0]||"")+":"+(T[1]||"")}k&&delete w.Authorization;var R=g.test(S),x=R?e.httpsAgent:e.httpAgent,C={path:o(b.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:w,agent:x,agents:{http:e.httpAgent,https:e.httpsAgent},auth:k};e.socketPath?C.socketPath=e.socketPath:(C.hostname=b.hostname,C.port=b.port);var A,O=e.proxy;if(!O&&!1!==O){var I=S.slice(0,-1)+"_proxy",N=process.env[I]||process.env[I.toUpperCase()];if(N){var j=f.parse(N),L=process.env.no_proxy||process.env.NO_PROXY,U=!0;if(L)U=!L.split(",").map(function(e){return e.trim()}).some(function(e){return!!e&&("*"===e||("."===e[0]&&b.hostname.substr(b.hostname.length-e.length)===e||b.hostname===e))});if(U&&(O={host:j.hostname,port:j.port,protocol:j.protocol},j.auth)){var F=j.auth.split(":");O.auth={username:F[0],password:F[1]}}}}O&&(C.headers.host=b.hostname+(b.port?":"+b.port:""),function e(t,r,n){if(t.hostname=r.host,t.host=r.host,t.port=r.port,t.path=n,r.auth){var i=Buffer.from(r.auth.username+":"+r.auth.password,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+i}t.beforeRedirect=function(t){t.headers.host=t.host,e(t,r,t.href)}}(C,O,S+"//"+b.hostname+(b.port?":"+b.port:"")+C.path));var P=R&&(!O||g.test(O.protocol));e.transport?A=e.transport:0===e.maxRedirects?A=P?c:a:(e.maxRedirects&&(C.maxRedirects=e.maxRedirects),A=P?l:u),e.maxBodyLength>-1&&(C.maxBodyLength=e.maxBodyLength);var W=A.request(C,function(t){if(!W.aborted){var r=t,s=t.req||W;if(204!==t.statusCode&&"HEAD"!==s.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=r.pipe(h.createUnzip()),delete t.headers["content-encoding"]}var o={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:s};if("stream"===e.responseType)o.data=r,i(v,m,o);else{var a=[];r.on("data",function(t){a.push(t),e.maxContentLength>-1&&Buffer.concat(a).length>e.maxContentLength&&(r.destroy(),m(p("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,s)))}),r.on("error",function(t){W.aborted||m(_(t,e,null,s))}),r.on("end",function(){var t=Buffer.concat(a);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=n.stripBOM(t))),o.data=t,i(v,m,o)})}}});W.on("error",function(t){W.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||m(_(t,e,null,W))}),e.timeout&&W.setTimeout(e.timeout,function(){W.abort(),m(p("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",W))}),e.cancelToken&&e.cancelToken.promise.then(function(e){W.aborted||(W.abort(),m(e))}),n.isStream(y)?y.on("error",function(t){m(_(t,e,null,W))}).pipe(W):W.end(y)})}},function(e,t,r){"use strict";var n=r(5);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(5),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,s,o={};return e?(n.forEach(e.split("\n"),function(e){if(s=e.indexOf(":"),t=n.trim(e.substr(0,s)).toLowerCase(),r=n.trim(e.substr(s+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}}),o):o}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";var n=r(5);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,s,o){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(5),i=r(24),s=r(57),o=r(13),a=r(22),c=r(54),u=r(53),l=r(12);e.exports=function(e){return new Promise(function(t,r){var f=e.data,h=e.headers;n.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(p+":"+_)}var g=a(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),o(g,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?c(d.getAllResponseHeaders()):null,s={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};i(t,r,s),d=null}},d.onabort=function(){d&&(r(l("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){r(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var v=(e.withCredentials||u(g))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;v&&(h[e.xsrfHeaderName]=v)}if("setRequestHeader"in d&&n.forEach(h,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)}),n.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),r(e),d=null)}),f||(f=null),d.send(f)})}},function(e,t,r){"use strict";var n=r(5);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(5);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";var n=r(5),i=r(60),s=r(26),o=r(25);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||o.adapter)(e).then(function(t){return a(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(a(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(5);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,r){"use strict";var n=r(5),i=r(13),s=r(62),o=r(61),a=r(19);function c(e){this.defaults=e,this.interceptors={request:new s,response:new s}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},c.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],function(e){c.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}}),n.forEach(["post","put","patch"],function(e){c.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}}),e.exports=c},function(e,t,r){"use strict";var n=r(5),i=r(27),s=r(63),o=r(19);function a(e){var t=new s(e),r=i(s.prototype.request,t);return n.extend(r,s.prototype,t),n.extend(r,t),r}var c=a(r(25));c.Axios=s,c.create=function(e){return a(o(c.defaults,e))},c.Cancel=r(18),c.CancelToken=r(40),c.isCancel=r(26),c.all=function(e){return Promise.all(e)},c.spread=r(39),c.isAxiosError=r(38),e.exports=c,e.exports.default=c},function(e,t,r){"use strict";const n=r(3),{createHash:i}=r(16),{createServer:s,STATUS_CODES:o}=r(10),a=r(9),c=r(33),{format:u,parse:l}=r(28),{GUID:f,kWebSocket:h}=r(7),d=/^[+/0-9A-Za-z]{22}==$/;function p(e){e.emit("close")}function _(){this.destroy()}function g(e,t,r,n){e.writable&&(r=r||o[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.write(`HTTP/1.1 ${t} ${o[t]}\r\n`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+r)),e.removeListener("error",_),e.destroy()}function v(e){return e.trim()}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=s((e,t)=>{const r=o[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,n)=>{this.handleUpgrade(t,r,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?t.close(()=>this.emit("close")):process.nextTick(p,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",_);const i=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),s=+e.headers["sec-websocket-version"],o={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!i||!d.test(i)||8!==s&&13!==s||!this.shouldHandle(e))return g(t,400);if(this.options.perMessageDeflate){const r=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const n=l(e.headers["sec-websocket-extensions"]);n[a.extensionName]&&(r.accept(n[a.extensionName]),o[a.extensionName]=r)}catch(e){return g(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[`${8===s?"sec-websocket-origin":"origin"}`],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(s,a,c,u)=>{if(!s)return g(t,a||401,c,u);this.completeUpgrade(i,o,e,t,r,n)});if(!this.options.verifyClient(a))return g(t,401)}this.completeUpgrade(i,o,e,t,r,n)}completeUpgrade(e,t,r,n,s,o){if(!n.readable||!n.writable)return n.destroy();if(n[h])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");const l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${i("sha1").update(e+f).digest("base64")}`],d=new c(null);let p=r.headers["sec-websocket-protocol"];if(p&&(p=p.split(",").map(v),(p=this.options.handleProtocols?this.options.handleProtocols(p,r):p[0])&&(l.push(`Sec-WebSocket-Protocol: ${p}`),d._protocol=p)),t[a.extensionName]){const e=t[a.extensionName].params,r=u({[a.extensionName]:[e]});l.push(`Sec-WebSocket-Extensions: ${r}`),d._extensions=t}this.emit("headers",l,r),n.write(l.concat("\r\n").join("\r\n")),n.removeListener("error",_),d.setSocket(n,s,this.options.maxPayload),this.clients&&(this.clients.add(d),d.on("close",()=>this.clients.delete(d))),o(d,r)}}},function(e,t,r){"use strict";const{Duplex:n}=r(14);function i(e){e.emit("close")}function s(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(e){this.removeListener("error",o),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0;function a(){r&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a)}):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a));const c=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t){c.push(t)||(r=!1,e._socket.pause())}),e.once("error",function(e){c.destroyed||c.destroy(e)}),e.once("close",function(){c.destroyed||c.push(null)}),c._destroy=function(t,r){if(e.readyState===e.CLOSED)return r(t),void process.nextTick(i,c);let n=!1;e.once("error",function(e){n=!0,r(e)}),e.once("close",function(){n||r(t),process.nextTick(i,c)}),e.terminate()},c._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),c._readableState.endEmitted&&c.destroy()):(e._socket.once("finish",function(){t()}),e.close())):e.once("open",function(){c._final(t)})},c._read=function(){e.readyState!==e.OPEN||r||(r=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,r,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once("open",function(){c._write(t,r,n)})},c.on("end",s),c.on("error",o),c}},function(e,t,r){"use strict";class n{constructor(e,t){this.target=t,this.type=e}}class i extends n{constructor(e,t){super("message",t),this.data=e}}class s extends n{constructor(e,t,r){super("close",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=t,this.code=e}}class o extends n{constructor(e){super("open",e)}}class a extends n{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t,r){if("function"!=typeof t)return;function n(e){t.call(this,new i(e,this))}function c(e,r){t.call(this,new s(e,r,this))}function u(e){t.call(this,new a(e,this))}function l(){t.call(this,new o(this))}const f=r&&r.once?"once":"on";"message"===e?(n._listener=t,this[f](e,n)):"close"===e?(c._listener=t,this[f](e,c)):"error"===e?(u._listener=t,this[f](e,u)):"open"===e?(l._listener=t,this[f](e,l)):this[f](e,t)},removeEventListener(e,t){const r=this.listeners(e);for(let n=0;n<r.length;n++)r[n]!==t&&r[n]._listener!==t||this.removeListener(e,r[n])}};e.exports=c},function(e,t,r){"use strict";const n=Symbol("kDone"),i=Symbol("kRun");e.exports=class{constructor(e){this[n]=(()=>{this.pending--,this[i]()}),this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[i]()}[i](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[n])}}}},function(e,t){e.exports=require("tls")},function(e,t){e.exports=require("net")},function(e,t,r){"use strict";const n=r(33);n.createWebSocketStream=r(66),n.Server=r(65),n.Receiver=r(31),n.Sender=r(29),e.exports=n},function(e,t,r){var n,i;!function(s,o){"use strict";void 0===(i="function"==typeof(n=function(){var e=function(){},t="undefined",r=["trace","debug","info","warn","error"];function n(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function i(t,n){for(var i=0;i<r.length;i++){var s=r[i];this[s]=i<t?e:this.methodFactory(s,t,n)}this.log=this.debug}function s(r,s,o){return function(r){"debug"===r&&(r="log");return typeof console!==t&&(void 0!==console[r]?n(console,r):void 0!==console.log?n(console,"log"):e)}(r)||function(e,r,n){return function(){typeof console!==t&&(i.call(this,r,n),this[e].apply(this,arguments))}}.apply(this,arguments)}function o(e,n,o){var a,c=this,u="loglevel";function l(){var e;if(typeof window!==t){try{e=window.localStorage[u]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(u)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}e&&(u+=":"+e),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=o||s,c.getLevel=function(){return a},c.setLevel=function(n,s){if("string"==typeof n&&void 0!==c.levels[n.toUpperCase()]&&(n=c.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==s&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window===t)return;try{return void(window.localStorage[u]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"="+n+";"}catch(e){}}(n),i.call(c,n,e),typeof console===t&&n<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){l()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var f=l();null==f&&(f=null==n?"WARN":n),c.setLevel(f,!1)}var a=new o,c={};a.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=c[e];return t||(t=c[e]=new o(e,a.getLevel(),a.methodFactory)),t};var u=typeof window!==t?window.log:void 0;return a.noConflict=function(){return typeof window!==t&&window.log===a&&(window.log=u),a},a.getLoggers=function(){return c},a})?n.call(t,r,t,e):n)||(e.exports=i)}()},function(e,t,r){function n(e,t){Object.defineProperties(this,{_errorData:{value:e},name:{value:e.name},message:{value:t||e.message}})}(0,r(34).inherits)(n,Error),n.prototype.clone=function(e){return new n(this._errorData,e)},e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}]); 