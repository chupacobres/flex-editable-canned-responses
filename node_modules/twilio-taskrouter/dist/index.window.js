// [AIV_SHORT]  Build version: 0.5.9 - Wednesday, February 9th, 2022, 8:48:03 PM  
 !function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TaskRouter=e():t.TaskRouter=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=27)}([function(t,e,r){(function(t,n){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",l=500,h="__lodash_placeholder__",d=1,p=2,_=4,g=1,v=2,w=1,y=2,k=4,m=8,E=16,S=32,b=64,T=128,R=256,A=512,O=30,x="...",j=800,C=16,I=1,W=2,N=1/0,U=9007199254740991,P=1.7976931348623157e308,q=NaN,L=4294967295,D=L-1,F=L>>>1,z=[["ary",T],["bind",w],["bindKey",y],["curry",m],["curryRight",E],["flip",A],["partial",S],["partialRight",b],["rearg",R]],$="[object Arguments]",B="[object Array]",V="[object AsyncFunction]",M="[object Boolean]",H="[object Date]",G="[object DOMException]",J="[object Error]",Q="[object Function]",Z="[object GeneratorFunction]",K="[object Map]",Y="[object Number]",X="[object Null]",tt="[object Object]",et="[object Proxy]",rt="[object RegExp]",nt="[object Set]",it="[object String]",ot="[object Symbol]",st="[object Undefined]",at="[object WeakMap]",ut="[object WeakSet]",ct="[object ArrayBuffer]",ft="[object DataView]",lt="[object Float32Array]",ht="[object Float64Array]",dt="[object Int8Array]",pt="[object Int16Array]",_t="[object Int32Array]",gt="[object Uint8Array]",vt="[object Uint8ClampedArray]",wt="[object Uint16Array]",yt="[object Uint32Array]",kt=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,Et=/(__e\(.*?\)|\b__t\)) \+\n'';/g,St=/&(?:amp|lt|gt|quot|#39);/g,bt=/[&<>"']/g,Tt=RegExp(St.source),Rt=RegExp(bt.source),At=/<%-([\s\S]+?)%>/g,Ot=/<%([\s\S]+?)%>/g,xt=/<%=([\s\S]+?)%>/g,jt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ct=/^\w*$/,It=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wt=/[\\^$.*+?()[\]{}|]/g,Nt=RegExp(Wt.source),Ut=/^\s+/,Pt=/\s/,qt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Lt=/\{\n\/\* \[wrapped with (.+)\] \*/,Dt=/,? & /,Ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zt=/[()=,{}\[\]\/\s]/,$t=/\\(\\)?/g,Bt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vt=/\w*$/,Mt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,Gt=/^\[object .+?Constructor\]$/,Jt=/^0o[0-7]+$/i,Qt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Yt=/['\n\r\u2028\u2029\\]/g,Xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ee="[\\ud800-\\udfff]",re="["+te+"]",ne="["+Xt+"]",ie="\\d+",oe="[\\u2700-\\u27bf]",se="[a-z\\xdf-\\xf6\\xf8-\\xff]",ae="[^\\ud800-\\udfff"+te+ie+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ue="\\ud83c[\\udffb-\\udfff]",ce="[^\\ud800-\\udfff]",fe="(?:\\ud83c[\\udde6-\\uddff]){2}",le="[\\ud800-\\udbff][\\udc00-\\udfff]",he="[A-Z\\xc0-\\xd6\\xd8-\\xde]",de="(?:"+se+"|"+ae+")",pe="(?:"+he+"|"+ae+")",_e="(?:"+ne+"|"+ue+")"+"?",ge="[\\ufe0e\\ufe0f]?"+_e+("(?:\\u200d(?:"+[ce,fe,le].join("|")+")[\\ufe0e\\ufe0f]?"+_e+")*"),ve="(?:"+[oe,fe,le].join("|")+")"+ge,we="(?:"+[ce+ne+"?",ne,fe,le,ee].join("|")+")",ye=RegExp("['’]","g"),ke=RegExp(ne,"g"),me=RegExp(ue+"(?="+ue+")|"+we+ge,"g"),Ee=RegExp([he+"?"+se+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[re,he,"$"].join("|")+")",pe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[re,he+de,"$"].join("|")+")",he+"?"+de+"+(?:['’](?:d|ll|m|re|s|t|ve))?",he+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ie,ve].join("|"),"g"),Se=RegExp("[\\u200d\\ud800-\\udfff"+Xt+"\\ufe0e\\ufe0f]"),be=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Te=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Re=-1,Ae={};Ae[lt]=Ae[ht]=Ae[dt]=Ae[pt]=Ae[_t]=Ae[gt]=Ae[vt]=Ae[wt]=Ae[yt]=!0,Ae[$]=Ae[B]=Ae[ct]=Ae[M]=Ae[ft]=Ae[H]=Ae[J]=Ae[Q]=Ae[K]=Ae[Y]=Ae[tt]=Ae[rt]=Ae[nt]=Ae[it]=Ae[at]=!1;var Oe={};Oe[$]=Oe[B]=Oe[ct]=Oe[ft]=Oe[M]=Oe[H]=Oe[lt]=Oe[ht]=Oe[dt]=Oe[pt]=Oe[_t]=Oe[K]=Oe[Y]=Oe[tt]=Oe[rt]=Oe[nt]=Oe[it]=Oe[ot]=Oe[gt]=Oe[vt]=Oe[wt]=Oe[yt]=!0,Oe[J]=Oe[Q]=Oe[at]=!1;var xe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},je=parseFloat,Ce=parseInt,Ie="object"==typeof t&&t&&t.Object===Object&&t,We="object"==typeof self&&self&&self.Object===Object&&self,Ne=Ie||We||Function("return this")(),Ue="object"==typeof e&&e&&!e.nodeType&&e,Pe=Ue&&"object"==typeof n&&n&&!n.nodeType&&n,qe=Pe&&Pe.exports===Ue,Le=qe&&Ie.process,De=function(){try{var t=Pe&&Pe.require&&Pe.require("util").types;return t||Le&&Le.binding&&Le.binding("util")}catch(t){}}(),Fe=De&&De.isArrayBuffer,ze=De&&De.isDate,$e=De&&De.isMap,Be=De&&De.isRegExp,Ve=De&&De.isSet,Me=De&&De.isTypedArray;function He(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Ge(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function Je(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Qe(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function Ze(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Ke(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function Ye(t,e){return!!(null==t?0:t.length)&&ur(t,e,0)>-1}function Xe(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function tr(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function er(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function rr(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function nr(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function ir(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var or=hr("length");function sr(t,e,r){var n;return r(t,function(t,r,i){if(e(t,r,i))return n=r,!1}),n}function ar(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ur(t,e,r){return e==e?function(t,e,r){var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):ar(t,fr,r)}function cr(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function fr(t){return t!=t}function lr(t,e){var r=null==t?0:t.length;return r?_r(t,e)/r:q}function hr(t){return function(e){return null==e?o:e[t]}}function dr(t){return function(e){return null==t?o:t[e]}}function pr(t,e,r,n,i){return i(t,function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)}),r}function _r(t,e){for(var r,n=-1,i=t.length;++n<i;){var s=e(t[n]);s!==o&&(r=r===o?s:r+s)}return r}function gr(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function vr(t){return t?t.slice(0,Nr(t)+1).replace(Ut,""):t}function wr(t){return function(e){return t(e)}}function yr(t,e){return tr(e,function(e){return t[e]})}function kr(t,e){return t.has(e)}function mr(t,e){for(var r=-1,n=t.length;++r<n&&ur(e,t[r],0)>-1;);return r}function Er(t,e){for(var r=t.length;r--&&ur(e,t[r],0)>-1;);return r}var Sr=dr({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),br=dr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Tr(t){return"\\"+xe[t]}function Rr(t){return Se.test(t)}function Ar(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function Or(t,e){return function(r){return t(e(r))}}function xr(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r];s!==e&&s!==h||(t[r]=h,o[i++]=r)}return o}function jr(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function Cr(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=[t,t]}),r}function Ir(t){return Rr(t)?function(t){var e=me.lastIndex=0;for(;me.test(t);)++e;return e}(t):or(t)}function Wr(t){return Rr(t)?function(t){return t.match(me)||[]}(t):function(t){return t.split("")}(t)}function Nr(t){for(var e=t.length;e--&&Pt.test(t.charAt(e)););return e}var Ur=dr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Pr=function t(e){var r,n=(e=null==e?Ne:Pr.defaults(Ne.Object(),e,Pr.pick(Ne,Te))).Array,i=e.Date,Pt=e.Error,Xt=e.Function,te=e.Math,ee=e.Object,re=e.RegExp,ne=e.String,ie=e.TypeError,oe=n.prototype,se=Xt.prototype,ae=ee.prototype,ue=e["__core-js_shared__"],ce=se.toString,fe=ae.hasOwnProperty,le=0,he=(r=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",de=ae.toString,pe=ce.call(ee),_e=Ne._,ge=re("^"+ce.call(fe).replace(Wt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=qe?e.Buffer:o,we=e.Symbol,me=e.Uint8Array,Se=ve?ve.allocUnsafe:o,xe=Or(ee.getPrototypeOf,ee),Ie=ee.create,We=ae.propertyIsEnumerable,Ue=oe.splice,Pe=we?we.isConcatSpreadable:o,Le=we?we.iterator:o,De=we?we.toStringTag:o,or=function(){try{var t=zo(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),dr=e.clearTimeout!==Ne.clearTimeout&&e.clearTimeout,qr=i&&i.now!==Ne.Date.now&&i.now,Lr=e.setTimeout!==Ne.setTimeout&&e.setTimeout,Dr=te.ceil,Fr=te.floor,zr=ee.getOwnPropertySymbols,$r=ve?ve.isBuffer:o,Br=e.isFinite,Vr=oe.join,Mr=Or(ee.keys,ee),Hr=te.max,Gr=te.min,Jr=i.now,Qr=e.parseInt,Zr=te.random,Kr=oe.reverse,Yr=zo(e,"DataView"),Xr=zo(e,"Map"),tn=zo(e,"Promise"),en=zo(e,"Set"),rn=zo(e,"WeakMap"),nn=zo(ee,"create"),on=rn&&new rn,sn={},an=ds(Yr),un=ds(Xr),cn=ds(tn),fn=ds(en),ln=ds(rn),hn=we?we.prototype:o,dn=hn?hn.valueOf:o,pn=hn?hn.toString:o;function _n(t){if(ja(t)&&!ya(t)&&!(t instanceof yn)){if(t instanceof wn)return t;if(fe.call(t,"__wrapped__"))return ps(t)}return new wn(t)}var gn=function(){function t(){}return function(e){if(!xa(e))return{};if(Ie)return Ie(e);t.prototype=e;var r=new t;return t.prototype=o,r}}();function vn(){}function wn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function yn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function kn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function mn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function En(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Sn(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new En;++e<r;)this.add(t[e])}function bn(t){var e=this.__data__=new mn(t);this.size=e.size}function Tn(t,e){var r=ya(t),n=!r&&wa(t),i=!r&&!n&&Sa(t),o=!r&&!n&&!i&&La(t),s=r||n||i||o,a=s?gr(t.length,ne):[],u=a.length;for(var c in t)!e&&!fe.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Jo(c,u))||a.push(c);return a}function Rn(t){var e=t.length;return e?t[Si(0,e-1)]:o}function An(t,e){return fs(io(t),Pn(e,0,t.length))}function On(t){return fs(io(t))}function xn(t,e,r){(r===o||_a(t[e],r))&&(r!==o||e in t)||Nn(t,e,r)}function jn(t,e,r){var n=t[e];fe.call(t,e)&&_a(n,r)&&(r!==o||e in t)||Nn(t,e,r)}function Cn(t,e){for(var r=t.length;r--;)if(_a(t[r][0],e))return r;return-1}function In(t,e,r,n){return zn(t,function(t,i,o){e(n,t,r(t),o)}),n}function Wn(t,e){return t&&oo(e,su(e),t)}function Nn(t,e,r){"__proto__"==e&&or?or(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Un(t,e){for(var r=-1,i=e.length,s=n(i),a=null==t;++r<i;)s[r]=a?o:eu(t,e[r]);return s}function Pn(t,e,r){return t==t&&(r!==o&&(t=t<=r?t:r),e!==o&&(t=t>=e?t:e)),t}function qn(t,e,r,n,i,s){var a,u=e&d,c=e&p,f=e&_;if(r&&(a=i?r(t,n,i,s):r(t)),a!==o)return a;if(!xa(t))return t;var l=ya(t);if(l){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&fe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!u)return io(t,a)}else{var h=Vo(t),g=h==Q||h==Z;if(Sa(t))return Yi(t,u);if(h==tt||h==$||g&&!i){if(a=c||g?{}:Ho(t),!u)return c?function(t,e){return oo(t,Bo(t),e)}(t,function(t,e){return t&&oo(e,au(e),t)}(a,t)):function(t,e){return oo(t,$o(t),e)}(t,Wn(a,t))}else{if(!Oe[h])return i?t:{};a=function(t,e,r){var n,i,o,s=t.constructor;switch(e){case ct:return Xi(t);case M:case H:return new s(+t);case ft:return function(t,e){var r=e?Xi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case lt:case ht:case dt:case pt:case _t:case gt:case vt:case wt:case yt:return to(t,r);case K:return new s;case Y:case it:return new s(t);case rt:return(o=new(i=t).constructor(i.source,Vt.exec(i))).lastIndex=i.lastIndex,o;case nt:return new s;case ot:return n=t,dn?ee(dn.call(n)):{}}}(t,h,u)}}s||(s=new bn);var v=s.get(t);if(v)return v;s.set(t,a),Ua(t)?t.forEach(function(n){a.add(qn(n,e,r,n,t,s))}):Ca(t)&&t.forEach(function(n,i){a.set(i,qn(n,e,r,i,t,s))});var w=l?o:(f?c?No:Wo:c?au:su)(t);return Je(w||t,function(n,i){w&&(n=t[i=n]),jn(a,i,qn(n,e,r,i,t,s))}),a}function Ln(t,e,r){var n=r.length;if(null==t)return!n;for(t=ee(t);n--;){var i=r[n],s=e[i],a=t[i];if(a===o&&!(i in t)||!s(a))return!1}return!0}function Dn(t,e,r){if("function"!=typeof t)throw new ie(u);return ss(function(){t.apply(o,r)},e)}function Fn(t,e,r,n){var i=-1,o=Ye,a=!0,u=t.length,c=[],f=e.length;if(!u)return c;r&&(e=tr(e,wr(r))),n?(o=Xe,a=!1):e.length>=s&&(o=kr,a=!1,e=new Sn(e));t:for(;++i<u;){var l=t[i],h=null==r?l:r(l);if(l=n||0!==l?l:0,a&&h==h){for(var d=f;d--;)if(e[d]===h)continue t;c.push(l)}else o(e,h,n)||c.push(l)}return c}_n.templateSettings={escape:At,evaluate:Ot,interpolate:xt,variable:"",imports:{_:_n}},_n.prototype=vn.prototype,_n.prototype.constructor=_n,wn.prototype=gn(vn.prototype),wn.prototype.constructor=wn,yn.prototype=gn(vn.prototype),yn.prototype.constructor=yn,kn.prototype.clear=function(){this.__data__=nn?nn(null):{},this.size=0},kn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},kn.prototype.get=function(t){var e=this.__data__;if(nn){var r=e[t];return r===f?o:r}return fe.call(e,t)?e[t]:o},kn.prototype.has=function(t){var e=this.__data__;return nn?e[t]!==o:fe.call(e,t)},kn.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=nn&&e===o?f:e,this},mn.prototype.clear=function(){this.__data__=[],this.size=0},mn.prototype.delete=function(t){var e=this.__data__,r=Cn(e,t);return!(r<0||(r==e.length-1?e.pop():Ue.call(e,r,1),--this.size,0))},mn.prototype.get=function(t){var e=this.__data__,r=Cn(e,t);return r<0?o:e[r][1]},mn.prototype.has=function(t){return Cn(this.__data__,t)>-1},mn.prototype.set=function(t,e){var r=this.__data__,n=Cn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},En.prototype.clear=function(){this.size=0,this.__data__={hash:new kn,map:new(Xr||mn),string:new kn}},En.prototype.delete=function(t){var e=Do(this,t).delete(t);return this.size-=e?1:0,e},En.prototype.get=function(t){return Do(this,t).get(t)},En.prototype.has=function(t){return Do(this,t).has(t)},En.prototype.set=function(t,e){var r=Do(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Sn.prototype.add=Sn.prototype.push=function(t){return this.__data__.set(t,f),this},Sn.prototype.has=function(t){return this.__data__.has(t)},bn.prototype.clear=function(){this.__data__=new mn,this.size=0},bn.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},bn.prototype.get=function(t){return this.__data__.get(t)},bn.prototype.has=function(t){return this.__data__.has(t)},bn.prototype.set=function(t,e){var r=this.__data__;if(r instanceof mn){var n=r.__data__;if(!Xr||n.length<s-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new En(n)}return r.set(t,e),this.size=r.size,this};var zn=uo(Qn),$n=uo(Zn,!0);function Bn(t,e){var r=!0;return zn(t,function(t,n,i){return r=!!e(t,n,i)}),r}function Vn(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],a=e(s);if(null!=a&&(u===o?a==a&&!qa(a):r(a,u)))var u=a,c=s}return c}function Mn(t,e){var r=[];return zn(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}function Hn(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=Go),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?Hn(a,e-1,r,n,i):er(i,a):n||(i[i.length]=a)}return i}var Gn=co(),Jn=co(!0);function Qn(t,e){return t&&Gn(t,e,su)}function Zn(t,e){return t&&Jn(t,e,su)}function Kn(t,e){return Ke(e,function(e){return Ra(t[e])})}function Yn(t,e){for(var r=0,n=(e=Ji(e,t)).length;null!=t&&r<n;)t=t[hs(e[r++])];return r&&r==n?t:o}function Xn(t,e,r){var n=e(t);return ya(t)?n:er(n,r(t))}function ti(t){return null==t?t===o?st:X:De&&De in ee(t)?function(t){var e=fe.call(t,De),r=t[De];try{t[De]=o;var n=!0}catch(t){}var i=de.call(t);return n&&(e?t[De]=r:delete t[De]),i}(t):function(t){return de.call(t)}(t)}function ei(t,e){return t>e}function ri(t,e){return null!=t&&fe.call(t,e)}function ni(t,e){return null!=t&&e in ee(t)}function ii(t,e,r){for(var i=r?Xe:Ye,s=t[0].length,a=t.length,u=a,c=n(a),f=1/0,l=[];u--;){var h=t[u];u&&e&&(h=tr(h,wr(e))),f=Gr(h.length,f),c[u]=!r&&(e||s>=120&&h.length>=120)?new Sn(u&&h):o}h=t[0];var d=-1,p=c[0];t:for(;++d<s&&l.length<f;){var _=h[d],g=e?e(_):_;if(_=r||0!==_?_:0,!(p?kr(p,g):i(l,g,r))){for(u=a;--u;){var v=c[u];if(!(v?kr(v,g):i(t[u],g,r)))continue t}p&&p.push(g),l.push(_)}}return l}function oi(t,e,r){var n=null==(t=ns(t,e=Ji(e,t)))?t:t[hs(Ts(e))];return null==n?o:He(n,t,r)}function si(t){return ja(t)&&ti(t)==$}function ai(t,e,r,n,i){return t===e||(null==t||null==e||!ja(t)&&!ja(e)?t!=t&&e!=e:function(t,e,r,n,i,s){var a=ya(t),u=ya(e),c=a?B:Vo(t),f=u?B:Vo(e),l=(c=c==$?tt:c)==tt,h=(f=f==$?tt:f)==tt,d=c==f;if(d&&Sa(t)){if(!Sa(e))return!1;a=!0,l=!1}if(d&&!l)return s||(s=new bn),a||La(t)?Co(t,e,r,n,i,s):function(t,e,r,n,i,o,s){switch(r){case ft:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ct:return!(t.byteLength!=e.byteLength||!o(new me(t),new me(e)));case M:case H:case Y:return _a(+t,+e);case J:return t.name==e.name&&t.message==e.message;case rt:case it:return t==e+"";case K:var a=Ar;case nt:var u=n&g;if(a||(a=jr),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;n|=v,s.set(t,e);var f=Co(a(t),a(e),n,i,o,s);return s.delete(t),f;case ot:if(dn)return dn.call(t)==dn.call(e)}return!1}(t,e,c,r,n,i,s);if(!(r&g)){var p=l&&fe.call(t,"__wrapped__"),_=h&&fe.call(e,"__wrapped__");if(p||_){var w=p?t.value():t,y=_?e.value():e;return s||(s=new bn),i(w,y,r,n,s)}}return!!d&&(s||(s=new bn),function(t,e,r,n,i,s){var a=r&g,u=Wo(t),c=u.length,f=Wo(e).length;if(c!=f&&!a)return!1;for(var l=c;l--;){var h=u[l];if(!(a?h in e:fe.call(e,h)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var _=!0;s.set(t,e),s.set(e,t);for(var v=a;++l<c;){h=u[l];var w=t[h],y=e[h];if(n)var k=a?n(y,w,h,e,t,s):n(w,y,h,t,e,s);if(!(k===o?w===y||i(w,y,r,n,s):k)){_=!1;break}v||(v="constructor"==h)}if(_&&!v){var m=t.constructor,E=e.constructor;m!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof E&&E instanceof E)&&(_=!1)}return s.delete(t),s.delete(e),_}(t,e,r,n,i,s))}(t,e,r,n,ai,i))}function ui(t,e,r,n){var i=r.length,s=i,a=!n;if(null==t)return!s;for(t=ee(t);i--;){var u=r[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var c=(u=r[i])[0],f=t[c],l=u[1];if(a&&u[2]){if(f===o&&!(c in t))return!1}else{var h=new bn;if(n)var d=n(f,l,c,t,e,h);if(!(d===o?ai(l,f,g|v,n,h):d))return!1}}return!0}function ci(t){return!(!xa(t)||he&&he in t)&&(Ra(t)?ge:Gt).test(ds(t))}function fi(t){return"function"==typeof t?t:null==t?Iu:"object"==typeof t?ya(t)?gi(t[0],t[1]):_i(t):zu(t)}function li(t){if(!Xo(t))return Mr(t);var e=[];for(var r in ee(t))fe.call(t,r)&&"constructor"!=r&&e.push(r);return e}function hi(t){if(!xa(t))return function(t){var e=[];if(null!=t)for(var r in ee(t))e.push(r);return e}(t);var e=Xo(t),r=[];for(var n in t)("constructor"!=n||!e&&fe.call(t,n))&&r.push(n);return r}function di(t,e){return t<e}function pi(t,e){var r=-1,i=ma(t)?n(t.length):[];return zn(t,function(t,n,o){i[++r]=e(t,n,o)}),i}function _i(t){var e=Fo(t);return 1==e.length&&e[0][2]?es(e[0][0],e[0][1]):function(r){return r===t||ui(r,t,e)}}function gi(t,e){return Zo(t)&&ts(e)?es(hs(t),e):function(r){var n=eu(r,t);return n===o&&n===e?ru(r,t):ai(e,n,g|v)}}function vi(t,e,r,n,i){t!==e&&Gn(e,function(s,a){if(i||(i=new bn),xa(s))!function(t,e,r,n,i,s,a){var u=is(t,r),c=is(e,r),f=a.get(c);if(f)xn(t,r,f);else{var l=s?s(u,c,r+"",t,e,a):o,h=l===o;if(h){var d=ya(c),p=!d&&Sa(c),_=!d&&!p&&La(c);l=c,d||p||_?ya(u)?l=u:Ea(u)?l=io(u):p?(h=!1,l=Yi(c,!0)):_?(h=!1,l=to(c,!0)):l=[]:Wa(c)||wa(c)?(l=u,wa(u)?l=Ha(u):xa(u)&&!Ra(u)||(l=Ho(c))):h=!1}h&&(a.set(c,l),i(l,c,n,s,a),a.delete(c)),xn(t,r,l)}}(t,e,a,r,vi,n,i);else{var u=n?n(is(t,a),s,a+"",t,e,i):o;u===o&&(u=s),xn(t,a,u)}},au)}function wi(t,e){var r=t.length;if(r)return Jo(e+=e<0?r:0,r)?t[e]:o}function yi(t,e,r){var n=-1;return e=tr(e=e.length?tr(e,function(t){return ya(t)?function(e){return Yn(e,1===t.length?t[0]:t)}:t}):[Iu],wr(Lo())),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(pi(t,function(t,r,i){return{criteria:tr(e,function(e){return e(t)}),index:++n,value:t}}),function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;++n<s;){var u=eo(i[n],o[n]);if(u){if(n>=a)return u;var c=r[n];return u*("desc"==c?-1:1)}}return t.index-e.index}(t,e,r)})}function ki(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],a=Yn(t,s);r(a,s)&&Oi(o,Ji(s,t),a)}return o}function mi(t,e,r,n){var i=n?cr:ur,o=-1,s=e.length,a=t;for(t===e&&(e=io(e)),r&&(a=tr(t,wr(r)));++o<s;)for(var u=0,c=e[o],f=r?r(c):c;(u=i(a,f,u,n))>-1;)a!==t&&Ue.call(a,u,1),Ue.call(t,u,1);return t}function Ei(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;Jo(i)?Ue.call(t,i,1):Fi(t,i)}}return t}function Si(t,e){return t+Fr(Zr()*(e-t+1))}function bi(t,e){var r="";if(!t||e<1||e>U)return r;do{e%2&&(r+=t),(e=Fr(e/2))&&(t+=t)}while(e);return r}function Ti(t,e){return as(rs(t,e,Iu),t+"")}function Ri(t){return Rn(_u(t))}function Ai(t,e){var r=_u(t);return fs(r,Pn(e,0,r.length))}function Oi(t,e,r,n){if(!xa(t))return t;for(var i=-1,s=(e=Ji(e,t)).length,a=s-1,u=t;null!=u&&++i<s;){var c=hs(e[i]),f=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=a){var l=u[c];(f=n?n(l,c,u):o)===o&&(f=xa(l)?l:Jo(e[i+1])?[]:{})}jn(u,c,f),u=u[c]}return t}var xi=on?function(t,e){return on.set(t,e),t}:Iu,ji=or?function(t,e){return or(t,"toString",{configurable:!0,enumerable:!1,value:xu(e),writable:!0})}:Iu;function Ci(t){return fs(_u(t))}function Ii(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=n(o);++i<o;)s[i]=t[i+e];return s}function Wi(t,e){var r;return zn(t,function(t,n,i){return!(r=e(t,n,i))}),!!r}function Ni(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=F){for(;n<i;){var o=n+i>>>1,s=t[o];null!==s&&!qa(s)&&(r?s<=e:s<e)?n=o+1:i=o}return i}return Ui(t,e,Iu,r)}function Ui(t,e,r,n){var i=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=r(e))!=e,u=null===e,c=qa(e),f=e===o;i<s;){var l=Fr((i+s)/2),h=r(t[l]),d=h!==o,p=null===h,_=h==h,g=qa(h);if(a)var v=n||_;else v=f?_&&(n||d):u?_&&d&&(n||!p):c?_&&d&&!p&&(n||!g):!p&&!g&&(n?h<=e:h<e);v?i=l+1:s=l}return Gr(s,D)}function Pi(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r],a=e?e(s):s;if(!r||!_a(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function qi(t){return"number"==typeof t?t:qa(t)?q:+t}function Li(t){if("string"==typeof t)return t;if(ya(t))return tr(t,Li)+"";if(qa(t))return pn?pn.call(t):"";var e=t+"";return"0"==e&&1/t==-N?"-0":e}function Di(t,e,r){var n=-1,i=Ye,o=t.length,a=!0,u=[],c=u;if(r)a=!1,i=Xe;else if(o>=s){var f=e?null:To(t);if(f)return jr(f);a=!1,i=kr,c=new Sn}else c=e?[]:u;t:for(;++n<o;){var l=t[n],h=e?e(l):l;if(l=r||0!==l?l:0,a&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),u.push(l)}else i(c,h,r)||(c!==u&&c.push(h),u.push(l))}return u}function Fi(t,e){return null==(t=ns(t,e=Ji(e,t)))||delete t[hs(Ts(e))]}function zi(t,e,r,n){return Oi(t,e,r(Yn(t,e)),n)}function $i(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?Ii(t,n?0:o,n?o+1:i):Ii(t,n?o+1:0,n?i:o)}function Bi(t,e){var r=t;return r instanceof yn&&(r=r.value()),rr(e,function(t,e){return e.func.apply(e.thisArg,er([t],e.args))},r)}function Vi(t,e,r){var i=t.length;if(i<2)return i?Di(t[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=Fn(s[o]||a,t[u],e,r));return Di(Hn(s,1),e,r)}function Mi(t,e,r){for(var n=-1,i=t.length,s=e.length,a={};++n<i;){var u=n<s?e[n]:o;r(a,t[n],u)}return a}function Hi(t){return Ea(t)?t:[]}function Gi(t){return"function"==typeof t?t:Iu}function Ji(t,e){return ya(t)?t:Zo(t,e)?[t]:ls(Ga(t))}var Qi=Ti;function Zi(t,e,r){var n=t.length;return r=r===o?n:r,!e&&r>=n?t:Ii(t,e,r)}var Ki=dr||function(t){return Ne.clearTimeout(t)};function Yi(t,e){if(e)return t.slice();var r=t.length,n=Se?Se(r):new t.constructor(r);return t.copy(n),n}function Xi(t){var e=new t.constructor(t.byteLength);return new me(e).set(new me(t)),e}function to(t,e){var r=e?Xi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function eo(t,e){if(t!==e){var r=t!==o,n=null===t,i=t==t,s=qa(t),a=e!==o,u=null===e,c=e==e,f=qa(e);if(!u&&!f&&!s&&t>e||s&&a&&c&&!u&&!f||n&&a&&c||!r&&c||!i)return 1;if(!n&&!s&&!f&&t<e||f&&r&&i&&!n&&!s||u&&r&&i||!a&&i||!c)return-1}return 0}function ro(t,e,r,i){for(var o=-1,s=t.length,a=r.length,u=-1,c=e.length,f=Hr(s-a,0),l=n(c+f),h=!i;++u<c;)l[u]=e[u];for(;++o<a;)(h||o<s)&&(l[r[o]]=t[o]);for(;f--;)l[u++]=t[o++];return l}function no(t,e,r,i){for(var o=-1,s=t.length,a=-1,u=r.length,c=-1,f=e.length,l=Hr(s-u,0),h=n(l+f),d=!i;++o<l;)h[o]=t[o];for(var p=o;++c<f;)h[p+c]=e[c];for(;++a<u;)(d||o<s)&&(h[p+r[a]]=t[o++]);return h}function io(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function oo(t,e,r,n){var i=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var u=e[s],c=n?n(r[u],t[u],u,r,t):o;c===o&&(c=t[u]),i?Nn(r,u,c):jn(r,u,c)}return r}function so(t,e){return function(r,n){var i=ya(r)?Ge:In,o=e?e():{};return i(r,t,Lo(n,2),o)}}function ao(t){return Ti(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:o,a=i>2?r[2]:o;for(s=t.length>3&&"function"==typeof s?(i--,s):o,a&&Qo(r[0],r[1],a)&&(s=i<3?o:s,i=1),e=ee(e);++n<i;){var u=r[n];u&&t(e,u,n,s)}return e})}function uo(t,e){return function(r,n){if(null==r)return r;if(!ma(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=ee(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function co(t){return function(e,r,n){for(var i=-1,o=ee(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}function fo(t){return function(e){var r=Rr(e=Ga(e))?Wr(e):o,n=r?r[0]:e.charAt(0),i=r?Zi(r,1).join(""):e.slice(1);return n[t]()+i}}function lo(t){return function(e){return rr(Ru(wu(e).replace(ye,"")),t,"")}}function ho(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=gn(t.prototype),n=t.apply(r,e);return xa(n)?n:r}}function po(t){return function(e,r,n){var i=ee(e);if(!ma(e)){var s=Lo(r,3);e=su(e),r=function(t){return s(i[t],t,i)}}var a=t(e,r,n);return a>-1?i[s?e[a]:a]:o}}function _o(t){return Io(function(e){var r=e.length,n=r,i=wn.prototype.thru;for(t&&e.reverse();n--;){var s=e[n];if("function"!=typeof s)throw new ie(u);if(i&&!a&&"wrapper"==Po(s))var a=new wn([],!0)}for(n=a?n:r;++n<r;){var c=Po(s=e[n]),f="wrapper"==c?Uo(s):o;a=f&&Ko(f[0])&&f[1]==(T|m|S|R)&&!f[4].length&&1==f[9]?a[Po(f[0])].apply(a,f[3]):1==s.length&&Ko(s)?a[c]():a.thru(s)}return function(){var t=arguments,n=t[0];if(a&&1==t.length&&ya(n))return a.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}})}function go(t,e,r,i,s,a,u,c,f,l){var h=e&T,d=e&w,p=e&y,_=e&(m|E),g=e&A,v=p?o:ho(t);return function w(){for(var y=arguments.length,k=n(y),m=y;m--;)k[m]=arguments[m];if(_)var E=qo(w),S=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(k,E);if(i&&(k=ro(k,i,s,_)),a&&(k=no(k,a,u,_)),y-=S,_&&y<l){var b=xr(k,E);return So(t,e,go,w.placeholder,r,k,b,c,f,l-y)}var T=d?r:this,R=p?T[t]:t;return y=k.length,c?k=function(t,e){for(var r=t.length,n=Gr(e.length,r),i=io(t);n--;){var s=e[n];t[n]=Jo(s,r)?i[s]:o}return t}(k,c):g&&y>1&&k.reverse(),h&&f<y&&(k.length=f),this&&this!==Ne&&this instanceof w&&(R=v||ho(R)),R.apply(T,k)}}function vo(t,e){return function(r,n){return function(t,e,r,n){return Qn(t,function(t,i,o){e(n,r(t),i,o)}),n}(r,t,e(n),{})}}function wo(t,e){return function(r,n){var i;if(r===o&&n===o)return e;if(r!==o&&(i=r),n!==o){if(i===o)return n;"string"==typeof r||"string"==typeof n?(r=Li(r),n=Li(n)):(r=qi(r),n=qi(n)),i=t(r,n)}return i}}function yo(t){return Io(function(e){return e=tr(e,wr(Lo())),Ti(function(r){var n=this;return t(e,function(t){return He(t,n,r)})})})}function ko(t,e){var r=(e=e===o?" ":Li(e)).length;if(r<2)return r?bi(e,t):e;var n=bi(e,Dr(t/Ir(e)));return Rr(e)?Zi(Wr(n),0,t).join(""):n.slice(0,t)}function mo(t){return function(e,r,i){return i&&"number"!=typeof i&&Qo(e,r,i)&&(r=i=o),e=$a(e),r===o?(r=e,e=0):r=$a(r),function(t,e,r,i){for(var o=-1,s=Hr(Dr((e-t)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=t,t+=r;return a}(e,r,i=i===o?e<r?1:-1:$a(i),t)}}function Eo(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=Ma(e),r=Ma(r)),t(e,r)}}function So(t,e,r,n,i,s,a,u,c,f){var l=e&m;e|=l?S:b,(e&=~(l?b:S))&k||(e&=~(w|y));var h=[t,e,i,l?s:o,l?a:o,l?o:s,l?o:a,u,c,f],d=r.apply(o,h);return Ko(t)&&os(d,h),d.placeholder=n,us(d,t,e)}function bo(t){var e=te[t];return function(t,r){if(t=Ma(t),(r=null==r?0:Gr(Ba(r),292))&&Br(t)){var n=(Ga(t)+"e").split("e");return+((n=(Ga(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var To=en&&1/jr(new en([,-0]))[1]==N?function(t){return new en(t)}:qu;function Ro(t){return function(e){var r=Vo(e);return r==K?Ar(e):r==nt?Cr(e):function(t,e){return tr(e,function(e){return[e,t[e]]})}(e,t(e))}}function Ao(t,e,r,i,s,a,c,f){var l=e&y;if(!l&&"function"!=typeof t)throw new ie(u);var d=i?i.length:0;if(d||(e&=~(S|b),i=s=o),c=c===o?c:Hr(Ba(c),0),f=f===o?f:Ba(f),d-=s?s.length:0,e&b){var p=i,_=s;i=s=o}var g=l?o:Uo(t),v=[t,e,r,i,s,p,_,a,c,f];if(g&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<(w|y|T),s=n==T&&r==m||n==T&&r==R&&t[7].length<=e[8]||n==(T|R)&&e[7].length<=e[8]&&r==m;if(!o&&!s)return t;n&w&&(t[2]=e[2],i|=r&w?0:k);var a=e[3];if(a){var u=t[3];t[3]=u?ro(u,a,e[4]):a,t[4]=u?xr(t[3],h):e[4]}(a=e[5])&&(u=t[5],t[5]=u?no(u,a,e[6]):a,t[6]=u?xr(t[5],h):e[6]),(a=e[7])&&(t[7]=a),n&T&&(t[8]=null==t[8]?e[8]:Gr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(v,g),t=v[0],e=v[1],r=v[2],i=v[3],s=v[4],!(f=v[9]=v[9]===o?l?0:t.length:Hr(v[9]-d,0))&&e&(m|E)&&(e&=~(m|E)),e&&e!=w)A=e==m||e==E?function(t,e,r){var i=ho(t);return function s(){for(var a=arguments.length,u=n(a),c=a,f=qo(s);c--;)u[c]=arguments[c];var l=a<3&&u[0]!==f&&u[a-1]!==f?[]:xr(u,f);return(a-=l.length)<r?So(t,e,go,s.placeholder,o,u,l,o,o,r-a):He(this&&this!==Ne&&this instanceof s?i:t,this,u)}}(t,e,f):e!=S&&e!=(w|S)||s.length?go.apply(o,v):function(t,e,r,i){var o=e&w,s=ho(t);return function e(){for(var a=-1,u=arguments.length,c=-1,f=i.length,l=n(f+u),h=this&&this!==Ne&&this instanceof e?s:t;++c<f;)l[c]=i[c];for(;u--;)l[c++]=arguments[++a];return He(h,o?r:this,l)}}(t,e,r,i);else var A=function(t,e,r){var n=e&w,i=ho(t);return function e(){return(this&&this!==Ne&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,r);return us((g?xi:os)(A,v),t,e)}function Oo(t,e,r,n){return t===o||_a(t,ae[r])&&!fe.call(n,r)?e:t}function xo(t,e,r,n,i,s){return xa(t)&&xa(e)&&(s.set(e,t),vi(t,e,o,xo,s),s.delete(e)),t}function jo(t){return Wa(t)?o:t}function Co(t,e,r,n,i,s){var a=r&g,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var f=s.get(t),l=s.get(e);if(f&&l)return f==e&&l==t;var h=-1,d=!0,p=r&v?new Sn:o;for(s.set(t,e),s.set(e,t);++h<u;){var _=t[h],w=e[h];if(n)var y=a?n(w,_,h,e,t,s):n(_,w,h,t,e,s);if(y!==o){if(y)continue;d=!1;break}if(p){if(!ir(e,function(t,e){if(!kr(p,e)&&(_===t||i(_,t,r,n,s)))return p.push(e)})){d=!1;break}}else if(_!==w&&!i(_,w,r,n,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function Io(t){return as(rs(t,o,ks),t+"")}function Wo(t){return Xn(t,su,$o)}function No(t){return Xn(t,au,Bo)}var Uo=on?function(t){return on.get(t)}:qu;function Po(t){for(var e=t.name+"",r=sn[e],n=fe.call(sn,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function qo(t){return(fe.call(_n,"placeholder")?_n:t).placeholder}function Lo(){var t=_n.iteratee||Wu;return t=t===Wu?fi:t,arguments.length?t(arguments[0],arguments[1]):t}function Do(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Fo(t){for(var e=su(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,ts(i)]}return e}function zo(t,e){var r=function(t,e){return null==t?o:t[e]}(t,e);return ci(r)?r:o}var $o=zr?function(t){return null==t?[]:(t=ee(t),Ke(zr(t),function(e){return We.call(t,e)}))}:Vu,Bo=zr?function(t){for(var e=[];t;)er(e,$o(t)),t=xe(t);return e}:Vu,Vo=ti;function Mo(t,e,r){for(var n=-1,i=(e=Ji(e,t)).length,o=!1;++n<i;){var s=hs(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&Oa(i)&&Jo(s,i)&&(ya(t)||wa(t))}function Ho(t){return"function"!=typeof t.constructor||Xo(t)?{}:gn(xe(t))}function Go(t){return ya(t)||wa(t)||!!(Pe&&t&&t[Pe])}function Jo(t,e){var r=typeof t;return!!(e=null==e?U:e)&&("number"==r||"symbol"!=r&&Qt.test(t))&&t>-1&&t%1==0&&t<e}function Qo(t,e,r){if(!xa(r))return!1;var n=typeof e;return!!("number"==n?ma(r)&&Jo(e,r.length):"string"==n&&e in r)&&_a(r[e],t)}function Zo(t,e){if(ya(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!qa(t))||Ct.test(t)||!jt.test(t)||null!=e&&t in ee(e)}function Ko(t){var e=Po(t),r=_n[e];if("function"!=typeof r||!(e in yn.prototype))return!1;if(t===r)return!0;var n=Uo(r);return!!n&&t===n[0]}(Yr&&Vo(new Yr(new ArrayBuffer(1)))!=ft||Xr&&Vo(new Xr)!=K||tn&&"[object Promise]"!=Vo(tn.resolve())||en&&Vo(new en)!=nt||rn&&Vo(new rn)!=at)&&(Vo=function(t){var e=ti(t),r=e==tt?t.constructor:o,n=r?ds(r):"";if(n)switch(n){case an:return ft;case un:return K;case cn:return"[object Promise]";case fn:return nt;case ln:return at}return e});var Yo=ue?Ra:Mu;function Xo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)}function ts(t){return t==t&&!xa(t)}function es(t,e){return function(r){return null!=r&&r[t]===e&&(e!==o||t in ee(r))}}function rs(t,e,r){return e=Hr(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=Hr(i.length-e,0),a=n(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(a),He(t,this,u)}}function ns(t,e){return e.length<2?t:Yn(t,Ii(e,0,-1))}function is(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var os=cs(xi),ss=Lr||function(t,e){return Ne.setTimeout(t,e)},as=cs(ji);function us(t,e,r){var n=e+"";return as(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(qt,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Je(z,function(r){var n="_."+r[0];e&r[1]&&!Ye(t,n)&&t.push(n)}),t.sort()}(function(t){var e=t.match(Lt);return e?e[1].split(Dt):[]}(n),r)))}function cs(t){var e=0,r=0;return function(){var n=Jr(),i=C-(n-r);if(r=n,i>0){if(++e>=j)return arguments[0]}else e=0;return t.apply(o,arguments)}}function fs(t,e){var r=-1,n=t.length,i=n-1;for(e=e===o?n:e;++r<e;){var s=Si(r,i),a=t[s];t[s]=t[r],t[r]=a}return t.length=e,t}var ls=function(t){var e=ca(t,function(t){return r.size===l&&r.clear(),t}),r=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(It,function(t,r,n,i){e.push(n?i.replace($t,"$1"):r||t)}),e});function hs(t){if("string"==typeof t||qa(t))return t;var e=t+"";return"0"==e&&1/t==-N?"-0":e}function ds(t){if(null!=t){try{return ce.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ps(t){if(t instanceof yn)return t.clone();var e=new wn(t.__wrapped__,t.__chain__);return e.__actions__=io(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var _s=Ti(function(t,e){return Ea(t)?Fn(t,Hn(e,1,Ea,!0)):[]}),gs=Ti(function(t,e){var r=Ts(e);return Ea(r)&&(r=o),Ea(t)?Fn(t,Hn(e,1,Ea,!0),Lo(r,2)):[]}),vs=Ti(function(t,e){var r=Ts(e);return Ea(r)&&(r=o),Ea(t)?Fn(t,Hn(e,1,Ea,!0),o,r):[]});function ws(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:Ba(r);return i<0&&(i=Hr(n+i,0)),ar(t,Lo(e,3),i)}function ys(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n-1;return r!==o&&(i=Ba(r),i=r<0?Hr(n+i,0):Gr(i,n-1)),ar(t,Lo(e,3),i,!0)}function ks(t){return null!=t&&t.length?Hn(t,1):[]}function ms(t){return t&&t.length?t[0]:o}var Es=Ti(function(t){var e=tr(t,Hi);return e.length&&e[0]===t[0]?ii(e):[]}),Ss=Ti(function(t){var e=Ts(t),r=tr(t,Hi);return e===Ts(r)?e=o:r.pop(),r.length&&r[0]===t[0]?ii(r,Lo(e,2)):[]}),bs=Ti(function(t){var e=Ts(t),r=tr(t,Hi);return(e="function"==typeof e?e:o)&&r.pop(),r.length&&r[0]===t[0]?ii(r,o,e):[]});function Ts(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Rs=Ti(As);function As(t,e){return t&&t.length&&e&&e.length?mi(t,e):t}var Os=Io(function(t,e){var r=null==t?0:t.length,n=Un(t,e);return Ei(t,tr(e,function(t){return Jo(t,r)?+t:t}).sort(eo)),n});function xs(t){return null==t?t:Kr.call(t)}var js=Ti(function(t){return Di(Hn(t,1,Ea,!0))}),Cs=Ti(function(t){var e=Ts(t);return Ea(e)&&(e=o),Di(Hn(t,1,Ea,!0),Lo(e,2))}),Is=Ti(function(t){var e=Ts(t);return e="function"==typeof e?e:o,Di(Hn(t,1,Ea,!0),o,e)});function Ws(t){if(!t||!t.length)return[];var e=0;return t=Ke(t,function(t){if(Ea(t))return e=Hr(t.length,e),!0}),gr(e,function(e){return tr(t,hr(e))})}function Ns(t,e){if(!t||!t.length)return[];var r=Ws(t);return null==e?r:tr(r,function(t){return He(e,o,t)})}var Us=Ti(function(t,e){return Ea(t)?Fn(t,e):[]}),Ps=Ti(function(t){return Vi(Ke(t,Ea))}),qs=Ti(function(t){var e=Ts(t);return Ea(e)&&(e=o),Vi(Ke(t,Ea),Lo(e,2))}),Ls=Ti(function(t){var e=Ts(t);return e="function"==typeof e?e:o,Vi(Ke(t,Ea),o,e)}),Ds=Ti(Ws);var Fs=Ti(function(t){var e=t.length,r=e>1?t[e-1]:o;return Ns(t,r="function"==typeof r?(t.pop(),r):o)});function zs(t){var e=_n(t);return e.__chain__=!0,e}function $s(t,e){return e(t)}var Bs=Io(function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,i=function(e){return Un(e,t)};return!(e>1||this.__actions__.length)&&n instanceof yn&&Jo(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:$s,args:[i],thisArg:o}),new wn(n,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(i)});var Vs=so(function(t,e,r){fe.call(t,r)?++t[r]:Nn(t,r,1)});var Ms=po(ws),Hs=po(ys);function Gs(t,e){return(ya(t)?Je:zn)(t,Lo(e,3))}function Js(t,e){return(ya(t)?Qe:$n)(t,Lo(e,3))}var Qs=so(function(t,e,r){fe.call(t,r)?t[r].push(e):Nn(t,r,[e])});var Zs=Ti(function(t,e,r){var i=-1,o="function"==typeof e,s=ma(t)?n(t.length):[];return zn(t,function(t){s[++i]=o?He(e,t,r):oi(t,e,r)}),s}),Ks=so(function(t,e,r){Nn(t,r,e)});function Ys(t,e){return(ya(t)?tr:pi)(t,Lo(e,3))}var Xs=so(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]});var ta=Ti(function(t,e){if(null==t)return[];var r=e.length;return r>1&&Qo(t,e[0],e[1])?e=[]:r>2&&Qo(e[0],e[1],e[2])&&(e=[e[0]]),yi(t,Hn(e,1),[])}),ea=qr||function(){return Ne.Date.now()};function ra(t,e,r){return e=r?o:e,e=t&&null==e?t.length:e,Ao(t,T,o,o,o,o,e)}function na(t,e){var r;if("function"!=typeof e)throw new ie(u);return t=Ba(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=o),r}}var ia=Ti(function(t,e,r){var n=w;if(r.length){var i=xr(r,qo(ia));n|=S}return Ao(t,n,e,r,i)}),oa=Ti(function(t,e,r){var n=w|y;if(r.length){var i=xr(r,qo(oa));n|=S}return Ao(e,n,t,r,i)});function sa(t,e,r){var n,i,s,a,c,f,l=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new ie(u);function _(e){var r=n,s=i;return n=i=o,l=e,a=t.apply(s,r)}function g(t){var r=t-f;return f===o||r>=e||r<0||d&&t-l>=s}function v(){var t=ea();if(g(t))return w(t);c=ss(v,function(t){var r=e-(t-f);return d?Gr(r,s-(t-l)):r}(t))}function w(t){return c=o,p&&n?_(t):(n=i=o,a)}function y(){var t=ea(),r=g(t);if(n=arguments,i=this,f=t,r){if(c===o)return function(t){return l=t,c=ss(v,e),h?_(t):a}(f);if(d)return Ki(c),c=ss(v,e),_(f)}return c===o&&(c=ss(v,e)),a}return e=Ma(e)||0,xa(r)&&(h=!!r.leading,s=(d="maxWait"in r)?Hr(Ma(r.maxWait)||0,e):s,p="trailing"in r?!!r.trailing:p),y.cancel=function(){c!==o&&Ki(c),l=0,n=f=i=c=o},y.flush=function(){return c===o?a:w(ea())},y}var aa=Ti(function(t,e){return Dn(t,1,e)}),ua=Ti(function(t,e,r){return Dn(t,Ma(e)||0,r)});function ca(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ie(u);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(ca.Cache||En),r}function fa(t){if("function"!=typeof t)throw new ie(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ca.Cache=En;var la=Qi(function(t,e){var r=(e=1==e.length&&ya(e[0])?tr(e[0],wr(Lo())):tr(Hn(e,1),wr(Lo()))).length;return Ti(function(n){for(var i=-1,o=Gr(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return He(t,this,n)})}),ha=Ti(function(t,e){var r=xr(e,qo(ha));return Ao(t,S,o,e,r)}),da=Ti(function(t,e){var r=xr(e,qo(da));return Ao(t,b,o,e,r)}),pa=Io(function(t,e){return Ao(t,R,o,o,o,e)});function _a(t,e){return t===e||t!=t&&e!=e}var ga=Eo(ei),va=Eo(function(t,e){return t>=e}),wa=si(function(){return arguments}())?si:function(t){return ja(t)&&fe.call(t,"callee")&&!We.call(t,"callee")},ya=n.isArray,ka=Fe?wr(Fe):function(t){return ja(t)&&ti(t)==ct};function ma(t){return null!=t&&Oa(t.length)&&!Ra(t)}function Ea(t){return ja(t)&&ma(t)}var Sa=$r||Mu,ba=ze?wr(ze):function(t){return ja(t)&&ti(t)==H};function Ta(t){if(!ja(t))return!1;var e=ti(t);return e==J||e==G||"string"==typeof t.message&&"string"==typeof t.name&&!Wa(t)}function Ra(t){if(!xa(t))return!1;var e=ti(t);return e==Q||e==Z||e==V||e==et}function Aa(t){return"number"==typeof t&&t==Ba(t)}function Oa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=U}function xa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ja(t){return null!=t&&"object"==typeof t}var Ca=$e?wr($e):function(t){return ja(t)&&Vo(t)==K};function Ia(t){return"number"==typeof t||ja(t)&&ti(t)==Y}function Wa(t){if(!ja(t)||ti(t)!=tt)return!1;var e=xe(t);if(null===e)return!0;var r=fe.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&ce.call(r)==pe}var Na=Be?wr(Be):function(t){return ja(t)&&ti(t)==rt};var Ua=Ve?wr(Ve):function(t){return ja(t)&&Vo(t)==nt};function Pa(t){return"string"==typeof t||!ya(t)&&ja(t)&&ti(t)==it}function qa(t){return"symbol"==typeof t||ja(t)&&ti(t)==ot}var La=Me?wr(Me):function(t){return ja(t)&&Oa(t.length)&&!!Ae[ti(t)]};var Da=Eo(di),Fa=Eo(function(t,e){return t<=e});function za(t){if(!t)return[];if(ma(t))return Pa(t)?Wr(t):io(t);if(Le&&t[Le])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[Le]());var e=Vo(t);return(e==K?Ar:e==nt?jr:_u)(t)}function $a(t){return t?(t=Ma(t))===N||t===-N?(t<0?-1:1)*P:t==t?t:0:0===t?t:0}function Ba(t){var e=$a(t),r=e%1;return e==e?r?e-r:e:0}function Va(t){return t?Pn(Ba(t),0,L):0}function Ma(t){if("number"==typeof t)return t;if(qa(t))return q;if(xa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=xa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=vr(t);var r=Ht.test(t);return r||Jt.test(t)?Ce(t.slice(2),r?2:8):Mt.test(t)?q:+t}function Ha(t){return oo(t,au(t))}function Ga(t){return null==t?"":Li(t)}var Ja=ao(function(t,e){if(Xo(e)||ma(e))oo(e,su(e),t);else for(var r in e)fe.call(e,r)&&jn(t,r,e[r])}),Qa=ao(function(t,e){oo(e,au(e),t)}),Za=ao(function(t,e,r,n){oo(e,au(e),t,n)}),Ka=ao(function(t,e,r,n){oo(e,su(e),t,n)}),Ya=Io(Un);var Xa=Ti(function(t,e){t=ee(t);var r=-1,n=e.length,i=n>2?e[2]:o;for(i&&Qo(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],a=au(s),u=-1,c=a.length;++u<c;){var f=a[u],l=t[f];(l===o||_a(l,ae[f])&&!fe.call(t,f))&&(t[f]=s[f])}return t}),tu=Ti(function(t){return t.push(o,xo),He(cu,o,t)});function eu(t,e,r){var n=null==t?o:Yn(t,e);return n===o?r:n}function ru(t,e){return null!=t&&Mo(t,e,ni)}var nu=vo(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),t[e]=r},xu(Iu)),iu=vo(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),fe.call(t,e)?t[e].push(r):t[e]=[r]},Lo),ou=Ti(oi);function su(t){return ma(t)?Tn(t):li(t)}function au(t){return ma(t)?Tn(t,!0):hi(t)}var uu=ao(function(t,e,r){vi(t,e,r)}),cu=ao(function(t,e,r,n){vi(t,e,r,n)}),fu=Io(function(t,e){var r={};if(null==t)return r;var n=!1;e=tr(e,function(e){return e=Ji(e,t),n||(n=e.length>1),e}),oo(t,No(t),r),n&&(r=qn(r,d|p|_,jo));for(var i=e.length;i--;)Fi(r,e[i]);return r});var lu=Io(function(t,e){return null==t?{}:function(t,e){return ki(t,e,function(e,r){return ru(t,r)})}(t,e)});function hu(t,e){if(null==t)return{};var r=tr(No(t),function(t){return[t]});return e=Lo(e),ki(t,r,function(t,r){return e(t,r[0])})}var du=Ro(su),pu=Ro(au);function _u(t){return null==t?[]:yr(t,su(t))}var gu=lo(function(t,e,r){return e=e.toLowerCase(),t+(r?vu(e):e)});function vu(t){return Tu(Ga(t).toLowerCase())}function wu(t){return(t=Ga(t))&&t.replace(Zt,Sr).replace(ke,"")}var yu=lo(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),ku=lo(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),mu=fo("toLowerCase");var Eu=lo(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()});var Su=lo(function(t,e,r){return t+(r?" ":"")+Tu(e)});var bu=lo(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),Tu=fo("toUpperCase");function Ru(t,e,r){return t=Ga(t),(e=r?o:e)===o?function(t){return be.test(t)}(t)?function(t){return t.match(Ee)||[]}(t):function(t){return t.match(Ft)||[]}(t):t.match(e)||[]}var Au=Ti(function(t,e){try{return He(t,o,e)}catch(t){return Ta(t)?t:new Pt(t)}}),Ou=Io(function(t,e){return Je(e,function(e){e=hs(e),Nn(t,e,ia(t[e],t))}),t});function xu(t){return function(){return t}}var ju=_o(),Cu=_o(!0);function Iu(t){return t}function Wu(t){return fi("function"==typeof t?t:qn(t,d))}var Nu=Ti(function(t,e){return function(r){return oi(r,t,e)}}),Uu=Ti(function(t,e){return function(r){return oi(t,r,e)}});function Pu(t,e,r){var n=su(e),i=Kn(e,n);null!=r||xa(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=Kn(e,su(e)));var o=!(xa(r)&&"chain"in r&&!r.chain),s=Ra(t);return Je(i,function(r){var n=e[r];t[r]=n,s&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__);return(r.__actions__=io(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,er([this.value()],arguments))})}),t}function qu(){}var Lu=yo(tr),Du=yo(Ze),Fu=yo(ir);function zu(t){return Zo(t)?hr(hs(t)):function(t){return function(e){return Yn(e,t)}}(t)}var $u=mo(),Bu=mo(!0);function Vu(){return[]}function Mu(){return!1}var Hu=wo(function(t,e){return t+e},0),Gu=bo("ceil"),Ju=wo(function(t,e){return t/e},1),Qu=bo("floor");var Zu,Ku=wo(function(t,e){return t*e},1),Yu=bo("round"),Xu=wo(function(t,e){return t-e},0);return _n.after=function(t,e){if("function"!=typeof e)throw new ie(u);return t=Ba(t),function(){if(--t<1)return e.apply(this,arguments)}},_n.ary=ra,_n.assign=Ja,_n.assignIn=Qa,_n.assignInWith=Za,_n.assignWith=Ka,_n.at=Ya,_n.before=na,_n.bind=ia,_n.bindAll=Ou,_n.bindKey=oa,_n.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ya(t)?t:[t]},_n.chain=zs,_n.chunk=function(t,e,r){e=(r?Qo(t,e,r):e===o)?1:Hr(Ba(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,a=0,u=n(Dr(i/e));s<i;)u[a++]=Ii(t,s,s+=e);return u},_n.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},_n.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return er(ya(r)?io(r):[r],Hn(e,1))},_n.cond=function(t){var e=null==t?0:t.length,r=Lo();return t=e?tr(t,function(t){if("function"!=typeof t[1])throw new ie(u);return[r(t[0]),t[1]]}):[],Ti(function(r){for(var n=-1;++n<e;){var i=t[n];if(He(i[0],this,r))return He(i[1],this,r)}})},_n.conforms=function(t){return function(t){var e=su(t);return function(r){return Ln(r,t,e)}}(qn(t,d))},_n.constant=xu,_n.countBy=Vs,_n.create=function(t,e){var r=gn(t);return null==e?r:Wn(r,e)},_n.curry=function t(e,r,n){var i=Ao(e,m,o,o,o,o,o,r=n?o:r);return i.placeholder=t.placeholder,i},_n.curryRight=function t(e,r,n){var i=Ao(e,E,o,o,o,o,o,r=n?o:r);return i.placeholder=t.placeholder,i},_n.debounce=sa,_n.defaults=Xa,_n.defaultsDeep=tu,_n.defer=aa,_n.delay=ua,_n.difference=_s,_n.differenceBy=gs,_n.differenceWith=vs,_n.drop=function(t,e,r){var n=null==t?0:t.length;return n?Ii(t,(e=r||e===o?1:Ba(e))<0?0:e,n):[]},_n.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?Ii(t,0,(e=n-(e=r||e===o?1:Ba(e)))<0?0:e):[]},_n.dropRightWhile=function(t,e){return t&&t.length?$i(t,Lo(e,3),!0,!0):[]},_n.dropWhile=function(t,e){return t&&t.length?$i(t,Lo(e,3),!0):[]},_n.fill=function(t,e,r,n){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&Qo(t,e,r)&&(r=0,n=i),function(t,e,r,n){var i=t.length;for((r=Ba(r))<0&&(r=-r>i?0:i+r),(n=n===o||n>i?i:Ba(n))<0&&(n+=i),n=r>n?0:Va(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},_n.filter=function(t,e){return(ya(t)?Ke:Mn)(t,Lo(e,3))},_n.flatMap=function(t,e){return Hn(Ys(t,e),1)},_n.flatMapDeep=function(t,e){return Hn(Ys(t,e),N)},_n.flatMapDepth=function(t,e,r){return r=r===o?1:Ba(r),Hn(Ys(t,e),r)},_n.flatten=ks,_n.flattenDeep=function(t){return null!=t&&t.length?Hn(t,N):[]},_n.flattenDepth=function(t,e){return null!=t&&t.length?Hn(t,e=e===o?1:Ba(e)):[]},_n.flip=function(t){return Ao(t,A)},_n.flow=ju,_n.flowRight=Cu,_n.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},_n.functions=function(t){return null==t?[]:Kn(t,su(t))},_n.functionsIn=function(t){return null==t?[]:Kn(t,au(t))},_n.groupBy=Qs,_n.initial=function(t){return null!=t&&t.length?Ii(t,0,-1):[]},_n.intersection=Es,_n.intersectionBy=Ss,_n.intersectionWith=bs,_n.invert=nu,_n.invertBy=iu,_n.invokeMap=Zs,_n.iteratee=Wu,_n.keyBy=Ks,_n.keys=su,_n.keysIn=au,_n.map=Ys,_n.mapKeys=function(t,e){var r={};return e=Lo(e,3),Qn(t,function(t,n,i){Nn(r,e(t,n,i),t)}),r},_n.mapValues=function(t,e){var r={};return e=Lo(e,3),Qn(t,function(t,n,i){Nn(r,n,e(t,n,i))}),r},_n.matches=function(t){return _i(qn(t,d))},_n.matchesProperty=function(t,e){return gi(t,qn(e,d))},_n.memoize=ca,_n.merge=uu,_n.mergeWith=cu,_n.method=Nu,_n.methodOf=Uu,_n.mixin=Pu,_n.negate=fa,_n.nthArg=function(t){return t=Ba(t),Ti(function(e){return wi(e,t)})},_n.omit=fu,_n.omitBy=function(t,e){return hu(t,fa(Lo(e)))},_n.once=function(t){return na(2,t)},_n.orderBy=function(t,e,r,n){return null==t?[]:(ya(e)||(e=null==e?[]:[e]),ya(r=n?o:r)||(r=null==r?[]:[r]),yi(t,e,r))},_n.over=Lu,_n.overArgs=la,_n.overEvery=Du,_n.overSome=Fu,_n.partial=ha,_n.partialRight=da,_n.partition=Xs,_n.pick=lu,_n.pickBy=hu,_n.property=zu,_n.propertyOf=function(t){return function(e){return null==t?o:Yn(t,e)}},_n.pull=Rs,_n.pullAll=As,_n.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?mi(t,e,Lo(r,2)):t},_n.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?mi(t,e,o,r):t},_n.pullAt=Os,_n.range=$u,_n.rangeRight=Bu,_n.rearg=pa,_n.reject=function(t,e){return(ya(t)?Ke:Mn)(t,fa(Lo(e,3)))},_n.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=Lo(e,3);++n<o;){var s=t[n];e(s,n,t)&&(r.push(s),i.push(n))}return Ei(t,i),r},_n.rest=function(t,e){if("function"!=typeof t)throw new ie(u);return Ti(t,e=e===o?e:Ba(e))},_n.reverse=xs,_n.sampleSize=function(t,e,r){return e=(r?Qo(t,e,r):e===o)?1:Ba(e),(ya(t)?An:Ai)(t,e)},_n.set=function(t,e,r){return null==t?t:Oi(t,e,r)},_n.setWith=function(t,e,r,n){return n="function"==typeof n?n:o,null==t?t:Oi(t,e,r,n)},_n.shuffle=function(t){return(ya(t)?On:Ci)(t)},_n.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&Qo(t,e,r)?(e=0,r=n):(e=null==e?0:Ba(e),r=r===o?n:Ba(r)),Ii(t,e,r)):[]},_n.sortBy=ta,_n.sortedUniq=function(t){return t&&t.length?Pi(t):[]},_n.sortedUniqBy=function(t,e){return t&&t.length?Pi(t,Lo(e,2)):[]},_n.split=function(t,e,r){return r&&"number"!=typeof r&&Qo(t,e,r)&&(e=r=o),(r=r===o?L:r>>>0)?(t=Ga(t))&&("string"==typeof e||null!=e&&!Na(e))&&!(e=Li(e))&&Rr(t)?Zi(Wr(t),0,r):t.split(e,r):[]},_n.spread=function(t,e){if("function"!=typeof t)throw new ie(u);return e=null==e?0:Hr(Ba(e),0),Ti(function(r){var n=r[e],i=Zi(r,0,e);return n&&er(i,n),He(t,this,i)})},_n.tail=function(t){var e=null==t?0:t.length;return e?Ii(t,1,e):[]},_n.take=function(t,e,r){return t&&t.length?Ii(t,0,(e=r||e===o?1:Ba(e))<0?0:e):[]},_n.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?Ii(t,(e=n-(e=r||e===o?1:Ba(e)))<0?0:e,n):[]},_n.takeRightWhile=function(t,e){return t&&t.length?$i(t,Lo(e,3),!1,!0):[]},_n.takeWhile=function(t,e){return t&&t.length?$i(t,Lo(e,3)):[]},_n.tap=function(t,e){return e(t),t},_n.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new ie(u);return xa(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),sa(t,e,{leading:n,maxWait:e,trailing:i})},_n.thru=$s,_n.toArray=za,_n.toPairs=du,_n.toPairsIn=pu,_n.toPath=function(t){return ya(t)?tr(t,hs):qa(t)?[t]:io(ls(Ga(t)))},_n.toPlainObject=Ha,_n.transform=function(t,e,r){var n=ya(t),i=n||Sa(t)||La(t);if(e=Lo(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:xa(t)&&Ra(o)?gn(xe(t)):{}}return(i?Je:Qn)(t,function(t,n,i){return e(r,t,n,i)}),r},_n.unary=function(t){return ra(t,1)},_n.union=js,_n.unionBy=Cs,_n.unionWith=Is,_n.uniq=function(t){return t&&t.length?Di(t):[]},_n.uniqBy=function(t,e){return t&&t.length?Di(t,Lo(e,2)):[]},_n.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?Di(t,o,e):[]},_n.unset=function(t,e){return null==t||Fi(t,e)},_n.unzip=Ws,_n.unzipWith=Ns,_n.update=function(t,e,r){return null==t?t:zi(t,e,Gi(r))},_n.updateWith=function(t,e,r,n){return n="function"==typeof n?n:o,null==t?t:zi(t,e,Gi(r),n)},_n.values=_u,_n.valuesIn=function(t){return null==t?[]:yr(t,au(t))},_n.without=Us,_n.words=Ru,_n.wrap=function(t,e){return ha(Gi(e),t)},_n.xor=Ps,_n.xorBy=qs,_n.xorWith=Ls,_n.zip=Ds,_n.zipObject=function(t,e){return Mi(t||[],e||[],jn)},_n.zipObjectDeep=function(t,e){return Mi(t||[],e||[],Oi)},_n.zipWith=Fs,_n.entries=du,_n.entriesIn=pu,_n.extend=Qa,_n.extendWith=Za,Pu(_n,_n),_n.add=Hu,_n.attempt=Au,_n.camelCase=gu,_n.capitalize=vu,_n.ceil=Gu,_n.clamp=function(t,e,r){return r===o&&(r=e,e=o),r!==o&&(r=(r=Ma(r))==r?r:0),e!==o&&(e=(e=Ma(e))==e?e:0),Pn(Ma(t),e,r)},_n.clone=function(t){return qn(t,_)},_n.cloneDeep=function(t){return qn(t,d|_)},_n.cloneDeepWith=function(t,e){return qn(t,d|_,e="function"==typeof e?e:o)},_n.cloneWith=function(t,e){return qn(t,_,e="function"==typeof e?e:o)},_n.conformsTo=function(t,e){return null==e||Ln(t,e,su(e))},_n.deburr=wu,_n.defaultTo=function(t,e){return null==t||t!=t?e:t},_n.divide=Ju,_n.endsWith=function(t,e,r){t=Ga(t),e=Li(e);var n=t.length,i=r=r===o?n:Pn(Ba(r),0,n);return(r-=e.length)>=0&&t.slice(r,i)==e},_n.eq=_a,_n.escape=function(t){return(t=Ga(t))&&Rt.test(t)?t.replace(bt,br):t},_n.escapeRegExp=function(t){return(t=Ga(t))&&Nt.test(t)?t.replace(Wt,"\\$&"):t},_n.every=function(t,e,r){var n=ya(t)?Ze:Bn;return r&&Qo(t,e,r)&&(e=o),n(t,Lo(e,3))},_n.find=Ms,_n.findIndex=ws,_n.findKey=function(t,e){return sr(t,Lo(e,3),Qn)},_n.findLast=Hs,_n.findLastIndex=ys,_n.findLastKey=function(t,e){return sr(t,Lo(e,3),Zn)},_n.floor=Qu,_n.forEach=Gs,_n.forEachRight=Js,_n.forIn=function(t,e){return null==t?t:Gn(t,Lo(e,3),au)},_n.forInRight=function(t,e){return null==t?t:Jn(t,Lo(e,3),au)},_n.forOwn=function(t,e){return t&&Qn(t,Lo(e,3))},_n.forOwnRight=function(t,e){return t&&Zn(t,Lo(e,3))},_n.get=eu,_n.gt=ga,_n.gte=va,_n.has=function(t,e){return null!=t&&Mo(t,e,ri)},_n.hasIn=ru,_n.head=ms,_n.identity=Iu,_n.includes=function(t,e,r,n){t=ma(t)?t:_u(t),r=r&&!n?Ba(r):0;var i=t.length;return r<0&&(r=Hr(i+r,0)),Pa(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&ur(t,e,r)>-1},_n.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:Ba(r);return i<0&&(i=Hr(n+i,0)),ur(t,e,i)},_n.inRange=function(t,e,r){return e=$a(e),r===o?(r=e,e=0):r=$a(r),function(t,e,r){return t>=Gr(e,r)&&t<Hr(e,r)}(t=Ma(t),e,r)},_n.invoke=ou,_n.isArguments=wa,_n.isArray=ya,_n.isArrayBuffer=ka,_n.isArrayLike=ma,_n.isArrayLikeObject=Ea,_n.isBoolean=function(t){return!0===t||!1===t||ja(t)&&ti(t)==M},_n.isBuffer=Sa,_n.isDate=ba,_n.isElement=function(t){return ja(t)&&1===t.nodeType&&!Wa(t)},_n.isEmpty=function(t){if(null==t)return!0;if(ma(t)&&(ya(t)||"string"==typeof t||"function"==typeof t.splice||Sa(t)||La(t)||wa(t)))return!t.length;var e=Vo(t);if(e==K||e==nt)return!t.size;if(Xo(t))return!li(t).length;for(var r in t)if(fe.call(t,r))return!1;return!0},_n.isEqual=function(t,e){return ai(t,e)},_n.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:o)?r(t,e):o;return n===o?ai(t,e,o,r):!!n},_n.isError=Ta,_n.isFinite=function(t){return"number"==typeof t&&Br(t)},_n.isFunction=Ra,_n.isInteger=Aa,_n.isLength=Oa,_n.isMap=Ca,_n.isMatch=function(t,e){return t===e||ui(t,e,Fo(e))},_n.isMatchWith=function(t,e,r){return r="function"==typeof r?r:o,ui(t,e,Fo(e),r)},_n.isNaN=function(t){return Ia(t)&&t!=+t},_n.isNative=function(t){if(Yo(t))throw new Pt(a);return ci(t)},_n.isNil=function(t){return null==t},_n.isNull=function(t){return null===t},_n.isNumber=Ia,_n.isObject=xa,_n.isObjectLike=ja,_n.isPlainObject=Wa,_n.isRegExp=Na,_n.isSafeInteger=function(t){return Aa(t)&&t>=-U&&t<=U},_n.isSet=Ua,_n.isString=Pa,_n.isSymbol=qa,_n.isTypedArray=La,_n.isUndefined=function(t){return t===o},_n.isWeakMap=function(t){return ja(t)&&Vo(t)==at},_n.isWeakSet=function(t){return ja(t)&&ti(t)==ut},_n.join=function(t,e){return null==t?"":Vr.call(t,e)},_n.kebabCase=yu,_n.last=Ts,_n.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n;return r!==o&&(i=(i=Ba(r))<0?Hr(n+i,0):Gr(i,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,i):ar(t,fr,i,!0)},_n.lowerCase=ku,_n.lowerFirst=mu,_n.lt=Da,_n.lte=Fa,_n.max=function(t){return t&&t.length?Vn(t,Iu,ei):o},_n.maxBy=function(t,e){return t&&t.length?Vn(t,Lo(e,2),ei):o},_n.mean=function(t){return lr(t,Iu)},_n.meanBy=function(t,e){return lr(t,Lo(e,2))},_n.min=function(t){return t&&t.length?Vn(t,Iu,di):o},_n.minBy=function(t,e){return t&&t.length?Vn(t,Lo(e,2),di):o},_n.stubArray=Vu,_n.stubFalse=Mu,_n.stubObject=function(){return{}},_n.stubString=function(){return""},_n.stubTrue=function(){return!0},_n.multiply=Ku,_n.nth=function(t,e){return t&&t.length?wi(t,Ba(e)):o},_n.noConflict=function(){return Ne._===this&&(Ne._=_e),this},_n.noop=qu,_n.now=ea,_n.pad=function(t,e,r){t=Ga(t);var n=(e=Ba(e))?Ir(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return ko(Fr(i),r)+t+ko(Dr(i),r)},_n.padEnd=function(t,e,r){t=Ga(t);var n=(e=Ba(e))?Ir(t):0;return e&&n<e?t+ko(e-n,r):t},_n.padStart=function(t,e,r){t=Ga(t);var n=(e=Ba(e))?Ir(t):0;return e&&n<e?ko(e-n,r)+t:t},_n.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),Qr(Ga(t).replace(Ut,""),e||0)},_n.random=function(t,e,r){if(r&&"boolean"!=typeof r&&Qo(t,e,r)&&(e=r=o),r===o&&("boolean"==typeof e?(r=e,e=o):"boolean"==typeof t&&(r=t,t=o)),t===o&&e===o?(t=0,e=1):(t=$a(t),e===o?(e=t,t=0):e=$a(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var i=Zr();return Gr(t+i*(e-t+je("1e-"+((i+"").length-1))),e)}return Si(t,e)},_n.reduce=function(t,e,r){var n=ya(t)?rr:pr,i=arguments.length<3;return n(t,Lo(e,4),r,i,zn)},_n.reduceRight=function(t,e,r){var n=ya(t)?nr:pr,i=arguments.length<3;return n(t,Lo(e,4),r,i,$n)},_n.repeat=function(t,e,r){return e=(r?Qo(t,e,r):e===o)?1:Ba(e),bi(Ga(t),e)},_n.replace=function(){var t=arguments,e=Ga(t[0]);return t.length<3?e:e.replace(t[1],t[2])},_n.result=function(t,e,r){var n=-1,i=(e=Ji(e,t)).length;for(i||(i=1,t=o);++n<i;){var s=null==t?o:t[hs(e[n])];s===o&&(n=i,s=r),t=Ra(s)?s.call(t):s}return t},_n.round=Yu,_n.runInContext=t,_n.sample=function(t){return(ya(t)?Rn:Ri)(t)},_n.size=function(t){if(null==t)return 0;if(ma(t))return Pa(t)?Ir(t):t.length;var e=Vo(t);return e==K||e==nt?t.size:li(t).length},_n.snakeCase=Eu,_n.some=function(t,e,r){var n=ya(t)?ir:Wi;return r&&Qo(t,e,r)&&(e=o),n(t,Lo(e,3))},_n.sortedIndex=function(t,e){return Ni(t,e)},_n.sortedIndexBy=function(t,e,r){return Ui(t,e,Lo(r,2))},_n.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=Ni(t,e);if(n<r&&_a(t[n],e))return n}return-1},_n.sortedLastIndex=function(t,e){return Ni(t,e,!0)},_n.sortedLastIndexBy=function(t,e,r){return Ui(t,e,Lo(r,2),!0)},_n.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=Ni(t,e,!0)-1;if(_a(t[r],e))return r}return-1},_n.startCase=Su,_n.startsWith=function(t,e,r){return t=Ga(t),r=null==r?0:Pn(Ba(r),0,t.length),e=Li(e),t.slice(r,r+e.length)==e},_n.subtract=Xu,_n.sum=function(t){return t&&t.length?_r(t,Iu):0},_n.sumBy=function(t,e){return t&&t.length?_r(t,Lo(e,2)):0},_n.template=function(t,e,r){var n=_n.templateSettings;r&&Qo(t,e,r)&&(e=o),t=Ga(t),e=Za({},e,n,Oo);var i,s,a=Za({},e.imports,n.imports,Oo),u=su(a),f=yr(a,u),l=0,h=e.interpolate||Kt,d="__p += '",p=re((e.escape||Kt).source+"|"+h.source+"|"+(h===xt?Bt:Kt).source+"|"+(e.evaluate||Kt).source+"|$","g"),_="//# sourceURL="+(fe.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Re+"]")+"\n";t.replace(p,function(e,r,n,o,a,u){return n||(n=o),d+=t.slice(l,u).replace(Yt,Tr),r&&(i=!0,d+="' +\n__e("+r+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),d+="';\n";var g=fe.call(e,"variable")&&e.variable;if(g){if(zt.test(g))throw new Pt(c)}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(kt,""):d).replace(mt,"$1").replace(Et,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Au(function(){return Xt(u,_+"return "+d).apply(o,f)});if(v.source=d,Ta(v))throw v;return v},_n.times=function(t,e){if((t=Ba(t))<1||t>U)return[];var r=L,n=Gr(t,L);e=Lo(e),t-=L;for(var i=gr(n,e);++r<t;)e(r);return i},_n.toFinite=$a,_n.toInteger=Ba,_n.toLength=Va,_n.toLower=function(t){return Ga(t).toLowerCase()},_n.toNumber=Ma,_n.toSafeInteger=function(t){return t?Pn(Ba(t),-U,U):0===t?t:0},_n.toString=Ga,_n.toUpper=function(t){return Ga(t).toUpperCase()},_n.trim=function(t,e,r){if((t=Ga(t))&&(r||e===o))return vr(t);if(!t||!(e=Li(e)))return t;var n=Wr(t),i=Wr(e);return Zi(n,mr(n,i),Er(n,i)+1).join("")},_n.trimEnd=function(t,e,r){if((t=Ga(t))&&(r||e===o))return t.slice(0,Nr(t)+1);if(!t||!(e=Li(e)))return t;var n=Wr(t);return Zi(n,0,Er(n,Wr(e))+1).join("")},_n.trimStart=function(t,e,r){if((t=Ga(t))&&(r||e===o))return t.replace(Ut,"");if(!t||!(e=Li(e)))return t;var n=Wr(t);return Zi(n,mr(n,Wr(e))).join("")},_n.truncate=function(t,e){var r=O,n=x;if(xa(e)){var i="separator"in e?e.separator:i;r="length"in e?Ba(e.length):r,n="omission"in e?Li(e.omission):n}var s=(t=Ga(t)).length;if(Rr(t)){var a=Wr(t);s=a.length}if(r>=s)return t;var u=r-Ir(n);if(u<1)return n;var c=a?Zi(a,0,u).join(""):t.slice(0,u);if(i===o)return c+n;if(a&&(u+=c.length-u),Na(i)){if(t.slice(u).search(i)){var f,l=c;for(i.global||(i=re(i.source,Ga(Vt.exec(i))+"g")),i.lastIndex=0;f=i.exec(l);)var h=f.index;c=c.slice(0,h===o?u:h)}}else if(t.indexOf(Li(i),u)!=u){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+n},_n.unescape=function(t){return(t=Ga(t))&&Tt.test(t)?t.replace(St,Ur):t},_n.uniqueId=function(t){var e=++le;return Ga(t)+e},_n.upperCase=bu,_n.upperFirst=Tu,_n.each=Gs,_n.eachRight=Js,_n.first=ms,Pu(_n,(Zu={},Qn(_n,function(t,e){fe.call(_n.prototype,e)||(Zu[e]=t)}),Zu),{chain:!1}),_n.VERSION="4.17.21",Je(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){_n[t].placeholder=_n}),Je(["drop","take"],function(t,e){yn.prototype[t]=function(r){r=r===o?1:Hr(Ba(r),0);var n=this.__filtered__&&!e?new yn(this):this.clone();return n.__filtered__?n.__takeCount__=Gr(r,n.__takeCount__):n.__views__.push({size:Gr(r,L),type:t+(n.__dir__<0?"Right":"")}),n},yn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Je(["filter","map","takeWhile"],function(t,e){var r=e+1,n=r==I||3==r;yn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Lo(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}}),Je(["head","last"],function(t,e){var r="take"+(e?"Right":"");yn.prototype[t]=function(){return this[r](1).value()[0]}}),Je(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");yn.prototype[t]=function(){return this.__filtered__?new yn(this):this[r](1)}}),yn.prototype.compact=function(){return this.filter(Iu)},yn.prototype.find=function(t){return this.filter(t).head()},yn.prototype.findLast=function(t){return this.reverse().find(t)},yn.prototype.invokeMap=Ti(function(t,e){return"function"==typeof t?new yn(this):this.map(function(r){return oi(r,t,e)})}),yn.prototype.reject=function(t){return this.filter(fa(Lo(t)))},yn.prototype.slice=function(t,e){t=Ba(t);var r=this;return r.__filtered__&&(t>0||e<0)?new yn(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==o&&(r=(e=Ba(e))<0?r.dropRight(-e):r.take(e-t)),r)},yn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},yn.prototype.toArray=function(){return this.take(L)},Qn(yn.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),i=_n[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);i&&(_n.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,u=e instanceof yn,c=a[0],f=u||ya(e),l=function(t){var e=i.apply(_n,er([t],a));return n&&h?e[0]:e};f&&r&&"function"==typeof c&&1!=c.length&&(u=f=!1);var h=this.__chain__,d=!!this.__actions__.length,p=s&&!h,_=u&&!d;if(!s&&f){e=_?e:new yn(this);var g=t.apply(e,a);return g.__actions__.push({func:$s,args:[l],thisArg:o}),new wn(g,h)}return p&&_?t.apply(this,a):(g=this.thru(l),p?n?g.value()[0]:g.value():g)})}),Je(["pop","push","shift","sort","splice","unshift"],function(t){var e=oe[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);_n.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(ya(i)?i:[],t)}return this[r](function(r){return e.apply(ya(r)?r:[],t)})}}),Qn(yn.prototype,function(t,e){var r=_n[e];if(r){var n=r.name+"";fe.call(sn,n)||(sn[n]=[]),sn[n].push({name:e,func:r})}}),sn[go(o,y).name]=[{name:"wrapper",func:o}],yn.prototype.clone=function(){var t=new yn(this.__wrapped__);return t.__actions__=io(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=io(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=io(this.__views__),t},yn.prototype.reverse=function(){if(this.__filtered__){var t=new yn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},yn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=ya(t),n=e<0,i=r?t.length:0,o=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Gr(e,t+s);break;case"takeRight":t=Hr(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=n?a:s-1,f=this.__iteratees__,l=f.length,h=0,d=Gr(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return Bi(t,this.__actions__);var p=[];t:for(;u--&&h<d;){for(var _=-1,g=t[c+=e];++_<l;){var v=f[_],w=v.iteratee,y=v.type,k=w(g);if(y==W)g=k;else if(!k){if(y==I)continue t;break t}}p[h++]=g}return p},_n.prototype.at=Bs,_n.prototype.chain=function(){return zs(this)},_n.prototype.commit=function(){return new wn(this.value(),this.__chain__)},_n.prototype.next=function(){this.__values__===o&&(this.__values__=za(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},_n.prototype.plant=function(t){for(var e,r=this;r instanceof vn;){var n=ps(r);n.__index__=0,n.__values__=o,e?i.__wrapped__=n:e=n;var i=n;r=r.__wrapped__}return i.__wrapped__=t,e},_n.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof yn){var e=t;return this.__actions__.length&&(e=new yn(this)),(e=e.reverse()).__actions__.push({func:$s,args:[xs],thisArg:o}),new wn(e,this.__chain__)}return this.thru(xs)},_n.prototype.toJSON=_n.prototype.valueOf=_n.prototype.value=function(){return Bi(this.__wrapped__,this.__actions__)},_n.prototype.first=_n.prototype.head,Le&&(_n.prototype[Le]=function(){return this}),_n}();Ne._=Pr,(i=function(){return Pr}.call(e,r,e,n))===o||(n.exports=i)}).call(this)}).call(this,r(15),r(51)(t))},function(t,e,r){"use strict";r.r(e),r.d(e,"RESERVATION_STATUS_ACCEPTED",function(){return n}),r.d(e,"RESERVATION_STATUS_COMPLETED",function(){return i}),r.d(e,"RESERVATION_STATUS_REJECTED",function(){return o}),r.d(e,"RESERVATION_STATUS_WRAPPING",function(){return s}),r.d(e,"RESERVATION_INSTRUCTION_CALL",function(){return a}),r.d(e,"RESERVATION_INSTRUCTION_DEQUEUE",function(){return u}),r.d(e,"RESERVATION_INSTRUCTION_REDIRECT",function(){return c}),r.d(e,"RESERVATION_INSTRUCTION_CONFERENCE",function(){return f}),r.d(e,"TRANSFER_STATUS",function(){return l}),r.d(e,"RESERVATION_REJECT_OPTIONS",function(){return h}),r.d(e,"WORKER_UPDATE_OPTIONS",function(){return d}),r.d(e,"RESERVATION_CALL_OPTIONS",function(){return p}),r.d(e,"RESERVATION_DEQUEUE_OPTIONS",function(){return _}),r.d(e,"RESERVATION_REDIRECT_OPTIONS",function(){return g}),r.d(e,"CREATE_TASK_OPTIONS",function(){return v}),r.d(e,"TASK_STATUS_COMPLETED",function(){return w}),r.d(e,"TASK_STATUS_WRAPPING",function(){return y}),r.d(e,"reservationEventTypes",function(){return k}),r.d(e,"taskEventTypes",function(){return m}),r.d(e,"reservationToSDKEventsMapping",function(){return E}),r.d(e,"transferFields",function(){return S}),r.d(e,"TRANSFER_INITIATED",function(){return b}),r.d(e,"taskTransferEventTypes",function(){return T}),r.d(e,"taskTransferEventEmitterMapping",function(){return R}),r.d(e,"API_V1",function(){return A}),r.d(e,"API_V2",function(){return O}),r.d(e,"DEFAULT_PAGE_SIZE",function(){return x}),r.d(e,"DEFAULT_HTTP_TIMEOUT",function(){return j}),r.d(e,"EB_URL_PARAMS",function(){return C}),r.d(e,"twilioErrors",function(){return W});const n="accepted",i="completed",o="rejected",s="wrapping",a="call",u="dequeue",c="redirect",f="conference",l=Object.freeze({canceled:"canceled",complete:"complete",failed:"failed",initiated:"initiated"}),h={activitySid:"WorkerActivitySid"};Object.freeze(h);const d={rejectPendingReservations:"RejectPendingReservations"};Object.freeze(d);const p={accept:"CallAccept",record:"CallRecord",statusCallbackUrl:"CallStatusCallbackUrl",timeout:"CallTimeout",to:"CallTo"};Object.freeze(p);const _={to:"DequeueTo",from:"DequeueFrom",postWorkActivitySid:"DequeuePostWorkActivitySid",record:"DequeueRecord",timeout:"DequeueTimeout",statusCallbackUrl:"DequeueStatusCallbackUrl",statusCallbackEvents:"DequeueStatusCallbackEvents"};Object.freeze(_);const g={accept:"RedirectAccept"};Object.freeze(g);const v={taskChannelUniqueName:"TaskChannelUniqueName",taskChannelSid:"TaskChannelSid",attributes:"Attributes"},w="completed",y="wrapping",k={accepted:0,rejected:1,timeout:2,canceled:3,rescinded:4,completed:5,wrapup:6};Object.freeze(k);const m={"task.updated":"updated","task.canceled":"canceled","task.completed":"completed","task.wrapup":"wrapup"};Object.freeze(m);const E={"reservation.completed":"completed","reservation.rejected":"rejected","reservation.timeout":"timeout","reservation.canceled":"canceled","reservation.rescinded":"rescinded","reservation.accepted":"accepted","reservation.wrapup":"wrapup"};Object.freeze(E);const S=Object.freeze({taskTransfer:"task_transfer",activeOutgoingTaskTransfer:"active_outgoing_task_transfer"}),b="transfer-initiated",T={"transfer-attempt-failed":"attemptFailed","transfer-completed":"completed","transfer-failed":"failed","transfer-initiated":"transferInitiated","transfer-canceled":"canceled"};Object.freeze(T);const R={"task.transfer-attempt-failed":"transfer-attempt-failed","task.transfer-completed":"transfer-completed","task.transfer-failed":"transfer-failed","task.transfer-initiated":"transfer-initiated","task.transfer-canceled":"transfer-canceled"};Object.freeze(R);const A="v1",O="v2",x=1e3,j=5e3,C={TOKEN:"token",CLOSE_EXISTING_SESSIONS:"closeExistingSessions",CLIENT_VERSION:"clientVersion"},I=r(50),W=[{name:"INVALID_ARGUMENT",message:"One or more arguments passed were invalid."},{name:"INVALID_TOKEN",message:"The token is invalid or malformed."},{name:"TOKEN_EXPIRED",message:"Worker's active token has expired."},{name:"GATEWAY_CONNECTION_FAILED",message:"Could not connect to Twilio's servers."},{name:"GATEWAY_DISCONNECTED",message:"Connection to Twilio's servers was lost."},{name:"INVALID_GATEWAY_MESSAGE",message:"The JSON message received was malformed."},{name:"TASKROUTER_ERROR",message:"TaskRouter failed to complete the request."}].reduce((t,e)=>(t[e.name]=new I(e),t),{})},function(t,e,r){"use strict";r.d(e,"f",function(){return s}),r.d(e,"e",function(){return a}),r.d(e,"n",function(){return u}),r.d(e,"o",function(){return c}),r.d(e,"j",function(){return f}),r.d(e,"i",function(){return l}),r.d(e,"h",function(){return h}),r.d(e,"l",function(){return d}),r.d(e,"k",function(){return p}),r.d(e,"g",function(){return _}),r.d(e,"m",function(){return g}),r.d(e,"a",function(){return v}),r.d(e,"b",function(){return w}),r.d(e,"p",function(){return y}),r.d(e,"c",function(){return k}),r.d(e,"d",function(){return m}),r.d(e,"q",function(){return E});var n=r(4),i=r.n(n);const o=r(1).twilioErrors,s="reservationList",a="reservationInstance",u="workerInstance",c="workerList",f="taskReservationInstance",l="taskList",h="taskInstance",d="taskTransferList",p="taskTransferInstance",_="taskQueueList",g="workerChannels",v="activitiesList",w="customerParticipantInstance",y="workerParticipantInstance",k="holdWorkerParticipantInstance",m="kickWorkerParticipant";class E{constructor(t,e){if(!t||!e)throw o.INVALID_ARGUMENT.clone("Error instantiating Routes class. <string>workspaceSid and <string>workerSid are required parameters.");this.workspaceSid=t,this.workerSid=e,this.routes={[v]:{path:i.a.join("Workspaces",this.workspaceSid,"Activities")},[u]:{path:i.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid)},[c]:{path:i.a.join("Workspaces",this.workspaceSid,"Workers")},[a]:{path:i.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"Reservations","%s")},[s]:{path:i.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"Reservations")},[l]:{path:i.a.join("Workspaces",this.workspaceSid,"Tasks")},[h]:{path:i.a.join("Workspaces",this.workspaceSid,"Tasks","%s")},[d]:{path:i.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"Transfers")},[p]:{path:i.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"Transfers","%s")},[f]:{path:i.a.join("Workspaces",this.workspaceSid,"Tasks","%s","Reservations","%s")},[_]:{path:i.a.join("Workspaces",this.workspaceSid,"TaskQueues")},[g]:{path:i.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"WorkerChannels")},[w]:{path:i.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"CustomerParticipant")},[y]:{path:i.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"WorkerParticipant")},[k]:{path:i.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"HoldWorkerParticipant")},[m]:{path:i.a.join("Workspaces",this.workspaceSid,"Workers",this.workerSid,"KickWorkerParticipant")}}}getRoute(t,...e){if(!this.routes[t])throw o.INVALID_ARGUMENT.clone(`Invalid route fetched <string>route "${t}" does not exist.`);if(e.length){let r=Object.assign({},this.routes[t]);if(e.length!==(r.path.match(/%s/g)||[]).length)throw o.INVALID_ARGUMENT.clone(`Invalid number of positional arguments supplied for route ${t}`);for(let t of e)r.path=r.path.replace(/%s/,t);return r}return this.routes[t]}}},function(t,e,r){"use strict";function n(t){try{return new Date(t)}catch(t){return null}}function i(t,e){for(const r in t)if(r in e&&!e[r](t[r]))throw new TypeError(`Option key: ${r} does not meet the required type.`);return!0}r.r(e),r.d(e,"parseTime",function(){return n}),r.d(e,"validateOptions",function(){return i})},function(t,e){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return n.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var i=n>=0?arguments[n]:process.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,e="/"===i.charAt(0))}return t=r(o(t.split("/"),function(t){return!!t}),!e).join("/"),(e?"/":"")+t||"."},e.normalize=function(t){var n=e.isAbsolute(t),i="/"===s(t,-1);return(t=r(o(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&i&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,s,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(o(r=this._events[t]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(i(r))for(a=Array.prototype.slice.call(arguments,1),s=(c=r.slice()).length,u=0;u<s;u++)c[u].apply(this,a);return!0},r.prototype.addListener=function(t,e){var s;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},r.prototype.removeListener=function(t,e){var r,o,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(r=this._events[t]).length,o=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(r)){for(a=s;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){o=a;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){"use strict";var n=r(23),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function s(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function u(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===i.call(t)}function f(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),o(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isPlainObject:u,isUndefined:s,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:c,isStream:function(t){return a(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:f,merge:function t(){var e={};function r(r,n){u(e[n])&&u(r)?e[n]=t(e[n],r):u(r)?e[n]=t({},r):o(r)?e[n]=r.slice():e[n]=r}for(var n=0,i=arguments.length;n<i;n++)f(arguments[n],r);return e},extend:function(t,e,r){return f(e,function(e,i){t[i]=r&&"function"==typeof e?n(e,r):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},function(t,e,r){"use strict";var n=r(0),i=r.n(n),o=r(11),s=r(26),a=r(5),u=r(10),c=r(13),f=r(2),l=r(9),h=r(1),d=r(3);class p{constructor(t){if(!i.a.isObject(t))throw new TypeError("Failed to instantiate ActivityDescriptor. <Descriptor>descriptor is required.");if(!g.every(e=>e in t))throw new TypeError("Failed to instantiate ActivityDescriptor. <Descriptor>descriptor does not contain all properties of an Activity.");this.accountSid=t.account_sid,this.available=t.available,this.dateCreated=Object(d.parseTime)(1e3*t.date_created),this.dateUpdated=Object(d.parseTime)(1e3*t.date_updated),this.name=t.friendly_name,this.sid=t.sid,this.workspaceSid=t.workspace_sid}}const _=r(3).validateOptions;const g=["account_sid","available","date_created","date_updated","friendly_name","sid","workspace_sid"];var v=class{constructor(t,e){if(!i.a.isObject(t))throw new TypeError("Failed to create an Activity. <Worker>worker is a required parameter.");if(!(e instanceof p))throw new TypeError("Failed to create an Activity. <ActivityDescriptor>descriptor is a required parameter.");Object.assign(this,e),this._worker=t,this._isCurrent=!1}get isCurrent(){return this._isCurrent}setAsCurrent(t={}){if(!_(t,{rejectPendingReservations:t=>i.a.isBoolean(t)}))throw new TypeError(`Failed to set activity=${this.sid}. The options passed in did not match the required types.`);if(t.rejectPendingReservations&&this.available)throw new Error("Unable to reject pending reservations when updating to an Available activity state.");return this._worker._updateWorkerActivity(this.sid,t).then(()=>this)}},w=r(8);class y{constructor(t,e,r={}){if(!i.a.isObject(t))throw new TypeError("Failed to initialize ActivitiesEntity. <Worker>worker is a required parameter.");this._activities=new Map,this._log=t.getLogger(`ActivitiesEntity-${t.sid}`),this._request=e,this._worker=t,this._pageSize=r.pageSize||h.DEFAULT_PAGE_SIZE,i.a.inRange(this._pageSize,1,h.DEFAULT_PAGE_SIZE+1)||(this._log.warn("PageSize range for ActivitiesEntity must be between 1 and %d. Setting pageSize to default size=%d",h.DEFAULT_PAGE_SIZE,h.DEFAULT_PAGE_SIZE),this._pageSize=1e3)}get activities(){return this._activities}fetchActivities(){const t=this._getPage();return this._getAllActivities(t)}_getAllActivities(t){return t.then(t=>(t.items.forEach(t=>{this._insertActivity(t)}),t.hasNextPage?this._getAllActivities(t.nextPage()):Promise.resolve()))}_getPage(t){t=t||{};const e=this._worker.getRoutes().getRoute(f.a).path,r={PageSize:this._pageSize};return t.AfterSid&&(r.AfterSid=t.AfterSid),this._request.get(e,h.API_V1,r).then(t=>new w.default(t.contents.map(t=>new p(t)),t=>this._getPage({AfterSid:t}),t.after_sid))}_insertActivity(t){const e=t.sid;this._log.trace(`_insertActivity(sid=${e}, data=${JSON.stringify(t)}`);try{const r=new v(this._worker,t);this._activities.set(e,r)}catch(t){this._log.error(`Unable to create an Activity for sid=${e}. Skipping insert into Activities map. Error: ${t}`)}}}class k{constructor(t){if(!i.a.isObject(t))throw new TypeError("Failed to instantiate WorkerChannelDescriptor. <Descriptor>descriptor is required.");if(!E.every(e=>e in t))throw new TypeError("Failed to create a WorkerChannelDescriptor. <Descriptor>descriptor does not contain all properties of a Channel.");this.accountSid=t.account_sid,this.assignedTasks=t.assigned_tasks,this.available=!!t.available,this.availableCapacityPercentage=t.available_capacity_percentage,this.capacity=t.configured_capacity,this.dateCreated=Object(d.parseTime)(1e3*t.date_created),this.dateUpdated=Object(d.parseTime)(1e3*t.date_updated),this.lastReservedTime=Object(d.parseTime)(t.last_reserved_time),this.sid=t.sid,this.taskChannelSid=t.task_channel_sid,this.taskChannelUniqueName=t.task_channel_unique_name,this.workerSid=t.worker_sid,this.workspaceSid=t.workspace_sid}}const m=["capacity","available","assignedTasks","availableCapacityPercentage","dateUpdated","lastReservedTime"];const E=["account_sid","assigned_tasks","available","available_capacity_percentage","configured_capacity","date_created","date_updated","last_reserved_time","sid","task_channel_sid","task_channel_unique_name","worker_sid","workspace_sid"];var S=class extends a.EventEmitter{constructor(t,e,r){if(super(),!(t instanceof H))throw new TypeError("Failed to instantiate Worker. <Worker>worker is a required parameter.");if(!(r instanceof k))throw new TypeError("Failed to instantiate Channel. <WorkerChannelDescriptor>descriptor is a required parameter.");this._request=e,this._log=t.getLogger(`Channel-${r.sid}`),Object.assign(this,r)}_emitEvent(t,e){if(!i.a.isString(t))throw new TypeError("Error calling _emitEvent(). <string>eventType is a required parameter.");if(!i.a.isObject(e))throw new TypeError("Error calling method _emitEvent(). <object>rawEventData is a required parameter.");this._update(e),this.emit(t,this)}_update(t){try{const e=new k(t);m.forEach(t=>{this[t]=e[t]})}catch(e){this._log.warn("Failed to update Channel sid=%s. Update aborted. Error: %s.",t.sid,e)}return this}};class b{constructor(t,e,r={}){if(!(t instanceof H))throw new TypeError("Failed to initialize ChannelsEntity. <Worker>worker is a required parameter.");this._channels=new Map,this._log=t.getLogger("ChannelsEntity"),this._request=e,this._pageSize=r.pageSize||h.DEFAULT_PAGE_SIZE,this._worker=t,i.a.inRange(this._pageSize,1,h.DEFAULT_PAGE_SIZE+1)||(this._log.warn("PageSize range for ChannelsEntity must be between 1 and %d. Setting pageSize to default size=%d",h.DEFAULT_PAGE_SIZE,h.DEFAULT_PAGE_SIZE),this._pageSize=1e3)}get channels(){return this._channels}fetchChannels(){const t=this._getPage();return this._getAllChannels(t)}_getAllChannels(t){return t.then(t=>(t.items.forEach(t=>{this._insertChannel(t)}),t.hasNextPage?this._getAllChannels(t.nextPage()):Promise.resolve()))}_getPage(t){t=t||{};const e=this._worker.getRoutes().getRoute(f.m).path,r={PageSize:this._pageSize};return t.AfterSid&&(r.AfterSid=t.AfterSid),this._request.get(e,h.API_V1,r).then(t=>new w.default(t.contents.map(t=>new k(t)),t=>this._getPage({AfterSid:t}),t.after_sid))}_insertChannel(t){const e=t.sid;this._log.trace(`_insertChannel(sid=${e}, data=${JSON.stringify(t)}`);try{const r=new S(this._worker,this._request,t);this._channels.set(e,r)}catch(t){this._log.error(`Unable to create a Channel for sid=${e}. Skipping insert into Channels map. Error: ${t}`)}}}class T{constructor(t){if(!i.a.isObject(t))throw new TypeError("Failed to instantiate TransferDescriptor. <Descriptor>descriptor is required.");if(!A.every(e=>e in t))throw new TypeError("Failed to instantiate TransferDescriptor. <Descriptor>descriptor does not contain all properties of a Transfer.");this.dateCreated=Object(d.parseTime)(1e3*t.date_created),this.dateUpdated=Object(d.parseTime)(1e3*t.date_updated),this.mode=t.transfer_mode,this.queueSid=t.initiating_queue_sid,this.reservationSid=t.initiating_reservation_sid,this.to=t.transfer_to,this.transferFailedReason=t.transfer_failed_reason,this.type=t.transfer_type,this.sid=t.sid,this.status=t.transfer_status,this.workerSid=t.initiating_worker_sid,this.workflowSid=t.initiating_workflow_sid}}const R=["dateUpdated","status","transferFailedReason"];const A=["date_created","date_updated","initiating_reservation_sid","initiating_worker_sid","initiating_queue_sid","initiating_workflow_sid","sid","transfer_mode","transfer_to","transfer_type","transfer_status"];var O=class extends a.EventEmitter{constructor(t,e){if(super(),!(e instanceof T))throw new TypeError("Failed to instantiate Transfer. <TransferDescriptor>descriptor is a required parameter.");this._log=t.getLogger(`Transfer-${e.sid}`),Object.assign(this,e)}_update(t){try{const e=new T(t);R.forEach(t=>{this[t]=e[t]})}catch(e){throw this._log.error(`Failed to update Transfer sid=${t.sid}. Update aborted.`,e),new Error(`Failed to update Transfer sid=${t.sid}. Update aborted. Error: ${e}.`)}return this}};var x=class extends O{constructor(t,e){super(t,e)}};var j=class extends O{constructor(t,e,r,n){if(super(t,n),"string"!=typeof r)throw new TypeError("Failed to instantiate OutgoingTransfer. <string>taskSid is a required parameter.");this._worker=t,this._request=e,this.taskSid=r}_emitEvent(t,e){if(this._log.trace(`_emitEvent(${t}, ${JSON.stringify(e)})`),!i.a.isString(t))throw new TypeError("Error calling _emitEvent(). <string>eventType is a required parameter.");if(!i.a.isObject(e))throw new TypeError("Error calling method _emitEvent(). <object>payload is a required parameter.");this.emit(t,this)}async cancel(){const t=this._worker.getRoutes().getRoute(f.k,this.sid).path,e={TaskSid:this.taskSid,TransferStatus:h.TRANSFER_STATUS.canceled},r=await this._request.post(t,e,h.API_V2);return this._update(r)}};var C=class extends a.EventEmitter{constructor(t,e,r){if(super(),!(r instanceof U))throw new TypeError("Failed to instantiate Transfers. <TaskDescriptor>taskDescriptor is a required parameter.");this._log=t.getLogger(`Transfers-${r.sid}`),this._worker=t,this._request=e,this.incoming=r.incomingTransferDescriptor?new x(t,r.incomingTransferDescriptor):null,this.outgoing=r.outgoingTransferDescriptor?new j(t,e,r.sid,r.outgoingTransferDescriptor):null}_emitEvent(t,e){if(this._log.trace(`_emitEvent(${t}, ${JSON.stringify(e)})`),!i.a.isString(t))throw new TypeError("Error calling _emitEvent(). <string>eventType is a required parameter.");if(!i.a.isObject(e))throw new TypeError("Error calling method _emitEvent(). <object>payload is a required parameter.");const r=h.taskTransferEventTypes[t];this.outgoing?this.outgoing.sid===e.sid?Object.keys(i.a.pick(h.taskTransferEventTypes,["transfer-attempt-failed","transfer-completed","transfer-failed","transfer-canceled"])).indexOf(t)>-1&&(this._updateOutgoing(e),this.outgoing._emitEvent(r,e)):this._log.warn("The transfer %s specified by Event: transfer.%s does not match the current active outgoing transfer for Worker %s. Skipping event.",e.sid,r,this._worker.sid):this._log.warn("An active outgoing transfer does currently exist in Worker %s transfers map for Event: transfer.%s. Skipping event.",this._worker.sid,r)}_updateOutgoing(t,e=!1){!this.outgoing||e?this.outgoing=new j(this._worker,this._request,t.task_sid,new T(t)):this.outgoing._update(t)}_update(t){if(t.incoming)if(this.incoming)this.incoming._update(t.incoming);else{const e=new T(t.incoming);this.incoming=new x(this._worker,this._request,t.incoming.task_sid,e)}if(t.outgoing)if(this.outgoing)this.outgoing._update(t.outgoing);else{const e=new T(t.outgoing);this.outgoing=new j(this._worker,this._request,t.outgoing.task_sid,e)}}};const I=["attributes","status","workflowSid","workflowName","queueSid","queueName","priority","reason","routingTarget","timeout","taskChannelSid","taskChannelUniqueName","age","addOns","dateUpdated","transfers"];const W=["addons","age","attributes","date_created","date_updated","priority","queue_name","queue_sid","reason","routing_target","sid","assignment_status","task_channel_unique_name","task_channel_sid","timeout","workflow_name","workflow_sid"];var N=class extends a.EventEmitter{constructor(t,e,r,n){if(super(),!(t instanceof H))throw new TypeError("Failed to instantiate Task. <Worker>worker is a required parameter.");if(!n)throw new TypeError("Failed to instantiate Task. <TaskDescriptor>descriptor is a required parameter.");if(!(n instanceof U))throw new TypeError("descriptor should be of type <TaskDescriptor>");if("string"!=typeof r)throw new TypeError("Failed to instantiate Task. <string>reservationSid is a required parameter.");this._worker=t,this._log=t.getLogger(`Task-${n.sid}`),this._request=e,this.transfers=new C(t,e,n),Object.assign(this,n),this.reservationSid=r}complete(t){if(!i.a.isString(t))throw new TypeError("Error calling method complete(). <string>reason is a required parameter.");const e=this._worker.getRoutes().getRoute(f.h,this.sid).path,r={AssignmentStatus:h.TASK_STATUS_COMPLETED,Reason:t};return this._request.post(e,r,h.API_V1).then(t=>this._update(t))}async transfer(t,e={}){if(!i.a.isString(t))throw new TypeError("Error calling method transfer(). <string>to is a required parameter.");const r=this._worker.getRoutes().getRoute(f.l).path,n={ReservationSid:this.reservationSid,TaskSid:this.sid,To:t};e.attributes&&(n.Attributes=e.attributes),e.mode&&(n.Mode=e.mode),e.priority&&(n.Priority=e.priority);const o=await this._request.post(r,n,h.API_V2);return this._log.info(`Completed transfer to Worker/TaskQueue=${t}`),this.transfers._updateOutgoing(o,!0),this}wrapUp(t={}){const e=this._worker.getRoutes().getRoute(f.h,this.sid).path,r={AssignmentStatus:h.TASK_STATUS_WRAPPING};if(t.reason){if(!i.a.isString(t.reason))throw new Error(`Failed to call wrapUp() on Task sid=${this.sid}. A <string>reason is required.`);r.Reason=t.reason}return this._request.post(e,r,h.API_V1).then(t=>this._update(t))}setAttributes(t){if(!i.a.isObject(t))throw new TypeError("Unable to set attributes on Task. <object>attributes is a required parameter.");const e=this._worker.getRoutes().getRoute(f.h,this.sid).path,r={Attributes:t};return this._request.post(e,r,h.API_V1).then(t=>this._update(t))}updateParticipant(t){const e={hold:t=>i.a.isBoolean(t),holdUrl:t=>i.a.isString(t),holdMethod:t=>i.a.isString(t)};if(!Object(d.validateOptions)(t,e))throw new TypeError(`Failed to update Participant tied to Task sid=${this.sid}. The options passed in did not match the required types.`);const r=this._worker.getRoutes().getRoute(f.b).path,n={TaskSid:this.sid};for(const e in t)n[i.a.upperFirst(e)]=t[e];return this._request.post(r,n,h.API_V2).then(t=>this._update(t))}kick(t){if(!i.a.isString(t))throw new TypeError("Error calling method kick(). <string>workerSid is a required parameter.");const e=this._worker.getRoutes().getRoute(f.d).path,r={TaskSid:this.sid,TargetWorkerSid:t};return this._request.post(e,r,h.API_V2).then(t=>this._update(t))}hold(t,e,r){const n={holdUrl:t=>i.a.isString(t),holdMethod:t=>i.a.isString(t)};if(!i.a.isString(t))throw new TypeError("Error calling method hold(). <string>targetWorkerSid is a required parameter.");if(!i.a.isBoolean(e))throw new TypeError("Error calling method hold(). <boolean>onHold is a required parameter that is either true or false.");if(!Object(d.validateOptions)(r,n))throw new TypeError(`Failed to update Participant tied to Task sid=${this.sid}. The options passed in did not match the required types.`);const o=this._worker.getRoutes().getRoute(f.c).path,s={TaskSid:this.sid,TargetWorkerSid:t,Hold:e};for(const t in r)s[i.a.upperFirst(t)]=r[t];return this._request.post(o,s,h.API_V2).then(t=>this._update(t))}_emitEvent(t,e){if(this._log.trace(`_emitEvent(${t}, ${JSON.stringify(e)})`),!i.a.isString(t))throw new TypeError("Error calling _emitEvent(). <string>eventType is a required parameter.");if(!i.a.isObject(e))throw new TypeError("Error calling method _emitEvent(). <object>payload is a required parameter.");this.emit(t,this,e)}async _emitEventForOutgoingTransfer(t,e){if(this._log.trace(`_emitEventForOutgoingTransfer(${t}, ${JSON.stringify(e)})`),!i.a.isString(t))throw new TypeError("Error calling _emitEventForOutgoingTransfer(). <string>eventType is a required parameter.");if(!i.a.isObject(e))throw new TypeError("Error calling method _emitEventForOutgoingTransfer(). <object>payload is a required parameter.");let r=0;for(;!this.transfers.outgoing&&r<10;)await new Promise(t=>setTimeout(t,500)),r++;this.transfers.outgoing&&this.transfers.outgoing.sid===e.sid?Object.keys(i.a.pick(h.taskTransferEventTypes,[h.TRANSFER_INITIATED])).indexOf(t)>-1?(this.transfers._updateOutgoing(e),this.emit(h.taskTransferEventTypes[h.TRANSFER_INITIATED],this.transfers.outgoing)):this.transfers._emitEvent(t,e):this._log.debug(`The transfers.outgoing object is either not present or does not match the transfer sid in the event. ${JSON.stringify(e)}`)}_update(t,e={}){try{const r=new U(t,this._config);I.forEach(t=>{"transfers"===t?(e.incoming||e.outgoing)&&this.transfers._update(e):this[t]=r[t]})}catch(e){throw this._log.error(`Failed to update Task sid=${t.sid}. Update aborted.`,e),new Error(`Failed to update Task sid=${t.sid}. Update aborted. Error: ${e}.`)}return this}};class U{constructor(t){if(!i.a.isObject(t))throw new TypeError("Failed to instantiate TaskDescriptor. <Descriptor>descriptor is required.");if(!W.every(e=>e in t))throw new TypeError("Failed to instantiate TaskDescriptor. <Descriptor>descriptor does not contain all properties of a Task.");this.addOns=JSON.parse(t.addons),this.age=t.age,this.attributes=JSON.parse(t.attributes),this.dateCreated=Object(d.parseTime)(1e3*t.date_created),this.dateUpdated=Object(d.parseTime)(1e3*t.date_updated),this.priority=t.priority,this.queueName=t.queue_name,this.queueSid=t.queue_sid,this.reason=t.reason,this.routingTarget=t.routing_target,this.sid=t.sid,this.status=t.assignment_status,this.taskChannelUniqueName=t.task_channel_unique_name,this.taskChannelSid=t.task_channel_sid,this.timeout=t.timeout,this.workflowName=t.workflow_name,this.workflowSid=t.workflow_sid,this.incomingTransferDescriptor=null,this.outgoingTransferDescriptor=null}}class P{constructor(t,e,r=[]){if(!i.a.isObject(t))throw new TypeError("Failed to instantiate ReservationDescriptor. <Descriptor>descriptor is required.");if(!i.a.isObject(e))throw new TypeError("Failed to instantiate ReservationDescriptor. <Worker>worker is required.");const n=i.a.filter(F,t=>-1===r.indexOf(t));if(!i.a.every(n,e=>e in t)){const e=i.a.difference(n,Object.keys(t)).join(", ");throw new TypeError(`Failed to instantiate ReservationDescriptor. <Descriptor>descriptor does not contain all properties of a Reservation. Missing: ${e}`)}this.accountSid=t.account_sid,this.dateCreated=Object(d.parseTime)(1e3*t.date_created),this.dateUpdated=Object(d.parseTime)(1e3*t.date_updated),this.sid=t.sid,this.status=t.reservation_status,this.timeout=t.reservation_timeout,this.workerSid=t.worker_sid,this.workspaceSid=t.workspace_sid,this.taskDescriptor=null,t.canceled_reason_code&&(this.canceledReasonCode=t.canceled_reason_code);const o=e.getLogger(`ReservationDescriptor-${this.sid}`);if(-1===r.indexOf("task"))try{this.taskDescriptor=new U(t.task)}catch(t){throw o.error("Failed to create a ReservationDescriptor. The 'task' property is malformed."),t}if(-1===r.indexOf(h.transferFields.taskTransfer)&&"object"==typeof t.task_transfer)try{this.taskDescriptor.incomingTransferDescriptor=new T(t.task_transfer),this.transferDescriptor=new T(t.task_transfer)}catch(t){throw o.error("Failed to create a ReservationDescriptor. The 'task_transfer' property is malformed."),t}if(-1===r.indexOf(h.transferFields.activeOutgoingTaskTransfer)&&"object"==typeof t.active_outgoing_task_transfer)try{this.taskDescriptor.outgoingTransferDescriptor=new T(t.active_outgoing_task_transfer)}catch(t){throw o.error("Failed to create a ReservationDescriptor. The 'active_outgoing_task_transfer' property is malformed."),t}}}const q=r(3).validateOptions,L=["dateUpdated","canceledReasonCode","status","timeout","task","task_transfer"],D=["reservation_timeout","task","canceled_reason_code"];const F=["account_sid","date_created","date_updated","reservation_status","sid","task","reservation_timeout","worker_sid","workspace_sid"];var z=class extends a.EventEmitter{constructor(t,e,r){if(super(),!(t instanceof H))throw new TypeError("Failed to instantiate Reservation. <Worker>worker is a required parameter.");if(!(r instanceof P))throw new TypeError("Failed to instantiate Reservation. <ReservationDescriptor>descriptor is a required parameter.");this._worker=t,this._log=t.getLogger(`Reservation-${r.sid}`),this._request=e,this.task=this._createTask(r),r.transferDescriptor&&(this.transfer=this._createTransfer(r)),Object.assign(this,r),delete this.taskDescriptor,delete this.transferDescriptor}accept(){const t=this._worker.getRoutes().getRoute(f.e,this.sid).path,e={ReservationStatus:h.RESERVATION_STATUS_ACCEPTED};return this._request.post(t,e,h.API_V1).then(t=>this._update(t,D))}complete(){const t=this._worker.getRoutes().getRoute(f.e,this.sid).path,e={ReservationStatus:h.RESERVATION_STATUS_COMPLETED};return this._request.post(t,e,h.API_V1).then(t=>this._update(t,D))}reject(t={}){const e=this._worker.getRoutes().getRoute(f.e,this.sid).path,r={ReservationStatus:h.RESERVATION_STATUS_REJECTED};if(!q(t,{activitySid:t=>i.a.isString(t)}))throw new TypeError(`Failed to issue Instruction:reject on Reservation sid=${this.sid}. The options passed in did not match the required types.`);for(const e in t)r[h.RESERVATION_REJECT_OPTIONS[e]]=t[e];return this._request.post(e,r,h.API_V1).then(t=>this._update(t,D))}wrap(){const t=this._worker.getRoutes().getRoute(f.e,this.sid).path,e={ReservationStatus:h.RESERVATION_STATUS_WRAPPING};return this._request.post(t,e,h.API_V1).then(t=>this._update(t,D))}call(t,e,r={}){if(!i.a.isString(t))throw new TypeError("Error calling method call(). <string>from is a required parameter.");if(!i.a.isString(e))throw new TypeError("Error calling method call(). <string>url is a required parameter.");const n=this._worker.getRoutes().getRoute(f.e,this.sid).path,o={Instruction:h.RESERVATION_INSTRUCTION_CALL,CallFrom:t,CallUrl:e};if(!q(r,{accept:t=>i.a.isBoolean(t),record:t=>i.a.isString(t),statusCallbackUrl:t=>i.a.isString(t),timeout:t=>i.a.isInteger(t),to:t=>i.a.isString(t)}))throw new TypeError(`Failed to issue Instruction:call on Reservation sid=${this.sid}. The options passed in did not match the required types.`);for(const t in r)o[h.RESERVATION_CALL_OPTIONS[t]]=r[t];return this._request.post(n,o,h.API_V1).then(t=>this._update(t,D))}dequeue(t={}){const e=this._worker.getRoutes().getRoute(f.e,this.sid).path,r={Instruction:h.RESERVATION_INSTRUCTION_DEQUEUE};if(!q(t,{from:t=>i.a.isString(t),to:t=>i.a.isString(t),postWorkActivitySid:t=>i.a.isString(t),record:t=>i.a.isString(t),timeout:t=>i.a.isInteger(t),statusCallbackUrl:t=>i.a.isString(t),statusCallbackEvents:t=>i.a.isString(t)}))throw new TypeError(`Failed to issue Instruction:dequeue on Reservation sid=${this.sid}. The options passed in did not match the required types.`);for(const e in t)r[h.RESERVATION_DEQUEUE_OPTIONS[e]]=t[e];return this._request.post(e,r,h.API_V1).then(t=>this._update(t,D))}redirect(t,e,r={}){if(!i.a.isString(t))throw new TypeError("Error calling method redirect(). <string>callSid is a required parameter.");if(!i.a.isString(e))throw new TypeError("Error calling method redirect(). <string>url is a required parameter.");const n=this._worker.getRoutes().getRoute(f.e,this.sid).path,o={accept:t=>i.a.isBoolean(t)},s={Instruction:h.RESERVATION_INSTRUCTION_REDIRECT,RedirectCallSid:t,RedirectUrl:e};if(!q(r,o))throw new TypeError(`Failed to issue Instruction:redirect on Reservation sid=${this.sid}. The options passed in did not match the required types.`);for(const t in r)s[h.RESERVATION_REDIRECT_OPTIONS[t]]=r[t];return this._request.post(n,s,h.API_V1).then(t=>this._update(t,D))}conference(t={}){if(!q(t,{to:t=>i.a.isString(t),from:t=>i.a.isString(t),timeout:t=>i.a.isInteger(t),statusCallback:t=>i.a.isString(t),statusCallbackMethod:t=>i.a.isString(t),statusCallbackEvent:t=>i.a.isString(t),record:t=>i.a.isString(t),muted:t=>i.a.isBoolean(t),beep:t=>i.a.isBoolean(t)||i.a.isString(t),startConferenceOnEnter:t=>i.a.isBoolean(t),endConferenceOnExit:t=>i.a.isBoolean(t),endConferenceOnCustomerExit:t=>i.a.isBoolean(t),waitUrl:t=>i.a.isString(t),waitMethod:t=>i.a.isString(t),earlyMedia:t=>i.a.isBoolean(t),maxParticipants:t=>i.a.isInteger(t),conferenceStatusCallback:t=>i.a.isString(t),conferenceStatusCallbackMethod:t=>i.a.isString(t),conferenceStatusCallbackEvent:t=>i.a.isString(t),conferenceRecord:t=>i.a.isBoolean(t)||i.a.isString(t),conferenceTrim:t=>i.a.isString(t),recordingChannels:t=>i.a.isString(t),recordingStatusCallback:t=>i.a.isString(t),recordingStatusCallbackMethod:t=>i.a.isString(t),conferenceRecordingStatusCallback:t=>i.a.isString(t),conferenceRecordingStatusCallbackMethod:t=>i.a.isString(t),region:t=>i.a.isString(t),sipAuthUsername:t=>i.a.isString(t),sipAuthPassword:t=>i.a.isString(t)}))throw new TypeError(`Failed to issue Instruction:conference on Reservation sid=${this.sid}. The options passed in did not match the required types.`);const e=this._worker.getRoutes().getRoute(f.e,this.sid).path,r={Instruction:h.RESERVATION_INSTRUCTION_CONFERENCE};for(const e in t)r[i.a.upperFirst(e)]=t[e];return this._request.post(e,r,h.API_V1).then(()=>this)}updateParticipant(t){if(!q(t,{endConferenceOnExit:t=>i.a.isBoolean(t),mute:t=>i.a.isBoolean(t),beepOnExit:t=>i.a.isBoolean(t)}))throw new TypeError(`Failed to update Worker Participant tied to Reservation sid=${this.sid}. The options passed in did not match the required types.`);const e=this._worker.getRoutes().getRoute(f.p).path,r={ReservationSid:this.sid};for(const e in t)r[i.a.upperFirst(e)]=t[e];return this._request.post(e,r,h.API_V2).then(()=>this)}_createTask(t){if(!(t instanceof P))return this._log.error(`Error calling method _createTask() for Reservation                              sid=${this.sid}. <ReservationDescriptor>reservationDescriptor                              is a required parameter.`),{};const e=t.taskDescriptor;try{return new N(this._worker,this._request,t.sid,e)}catch(t){return this._log.error(`Failed to create a Task for Reservation sid=${this.sid}. Error: ${t}`),{}}}_createTransfer(t){if(!(t instanceof P))return this._log.error(`Error calling method _createTransfer() for Reservation                              sid=${this.sid}. <ReservationDescriptor>reservationDescriptor                              is a required parameter.`),{};const e=t.transferDescriptor;try{return new x(this._worker,e)}catch(t){return this._log.error(`Failed to create a Transfer for Reservation sid=${this.sid}. Error: ${t}`),{}}}_update(t,e=[]){try{const r=new P(t,this._worker,e);L.forEach(n=>{if("task"===n){if(-1===e.indexOf("task")){const e=t.task_transfer,r=t.active_outgoing_task_transfer;this.task._update(t.task,{incoming:e,outgoing:r})}}else"canceledReasonCode"===n?-1===e.indexOf("canceled_reason_code")&&t.canceled_reason_code&&(this[n]=r[n]):"task_transfer"===n&&t.task_transfer?this.transfer._update(t.task_transfer):this[n]=r[n]})}catch(e){throw this._log.error(`Failed to update Reservation sid=${t.sid}. Update aborted. Error: ${e}.`),e}return this}_emitEvent(t,e){if(!i.a.isString(t))throw new TypeError("Error calling _emitEvent(). <string>eventType is a required parameter.");if(!i.a.isObject(e))throw new TypeError("Error calling method _emitEvent(). <object>rawEventData is a required parameter.");this._update(e),this.emit(t,this)}};class $ extends a.EventEmitter{constructor(t,e,r={}){if(super(),!(t instanceof H))throw new TypeError("Failed to initialize ReservationsEntity. <Worker>worker is a required parameter.");this._worker=t,this._log=t.getLogger("ReservationsEntity"),this._request=e,this._reservations=new Map,this._reservationSidsByTask=new Map,this._pageSize=r.pageSize||h.DEFAULT_PAGE_SIZE,i.a.inRange(this._pageSize,1,h.DEFAULT_PAGE_SIZE+1)||(this._log.warn("PageSize range for ReservationsEntity must be between 1 and %d. Setting pageSize to default size=%d",h.DEFAULT_PAGE_SIZE,h.DEFAULT_PAGE_SIZE),this._pageSize=1e3)}get reservations(){return new Map(Array.from(this._reservations).filter(t=>!t[1][1]).map(t=>[t[0],t[1][0]]))}fetchReservations(){const t=this._getPage();return this._reservations.clear(),this._getAllReservations(t)}_getAllReservations(t){return t.then(t=>{t.items.forEach(t=>{this._insertReservation(t)}),t.hasNextPage&&this._getAllReservations(t.nextPage())})}_getPage(t){t=t||{};const e=this._worker.getRoutes().getRoute(f.f).path,r={Active:"true",PageSize:this._pageSize};return t.AfterSid&&(r.AfterSid=t.AfterSid),this._request.get(e,h.API_V2,r).then(t=>new w.default(t.contents.map(t=>new P(t,this._worker)),t=>this._getPage({AfterSid:t}),t.after_sid))}_insertReservation(t){const e=t.sid;this._log.trace("_insertReservation(sid=%s, data=%s)",e,JSON.stringify(t)),this._reservations.has(e)&&this._log.debug("Reservation %s already exists for Worker %s. Attempting to overwrite it.",e,this._worker.sid);try{const r=new z(this._worker,this._request,t);return this._reservations.set(e,[r,!1]),this._reservationSidsByTask.has(r.task.sid)?this._reservationSidsByTask.get(r.task.sid).add(r.sid):this._reservationSidsByTask.set(r.task.sid,new Set([r.sid])),this._log.debug("Successfully created and inserted %s for %s to Task-Reservation lookup. Contents: %s",r.sid,r.task.sid,this._reservationSidsByTask.get(r.task.sid)),r}catch(t){throw this._log.error("Unable to create a Reservation for sid=%s. Skipping insert into Reservations map. Error: %s",e,t),t}}insert(t){this._log.trace("_insertReservation(sid=%s, data=%s)",t.sid,JSON.stringify(t));const e=new P(t,this._worker);return this._insertReservation(e)}getTasks(t){if(!this._reservationSidsByTask.has(t))return null;const e=[];return this._reservationSidsByTask.get(t).forEach(t=>{const r=this._reservations.get(t);r&&r[0].task&&e.push(r[0].task)}),e}_deleteByReservationSid(t){this._log.trace("_deleteByReservationSid(sid=%s)",t);const e=this.reservations.get(t);e?(this._log.info("Found Reservation sid=%s for Worker %s. Removing reservation and task.",t,this._worker.sid),this._cleanUpReservationAndTask(e)):this._log.info("Reservation with sid=%s not found. Unable to remove Reservation.",t)}_cleanUpReservationAndTask(t){this._log.debug("Soft deleting Reservation sid=%s for Worker %s",t.sid,this._worker.sid),this._reservations.set(t.sid,[t,!0]),setTimeout(()=>{this._log.debug("Hard deleting of Reservation sid=%s for Worker %s",t.sid,this._worker.sid),this._reservations.delete(t.sid)||this._log.warn("Failed to hard delete Reservation sid=%s for Worker %s",t.sid,this._worker.sid)},5e3)}}var B=r(12);r.d(e,"a",function(){return M});const V=["dateUpdated","dateStatusChanged","attributes","name","available"];const M=["account_sid","activity_name","activity_sid","attributes","available","date_created","date_status_changed","date_updated","friendly_name","sid","workspace_sid"];var H=e.b=class extends a.EventEmitter{constructor(t,e={},r={Request:c.a,EventBridgeSignaling:s.a}){if(super(),!i.a.isString(t))throw new TypeError("Failed to instantiate Worker. <string>token is a required parameter.");const n={connectActivitySid:t=>i.a.isString(t),closeExistingSessions:t=>i.a.isBoolean(t),logLevel:t=>i.a.isString(t),ebServer:t=>i.a.isString(t),wsServer:t=>i.a.isString(t),region:t=>i.a.isString(t)};let a;Object(d.validateOptions)(e,n),this._connectActivitySid=e.connectActivitySid,this._closeExistingSessions=e.closeExistingSessions,this._logLevel=e.logLevel||"error",this._config=new o.a(t,e),this._log=new u.a(`Worker-${this._config.getLogIdentifier()}`,this._logLevel),this._request=new r.Request(this._config),this._dataServices={activitiesEntity:new y(this,this._request),channelsEntity:new b(this,this._request),reservationsEntity:new $(this,this._request)},this._signaling=new r.EventBridgeSignaling(this,{closeExistingSessions:e.closeExistingSessions}),this._subscribeToSignalingEvents(),a=e.eventHandlerClass?new e.eventHandlerClass(this):new B.a(this),this.taskRouterEventHandler=a}createTask(t,e,r,n,o={}){if(!i.a.isString(t))throw new TypeError("Error calling method createTask(). <string>to is a required parameter.");if(!i.a.isString(e))throw new TypeError("Error calling method createTask(). <string>from is a required parameter.");if(!i.a.isString(r))throw new TypeError("Error calling method createTask(). <string>workflowSid is a required parameter.");if(!i.a.isString(n))throw new TypeError("Error calling method createTask(). <string>taskQueueSid is a required parameter.");const s={attributes:t=>i.a.isObject(t),taskChannelUniqueName:t=>i.a.isString(t),taskChannelSid:t=>i.a.isString(t)};if(!Object(d.validateOptions)(o,s))throw new TypeError(`Failed to create a Task for Worker ${this.sid}. The options passed in did not match the required types.`);const a=this.getRoutes().getRoute(f.i).path,u={WorkflowSid:r,TaskQueueSid:n,RoutingTarget:this.sid};for(const t in o)"attributes"===t||(u[h.CREATE_TASK_OPTIONS[t]]=o[t]);const c={outbound_to:t,from:e};return u.Attributes=Object.assign({},o.attributes,c),this._request.post(a,u,h.API_V1).then(t=>t.sid)}getLogger(t){return new u.a(`${t}-${this.sid}`,this._config._logLevel)}setAttributes(t){if(!i.a.isObject(t))throw new TypeError("Unable to set attributes on Worker. <object>attributes is a required parameter.");const e=this.getRoutes().getRoute(f.n).path,r={Attributes:t};return this._request.post(e,r,h.API_V1).then(t=>this._update(t))}updateToken(t){if(!i.a.isString(t))throw new TypeError("To update the Twilio token, a new Twilio token must be passed in. <string>newToken is a required parameter.");this._log.info("Proceeding to update the Worker's current active token with a new token."),this._log.debug("New token: "+t);try{this._config.updateToken(t),this._signaling.updateToken(t),this.emit("tokenUpdated")}catch(t){this.emit("error",t)}}_subscribeToSignalingEvents(){this._log.info("Subscribing to Signaling events .... "),this._signaling.on("connected",()=>{this._log.info("Received Event: 'connected' from Signaling layer. Pending initialization.",this.sid)}),this._signaling.on("disconnected",t=>{this._log.info("Received Event: 'disconnected' from Signaling layer for Worker %s. %s",this.sid,t),this._unSubscribeFromTaskRouterEvents(),this.emit("disconnected",t)}),this._signaling.on("init",t=>{this._log.info("Received Event: 'init' from Signaling layer. Proceeding to initialize Worker %s.",t.channel_id),this.sid=t.channel_id,this.accountSid=t.account_sid,this.workspaceSid=t.workspace_sid,this._signaling.setLifetime(t.token_lifetime),this._initialize()}),this._signaling.on("error",t=>{this._log.info("Received Event: 'error' from Signaling layer for Worker %s.",this.sid),this.emit("error",t)}),this._signaling.on("tokenExpired",()=>{this._log.info("Received Event: 'tokenExpired' for for Worker %s. Please update the token. Websocket will not reconnect automatically until token is updated.",this.sid),this.emit("tokenExpired")})}_subscribeToTaskRouterEvents(){this._log.info("Subscribing to TaskRouter events ... ");for(let[t,e]of Object.entries(this.taskRouterEventHandler.getTREventsToHandlerMapping()))this._signaling.on(t,this.taskRouterEventHandler[e])}_unSubscribeFromTaskRouterEvents(){this._log.info("Unsubscribing from TaskRouter events ... ");for(let[t,e]of Object.entries(this.taskRouterEventHandler.getTREventsToHandlerMapping()))this._signaling.removeListener(t,this.taskRouterEventHandler[e])}_initialize(){this._routes=new f.q(this.workspaceSid,this.sid),this._log.info("Initializing Worker %s...",this.sid);const t=this.getRoutes().getRoute(f.n).path;let e;this._request.get(t,h.API_V1).then(t=>{const r=new l.a(t,this._config);return e=r.activitySid,delete r.activityName,delete r.activitySid,delete r.available,Object.assign(this,r),Promise.all([this._dataServices.activitiesEntity.fetchActivities(),this._dataServices.channelsEntity.fetchChannels(),this._dataServices.reservationsEntity.fetchReservations()])}).then(()=>{this._log.info("Worker %s activities, channels and pending reservations initialized",this.sid),this._setCurrentActivity(e),this._connectActivitySid?this._setWorkerConnectActivity().then(()=>{this._log.info("Successfully updated Worker on connect to Activity=%s",this._connectActivitySid),this._log.info("Worker %s successfully initialized",this.sid)}):this._log.info("Worker %s successfully initialized",this.sid),this._subscribeToTaskRouterEvents(),this.emit("ready",this)}).catch(t=>{this._log.error("Failed to initialize Worker %s. Error: %s",this.sid,t),this.emit("error",`Failed to initialize Worker ${this.sid}`)})}get channels(){return this._dataServices.channelsEntity.channels}get activities(){return this._dataServices.activitiesEntity.activities}get reservations(){return this._dataServices.reservationsEntity.reservations}_setCurrentActivity(t){const e=this.activities.get(t);if(!e)throw new Error(`Unable to set the current Activity sid=${t} on the Worker.`);e._isCurrent=!0,this.activity=e,this.activity._isCurrent=!0}_setWorkerConnectActivity(){if(!i.a.isString(this._connectActivitySid))throw new TypeError("Failed to set the Worker's activity to the provided optional connectActivitySid. <string>connectActivitySid must be a string.");return this._updateWorkerActivity(this._connectActivitySid).then(()=>(this._log.info("Successfully set the Worker's activity to the provided connectActivitySid=%s on connection.",this._connectActivitySid),this._connectRetry=0,this)).catch(t=>{if(this._connectRetry>=3)throw this._log.error("Unable to set Worker %s activity to the provided %s on successful connection. %s",this.sid,this._connectActivitySid,t),t;return this._connectRetry=this._connectRetry>0?this._connectRetry+1:1,new Promise(t=>setTimeout(t,500)).then(this._setWorkerConnectActivity.bind(this))})}_updateWorkerActivity(t,e={}){if(!i.a.isString(t))throw new TypeError("Error updating Worker Activity: <string>activitySid is a required parameter");const r=this.getRoutes().getRoute(f.n).path,n={ActivitySid:t};for(const t in e)n[h.WORKER_UPDATE_OPTIONS[t]]=e[t];return this._request.post(r,n,h.API_V1).then(e=>{try{this._update(e),this.activity._isCurrent=!1;const r=this.activities.get(e.activity_sid);this.activity=r,this.activity._isCurrent=!0}catch(e){throw this._log.error("Failed to update the Worker's activity to sid=%s. Error: %s",t,e),e}return this})}_update(t){this._log.trace("Attempting to update Worker %s with latest Worker data=%s",this.sid,JSON.stringify(t));try{const e=new l.a(t,this._config);V.forEach(t=>{this[t]=e[t]})}catch(e){this._log.error("Failed to update Worker sid=%s. Update aborted. Error: %s.",t.sid,e)}return this}disconnect(){this._signaling.disconnect()}getRoutes(){return this._routes}}},function(t,e,r){"use strict";r.r(e),r.d(e,"default",function(){return i});const n=r(1).twilioErrors;class i{constructor(t,e,r){if(!t)throw n.INVALID_ARGUMENT.clone("Error instantiating Paginator. <Array>items is a required parameter.");if(!e)throw n.INVALID_ARGUMENT.clone("Error instantiating Paginator. <Function>source is a required parameter.");this._nextToken=r,this._source=e,this.hasNextPage=!!this._nextToken,this.items=t}nextPage(){return this.hasNextPage?this._source(this._nextToken):Promise.reject(n.TASKROUTER_ERROR.clone("Error getting the next page. No next page exists."))}}},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r(0),i=r.n(n),o=r(3),s=r(7);class a{constructor(t,e){if(!i.a.isObject(t))throw new TypeError("Failed to create a WorkerDescriptor. <Descriptor>descriptor is a required parameter.");if(!i.a.isObject(e))throw new TypeError("Failed to create a WorkerDescriptor. <Configuration>config is a required parameter.");if(!s.a.every(e=>e in t))throw new TypeError("Failed to create a WorkerDescriptor. The provided <Descriptor>descriptor does not contain all properties of a Worker.");this.accountSid=t.account_sid,this.activityName=t.activity_name,this.activitySid=t.activity_sid,this.attributes=JSON.parse(t.attributes),this.available=t.available,this.dateCreated=Object(o.parseTime)(1e3*t.date_created),this.dateStatusChanged=Object(o.parseTime)(1e3*t.date_status_changed),this.dateUpdated=Object(o.parseTime)(1e3*t.date_updated),this.name=t.friendly_name,this.sid=t.sid,this.workspaceSid=t.workspace_sid}}},function(t,e,r){"use strict";r.d(e,"a",function(){return s});const n=r(1).twilioErrors,i=r(46),o=["trace","debug","info","warn","error","silent"];class s{constructor(t,e){if(!t)throw n.INVALID_ARGUMENT.clone("Error instantiating Logger. <string>moduleName is a required parameter.");this._log=i.getLogger(t),o.forEach(function(t){this[t]=((...e)=>this._log[t](...e))}.bind(this)),e&&this.setLevel(e)}setLevel(t){if(-1===o.indexOf(t))throw n.INVALID_ARGUMENT.clone("Error setting Logger level. <string>level must be one of ['trace', 'debug', 'info', 'warn', 'error', 'silent']");this._log.setLevel(t,!1),this._log.setDefaultLevel(t)}getLevel(){return o[this._log.getLevel()]}}},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r(10),i=r(0),o=r.n(i);class s{constructor(t,e={}){if(!o.a.isString(t))throw new TypeError("Failed to initialize Configuration. <string>token is a required parameter.");if(this.logIdentifier=e.logIdentifier||+new Date,this._logLevel=e.logLevel||"error",this._log=new n.a(`Configuration-${this.logIdentifier}`,this._logLevel),this.token=t,this.EB_SERVER=e.ebServer||"https://event-bridge.twilio.com/v1/wschannels",this.WS_SERVER=e.wsServer||"wss://event-bridge.twilio.com/v1/wschannels",e.region){const t=e.region+".us1.",r=this.EB_SERVER.indexOf("twilio.com"),n=this.WS_SERVER.indexOf("twilio.com");this.EB_SERVER=this.EB_SERVER.slice(0,r)+t+this.EB_SERVER.slice(r),this.WS_SERVER=this.WS_SERVER.slice(0,n)+t+this.WS_SERVER.slice(n)}}updateToken(t){if(!o.a.isString(t))throw new TypeError("To update the Twilio token, a new Twilio token must be passed in. <string>newToken is a required parameter.");this.token=t}getLogIdentifier(){return this.logIdentifier}}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(10),i=r(1);class o{constructor(t,e={}){this._worker=t,this._logLevel=e.logLevel||"error",this._log=new n.a("WorkerEventHandler",this._logLevel)}getTREventsToHandlerMapping(){return{"worker.activity.update":"_workerActivityUpdateHandler","worker.attributes.update":"_workerAttributesUpdateHandler","worker.capacity.update":"_workerCapacityUpdateHandler","worker.channel.availability.update":"_workerChannelAvailabilityUpdateHandler","reservation.created":"_reservationCreatedHandler","reservation.failed":"_reservationFailedHandler","reservation.accepted":"_reservationUpdateHandler","reservation.wrapup":"_reservationUpdateHandler","reservation.completed":"_reservationCleanupEventsHandler","reservation.rejected":"_reservationCleanupEventsHandler","reservation.timeout":"_reservationCleanupEventsHandler","reservation.canceled":"_reservationCleanupEventsHandler","reservation.rescinded":"_reservationCleanupEventsHandler","task.updated":"_taskTypeEventHandler","task.canceled":"_taskTypeEventHandler","task.completed":"_taskTypeEventHandler","task.wrapup":"_taskTypeEventHandler","task.transfer-attempt-failed":"_transferTaskEventHandler","task.transfer-completed":"_transferTaskEventHandler","task.transfer-failed":"_transferTaskEventHandler","task.transfer-initiated":"_transferTaskEventHandler","task.transfer-canceled":"_transferTaskEventHandler"}}_workerActivityUpdateHandler(t){if(this._log.info("Worker %s received Event: worker.activity.update. Proceeding to update ...",this._worker.sid),!t.activity_sid)throw this._log.error("Event: worker.activity.update did not contain an activity_sid. Unable to update Worker %s.",this._worker.sid),new Error(`Failed to update Worker ${this._worker.sid} activity.`);{const e=this._worker.activities.get(t.activity_sid);if(!e)throw this._log.error("The Activity sid=%s specified in Event: worker.activity.update does not exist in the Worker's map of Activities. Unable to update Worker %s activity.",t.activity_sid,this._worker.sid),new Error(`Failed to update Worker ${this._worker.sid} activity.`);this._worker.activity._isCurrent=!1,this._worker.activity=e,e._isCurrent=!0,this._worker.emit("activityUpdated",this._worker._update(t))}}_workerAttributesUpdateHandler(t){this._log.info(`Worker ${this._worker.sid} received Event: worker.attributes.update. Proceeding to update ...`),this._worker.emit("attributesUpdated",this._worker._update(t))}_workerCapacityUpdateHandler(t){if(this._log.info(`Worker ${this._worker.sid} received Event: worker.capacity.update.`),!t.sid)throw this._log.error("Event: worker.capacity.update did not contain a Channel sid. Unable to update Channel for Worker %s.",this._worker.sid),new Error(`Failed to update Worker ${this._worker.sid} channel.`);{const e=this._worker.channels.get(t.sid);if(!e)throw this._log.error("The Channel sid=%s specified in Event: worker.capacity.update does not  exist in the Worker's map of Channels. Unable to update Worker %s channel.",t.sid,this._worker.sid),new Error(`Failed to update Worker ${this._worker.sid} channel.`);e._emitEvent("capacityUpdated",t)}}_workerChannelAvailabilityUpdateHandler(t){if(this._log.info("Worker %s received Event: worker.channel.availability.update.",this._worker.sid),!t.sid)throw this._log.error("Event: worker.capacity.update did not contain a Channel sid. Unable to update Channel for Worker %s.",this._worker.sid),new Error(`Failed to update Worker ${this._worker.sid} channel.`);{const e=this._worker.channels.get(t.sid);if(!e)throw this._log.error("The Channel sid=%s specified in Event: worker.channel.availability.update does not  exist in the Worker's map of Channels. Unable to update Worker %s channel.",t.sid,this._worker.sid),new Error(`Failed to update Worker ${this._worker.sid} channel.`);e._emitEvent("availabilityUpdated",t)}}_reservationCreatedHandler(t){if(this._log.info("Worker %s received Event: reservation.created.",this._worker.sid),!t.sid)throw this._log.error("Event: reservationCreated did not contain a Reservation sid. Unable to create a Reservation for Worker %s.",this._worker.sid),new Error(`Failed to create Reservation for Worker ${this._worker.sid}.`);try{this._log.info("Attempting to create and insert Reservation into Worker %s reservations map.",this._worker.sid);const e=this._worker._dataServices.reservationsEntity.insert(t);this._worker.emit("reservationCreated",e)}catch(t){throw this._log.info("Failed to create and insert Reservation into Worker %s reservations map.",this._worker.sid),new Error(`Failed to create a Reservation for Worker ${this._worker.sid} on Event: reservationCreated. Error: ${t}`)}}_reservationFailedHandler(t){this._log.info("Worker %s received Event: reservation.failed.",this._worker.sid),this._worker.emit("reservationFailed",t)}_reservationUpdateHandler(t,e){const r=i.reservationToSDKEventsMapping[e];if(this._log.info("Worker %s received Event: %s mapped to %s.",this._worker.sid,e,r),!t.sid)throw this._log.error(`Event: reservation.${r} did not contain a Reservation sid. Unable to update Reservation for Worker ${this._worker.sid}`),new Error(`Failed to update Reservation for Worker ${this._worker.sid}.`);{const e=this._worker.reservations.get(t.sid);if(!e)throw this._log.error(`The Resevation sid=${t.sid} specified in Event: reservation.${r} does not                                         exist in the Worker's map of Reservations. Unable to update Worker ${this._worker.sid} reservation.`),new Error(`Failed to update Worker ${this._worker.sid} reservation.`);e._emitEvent(r,t)}}_reservationCleanupEventsHandler(t,e){const r=i.reservationToSDKEventsMapping[e];if(this._log.info("Worker %s received Event: %s mapped to %s.",this._worker.sid,e,r),!t.sid)throw this._log.error("Event: reservation.%s did not contain a Reservation sid. Unable to update Reservation for Worker %s.",r,this._worker.sid),new Error(`Failed to update Reservation for Worker ${this._worker.sid}.`);{const e=this._worker.reservations.get(t.sid);e?(this._worker._dataServices.reservationsEntity._deleteByReservationSid(t.sid),e._emitEvent(r,t)):this._log.warn("The reservation specified by Event: reservation.%s does not exist in Worker %s Reservations map. Skipping event.",r,this._worker.sid)}}_taskTypeEventHandler(t,e){const r=i.taskEventTypes[e];if(this._log.info("Worker %s received Event: %s mapped to %s.",this._worker.sid,e,r),!t.sid)throw this._log.error("Event: task.%s did not contain a Task sid. Unable to emit event for Worker %s.",r,this._worker.sid),new Error(`Failed to emit event for Worker ${this._worker.sid}.`);{const e=this._worker._dataServices.reservationsEntity.getTasks(t.sid);e&&e.length>0?e.forEach(e=>{e._update(t),e._emitEvent(r,t)}):this._log.warn("The task specified by Event: task.%s does not exist in Worker %s Reservations map. Skipping event.",r,this._worker.sid)}}_transferTaskEventHandler(t,e){const r=i.taskTransferEventEmitterMapping[e];if(this._log.info("Worker %s received Event: % mapped to %s.",this._worker.sid,e,r),!t.initiating_reservation_sid||!t.task_sid)throw this._log.error("Event: task.%s did not contain a Reservation sid or Task sid. Unable to emit event for Worker %s.",r,this._worker.sid),new Error(`Failed to emit event for Worker ${this._worker.sid}.`);{const e=this._worker.reservations.get(t.initiating_reservation_sid);e?e.task.sid===t.task_sid?e.task._emitEventForOutgoingTransfer(r,t):this._log.warn("The task %s related to Event: task.%s does not match the expected owning Reservation %s for Worker %s. Skipping event.",t.task_sid,r,e.sid,this._worker.sid):this._log.warn("The reservation %s related to Event: task.%s does not exist in Worker %s Reservations map. Skipping event.",t.initiating_reservation_sid,r,this._worker.sid)}}}},function(t,e,r){"use strict";r.d(e,"a",function(){return l});var n=r(0),i=r.n(n),o=r(24),s=r(11),a=r(1),u=r(14);const c={GET:"GET",POST:"POST"};Object.freeze(c);const f=u.a;class l{constructor(t){if(!(t instanceof s.a))throw new TypeError("Failed to initialize Request. <Configuration>config is a required parameter.");this._config=t,this._postClient=o.create({method:c.POST,timeout:a.DEFAULT_HTTP_TIMEOUT,headers:{clientVersion:f}})}post(t,e,r){if(!t)throw new Error("Failed to make POST request. <string>url is a required parameter.");if(!i.a.isObject(e))throw new Error("Failed to make POST request. <object>paramsJSON is a required parameter.");if(!r)throw new Error("Failed to make POST request. <string>apiVersion is a required parameter.");const n=this.buildRequest(c.POST,t,e);return this._postClient.post(this._config.EB_SERVER,n,{headers:{apiVersion:r}}).then(t=>Promise.resolve(t.data.payload))}get(t,e,r){if(!t)throw new Error("Failed to make GET request. <string>url is a required parameter.");if(!e)throw new Error("Failed to make GET request. <string>apiVersion is a required parameter.");if(r=r||{},!i.a.isObject(r))throw new Error("Failed to make GET request. <object>paramsJSON is a required parameter.");const n=this.buildRequest(c.GET,t,r);return this._postClient.post(this._config.EB_SERVER,n,{headers:{apiVersion:e}}).then(t=>Promise.resolve(t.data.payload))}buildRequest(t,e,r){return JSON.stringify({url:e,method:t,params:r,token:this._config.token})}}},function(t){t.exports={a:"0.5.9"}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){"use strict";var n=r(6);t.exports=function(t,e){e=e||{};var r={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function u(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function c(i){n.isUndefined(e[i])?n.isUndefined(t[i])||(r[i]=u(void 0,t[i])):r[i]=u(t[i],e[i])}n.forEach(i,function(t){n.isUndefined(e[t])||(r[t]=u(void 0,e[t]))}),n.forEach(o,c),n.forEach(s,function(i){n.isUndefined(e[i])?n.isUndefined(t[i])||(r[i]=u(void 0,t[i])):r[i]=u(void 0,e[i])}),n.forEach(a,function(n){n in e?r[n]=u(t[n],e[n]):n in t&&(r[n]=u(void 0,t[n]))});var f=i.concat(o).concat(s).concat(a),l=Object.keys(t).concat(Object.keys(e)).filter(function(t){return-1===f.indexOf(t)});return n.forEach(l,c),r}},function(t,e,r){"use strict";var n=r(37);t.exports=function(t,e,r,i,o){var s=new Error(t);return n(s,e,r,i,o)}},function(t,e,r){"use strict";var n=r(6),i=r(38),o=r(36),s=r(22),a=r(35),u=r(32),c=r(31),f=r(18);t.exports=function(t){return new Promise(function(e,r){var l=t.data,h=t.headers;n.isFormData(l)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";h.Authorization="Basic "+btoa(p+":"+_)}var g=a(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),s(g,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,o={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:t,request:d};i(e,r,o),d=null}},d.onabort=function(){d&&(r(f("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){r(f("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(f(e,t,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var v=(t.withCredentials||c(g))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;v&&(h[t.xsrfHeaderName]=v)}if("setRequestHeader"in d&&n.forEach(h,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)}),n.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),r(t),d=null)}),l||(l=null),d.send(l)})}},function(t,e,r){"use strict";var n=r(6),i=r(39),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=r(19):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(a=r(19)),a),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(t){u.headers[t]={}}),n.forEach(["post","put","patch"],function(t){u.headers[t]=n.merge(o)}),t.exports=u},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";var n=r(6);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var s=[];n.forEach(e,function(t,e){null!==t&&void 0!==t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))}))}),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){t.exports=r(44)},function(t,e){function r(t){if(!(this instanceof r))return new r(t);t=t||{};const e=function(){},n={interval:10,now:function(){return(new Date).getTime()},repeat:function(t,e){return setInterval(t,e)},stop:function(t,e){return clearInterval(t,e)},onsleep:e,onwakeup:e};for(let e in n)e in t||(t[e]=n[e]);this.interval=t.interval,this.lastbeat=0,this.pintvl=null,this.onsleep=t.onsleep,this.onwakeup=t.onwakeup,this.repeat=t.repeat,this.stop=t.stop,this.now=t.now}r.toString=function(){return"[Twilio.Heartbeat class]"},r.prototype.toString=function(){return"[Twilio.Heartbeat instance]"},r.prototype.beat=function(){if(this.lastbeat=this.now(),this.sleeping()){this.onwakeup&&this.onwakeup();var t=this;this.pintvl=this.repeat.call(null,function(){t.check()},1e3*this.interval)}},r.prototype.check=function(){const t=this.now()-this.lastbeat;!this.sleeping()&&t>=1e3*this.interval&&(this.onsleep&&this.onsleep(),this.stop.call(null,this.pintvl),this.pintvl=null)},r.prototype.sleeping=function(){return null===this.pintvl},e.Heartbeat=r},function(t,e,r){"use strict";(function(t){r.d(e,"a",function(){return p});var n=r(0),i=r.n(n),o=r(1),s=r(5),a=r(25),u=r(7),c=r(14);const f=t.window||t,l=f.WebSocket?f.WebSocket:r(45),h=5e3,d=c.a;class p extends s.EventEmitter{constructor(t,e={}){if(super(),!(t&&t instanceof u.b))throw o.twilioErrors.INVALID_ARGUMENT.clone("<Worker>worker is a required parameter to construct EventBridgeSignaling.");const r=t.getLogger(`EventBridgeSignaling-${t.sid}`);if(!i.a.isNil(e.closeExistingSessions)&&!i.a.isBoolean(e.closeExistingSessions))throw new TypeError("Invalid type passed for <boolean>closeExistingSessions");this._heartbeat=null,this.webSocket=null,this._log=r,this._worker=t,this.closeExistingSessions=e.closeExistingSessions||!1,this._config=t._config,this.reconnect=!1,this.tokenTimer=null,this.setUpWebSocket()}updateToken(t){if(!t)throw o.twilioErrors.INVALID_ARGUMENT.clone("To update the Twilio token, a new Twilio token must be passed in. <string>newToken is a required parameter.");this.setTokenExpirationEvent(),this._log.info("Updated token for Worker "+this._worker.sid),this.reconnect=!0,this.webSocket.readyState!==this.webSocket.CLOSING&&this.webSocket.readyState!==this.webSocket.CLOSED||this.createWebSocket()}setTokenExpirationEvent(){clearTimeout(this.tokenTimer),this.tokenTimer=setTimeout(()=>{this.reconnect=!1,this.emit("tokenExpired")},this.tokenLifetime-h)}setUpWebSocket(){this._heartbeat&&(this._heartbeat.onsleep=(()=>{})),this._heartbeat=new a.Heartbeat({interval:60}),this.createWebSocket()}setLifetime(t){this.tokenLifetime=t,this.setTokenExpirationEvent()}createWebSocket(){this.numAttempts=1,this.reconnect=!0;const t=`?${o.EB_URL_PARAMS.TOKEN}=${this._config.token}&${o.EB_URL_PARAMS.CLOSE_EXISTING_SESSIONS}=${this.closeExistingSessions}&${o.EB_URL_PARAMS.CLIENT_VERSION}=${d}`;this.webSocket=new l(this._config.WS_SERVER+t),this.webSocket.onopen=(()=>{this.numAttempts=1,this.emit("connected"),this._heartbeat.onsleep=(()=>{this._log.info("Heartbeat not received in the past 60 seconds. Proceeding to disconnect websocket."),this.webSocket.close()}),this._heartbeat.beat()}),this.webSocket.onmessage=(t=>{if(this._log.debug("Received event",t.data),this._heartbeat.beat(),0===t.data.trim().length)return;let e;try{e=JSON.parse(t.data)}catch(e){return this._log.error("Received data is not valid JSON: "+t.data),void this.emit("error",o.twilioErrors.INVALID_GATEWAY_MESSAGE)}this._log.debug("Emitting event: %s with %s",e.event_type,JSON.stringify(e.payload)),this.emit(e.event_type,e.payload||null,e.event_type)}),this.webSocket.onerror=(t=>{this._log.error("WebSocket error occurred: ",t),this.emit("error",o.twilioErrors.GATEWAY_CONNECTION_FAILED)}),this.webSocket.onclose=(t=>{this.reconnect?this._log.info("WebSocket connection has closed. Trying to reconnect."):this._log.info("WebSocket connection has closed. Not reconnecting due to token expiration.");let e=t.reason;const r=t.code;if(i.a.isEmpty(e)&&(e=`Websocket closed with errorCode=${r}`),this.emit("disconnected",{message:e}),this._heartbeat.onsleep=(()=>{}),this.reconnect){const t=this.generateBackOffInterval(this.numAttempts);setTimeout(()=>{this.numAttempts++,this.createWebSocket()},t)}})}generateBackOffInterval(t){const e=Math.ceil(800),r=Math.floor(1e3*Math.min(30,Math.pow(2,t)-1));return Math.round(Math.floor(Math.random()*(r-e+1))+e)}disconnect(){this._log.info("Disconnecting websocket"),null!==this.webSocket&&(["onmessage","onclose","onopen","onerror"].forEach(t=>{this.webSocket[t]=null}),this.webSocket.close()),this.emit("disconnected",{message:"SDK Disconnect"})}}}).call(this,r(15))},function(t,e,r){"use strict";r.r(e);var n=r(0),i=r.n(n),o=r(7),s=r(1),a=r(2);var u=class extends o.b{monitor(t,e,r){if(!i.a.isString(t))throw new TypeError("Error monitoring reservation: <string>taskSid is a required parameter");if(!i.a.isString(e))throw new TypeError("Error monitoring reservation: <string>reservationSid is a required parameter");if(r&&!i.a.isObject(r))throw new TypeError("Error monitoring reservation: <string>extraParams must be an object");return this._supervise("monitor",t,e,r)}_supervise(t,e,r,n){const i=this.getRoutes().getRoute(a.j,e,r).path,o=Object.assign({},n,{Instruction:"supervise",Supervisor:this.sid,SupervisorMode:t});return this._request.post(i,o,s.API_V1).then(()=>{})}},c=r(11),f=r(13);const l=r(3);class h{constructor(t,e={}){if(new.target===h)throw new TypeError("You cannot instantiate TaskRouterBase directly");this._config=new c.a(t,e),this._request=new f.a(this._config),t=l.verifyJWT(t),this.jwt=t,this.accountSid=t.sub,this.workspaceSid=t.grants.task_router.workspace_sid,this.workerSid=t.grants.task_router.worker_sid,this.role=t.grants.task_router.role}}var d=r(9),p=r(3);const _=["friendly_name","reservation_activity_name","assignment_activity_name","target_workers","max_reserved_workers","task_order","reservation_activity_sid","assignment_activity_sid","workspace_sid","account_sid","sid","date_created","date_updated","lifo_queue"];var g=class{constructor(t){if(!(t instanceof v))throw new TypeError("Failed to create a TaskQueue. <TaskQueueDescriptor>descriptor is a required parameter.");Object.assign(this,t)}};class v{constructor(t){if(!i.a.isObject(t))throw new TypeError("Failed to instantiate TaskQueueDescriptor. <Descriptor>descriptor is required.");if(!_.every(e=>e in t))throw new TypeError("Failed to instantiate TaskQueueDescriptor. <Descriptor>descriptor does not contain all properties of a TaskQueue.");this.sid=t.sid,this.accountSid=t.account_sid,this.workspaceSid=t.workspace_sid,this.name=t.friendly_name,this.assignmentActivityName=t.assignment_activity_name,this.reservationActivityName=t.reservation_activity_name,this.assignmentActivitySid=t.assignment_activity_sid,this.reservationActivitySid=t.reservation_activity_sid,this.targetWorkers=t.target_workers,this.maxReservedWorkers=t.max_reserved_workers,this.taskOrder=t.task_order,this.dateCreated=Object(p.parseTime)(1e3*t.date_created),this.dateUpdated=Object(p.parseTime)(1e3*t.date_updated)}}var w=class{constructor(t){if(!(t instanceof d.a))throw new TypeError("Failed to create a WorkerContainer. <WorkerDescriptor>descriptor is a required parameter.");Object.assign(this,t)}};const y=r(8);class k{constructor(t,e,r={}){if(!(t instanceof o.b))throw new TypeError("Failed to initialize WorkspacesEntity. <Worker>worker is a required parameter.");this._Workers=new Map,this._TaskQueues=new Map,this._worker=t,this._request=e,this._log=t.getLogger(`WorkspaceEntity-${this._worker.workspaceSid}`),this._pageSize=r.pageSize||s.DEFAULT_PAGE_SIZE,i.a.inRange(this._pageSize,1,s.DEFAULT_PAGE_SIZE+1)||(this._log.warn("PageSize range for WorkspaceEntity must be between 1 and %d. Setting pageSize to default size=%d",s.DEFAULT_PAGE_SIZE,s.DEFAULT_PAGE_SIZE),this._pageSize=s.DEFAULT_PAGE_SIZE)}get Workers(){return this._Workers}get TaskQueues(){return this._TaskQueues}fetchWorkers(){return this._getAllWorkers(this._getWorkerPage())}fetchTaskQueues(){return this._getAllTaskQueues(this._getTaskQueuePage())}_getAllWorkers(t){return t.then(t=>{t.items.forEach(t=>this._insertWorker(t)),t.hasNextPage&&this._getAllWorkers(t.nextPage())})}_getWorkerPage(t){t=t||{};const e=this._worker.getRoutes().getRoute(a.o).path,r={PageSize:this._pageSize};return t.AfterSid&&(r.AfterSid=t.AfterSid),this._request.get(e,s.API_V1,r).then(t=>new y(t.contents.map(t=>new d.a(t)),t=>this._getPage({AfterSid:t}),t.after_sid))}_insertWorker(t){const e=t.sid;this._log.trace("_insertWorker(sid=%s, data=%s)",e,JSON.stringify(t));try{this._Workers.set(e,new w(t))}catch(t){this._log.error("Unable to create a Worker for sid=%s. Skipping insert into Worker map. Error: %s",e,t)}}_getAllTaskQueues(t){return t.then(t=>{t.items.forEach(t=>this._insertTaskQueue(t)),t.hasNextPage&&this._getAllTaskQueues(t.nextPage())})}_getTaskQueuePage(t){t=t||{};const e=this._worker.getRoute(a.g).path,r={PageSize:this._pageSize};return t.AfterSid&&(r.AfterSid=t.AfterSid),this._request.get(e,s.API_V1,r).then(t=>new y(t.contents.map(t=>new v(t)),t=>this._getPage({AfterSid:t}),t.after_sid))}_insertTaskQueue(t){const e=t.sid;this._log.trace("_insertTaskQueue(sid=%s, data=%s",e,JSON.stringify(t));try{this._TaskQueues.set(e,new g(t))}catch(t){this._log.error("Unable to create a TaskQueue for sid=%s. Skipping insert into TaskQueue map. Error: %s",e,t)}}}var m=class extends h{constructor(t,e={}){if(super(t,e),"admin"!==this.role.toLowerCase())throw new TypeError('A token with the "admin" role is required to use this functionality.');this.workspaceEntity=new k(this._config,this._request,e)}fetchWorkers(){return this.workspaceEntity.fetchWorkers().then(()=>this.workspaceEntity.Workers)}fetchTaskQueues(){return this.workspaceEntity.fetchTaskQueues().then(()=>this.workspaceEntity.TaskQueues)}},E=r(12);r.d(e,"Supervisor",function(){return u}),r.d(e,"Worker",function(){return o.b}),r.d(e,"Workspace",function(){return m}),r.d(e,"TaskRouterEventHandler",function(){return E.a})},function(t,e,r){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){"use strict";var n=r(16);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,r){"use strict";var n=r(6);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";var n=r(6),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,s={};return t?(n.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([r]):s[e]?s[e]+", "+r:r}}),s):s}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";var n=r(34),i=r(33);t.exports=function(t,e){return t&&!n(e)?i(t,e):e}},function(t,e,r){"use strict";var n=r(6);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,r){"use strict";var n=r(18);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";var n=r(6);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e,r){"use strict";var n=r(6);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){"use strict";var n=r(6),i=r(40),o=r(21),s=r(20);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return a(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(a(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,r){"use strict";var n=r(6);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,r){"use strict";var n=r(6),i=r(22),o=r(42),s=r(41),a=r(17);function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[s,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},u.prototype.getUri=function(t){return t=a(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],function(t){u.prototype[t]=function(e,r){return this.request(a(r||{},{method:t,url:e,data:(r||{}).data}))}}),n.forEach(["post","put","patch"],function(t){u.prototype[t]=function(e,r,n){return this.request(a(n||{},{method:t,url:e,data:r}))}}),t.exports=u},function(t,e,r){"use strict";var n=r(6),i=r(23),o=r(43),s=r(17);function a(t){var e=new o(t),r=i(o.prototype.request,e);return n.extend(r,o.prototype,e),n.extend(r,e),r}var u=a(r(20));u.Axios=o,u.create=function(t){return a(s(u.defaults,t))},u.Cancel=r(16),u.CancelToken=r(30),u.isCancel=r(21),u.all=function(t){return Promise.all(t)},u.spread=r(29),u.isAxiosError=r(28),t.exports=u,t.exports.default=u},function(t,e,r){"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(t,e,r){var n,i;!function(o,s){"use strict";void 0===(i="function"==typeof(n=function(){var t=function(){},e="undefined",r=["trace","debug","info","warn","error"];function n(t,e){var r=t[e];if("function"==typeof r.bind)return r.bind(t);try{return Function.prototype.bind.call(r,t)}catch(e){return function(){return Function.prototype.apply.apply(r,[t,arguments])}}}function i(e,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<e?t:this.methodFactory(o,e,n)}this.log=this.debug}function o(r,o,s){return function(r){"debug"===r&&(r="log");return typeof console!==e&&(void 0!==console[r]?n(console,r):void 0!==console.log?n(console,"log"):t)}(r)||function(t,r,n){return function(){typeof console!==e&&(i.call(this,r,n),this[t].apply(this,arguments))}}.apply(this,arguments)}function s(t,n,s){var a,u=this,c="loglevel";function f(){var t;if(typeof window!==e){try{t=window.localStorage[c]}catch(t){}if(typeof t===e)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(c)+"=");-1!==n&&(t=/^([^;]+)/.exec(r.slice(n))[1])}catch(t){}return void 0===u.levels[t]&&(t=void 0),t}}t&&(c+=":"+t),u.name=t,u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=s||o,u.getLevel=function(){return a},u.setLevel=function(n,o){if("string"==typeof n&&void 0!==u.levels[n.toUpperCase()]&&(n=u.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=u.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==o&&function(t){var n=(r[t]||"silent").toUpperCase();if(typeof window===e)return;try{return void(window.localStorage[c]=n)}catch(t){}try{window.document.cookie=encodeURIComponent(c)+"="+n+";"}catch(t){}}(n),i.call(u,n,t),typeof console===e&&n<u.levels.SILENT)return"No console available for logging"},u.setDefaultLevel=function(t){f()||u.setLevel(t,!1)},u.enableAll=function(t){u.setLevel(u.levels.TRACE,t)},u.disableAll=function(t){u.setLevel(u.levels.SILENT,t)};var l=f();null==l&&(l=null==n?"WARN":n),u.setLevel(l,!1)}var a=new s,u={};a.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=u[t];return e||(e=u[t]=new s(t,a.getLevel(),a.methodFactory)),e};var c=typeof window!==e?window.log:void 0;return a.noConflict=function(){return typeof window!==e&&window.log===a&&(window.log=c),a},a.getLoggers=function(){return u},a})?n.call(e,r,e,t):n)||(t.exports=i)}()},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,r){(function(t){var n=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(s(arguments[r]));return e.join(" ")}r=1;for(var i=arguments,o=i.length,a=String(t).replace(n,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(t){return"[Circular]"}default:return t}}),u=i[r];r<o;u=i[++r])p(u)||!y(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(r,n){if(v(t.process))return function(){return e.deprecate(r,n).apply(this,arguments)};if(!0===process.noDeprecation)return r;var i=!1;return function(){if(!i){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var i,o={};function s(t,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&e._extend(n,r),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),c(n,t,n.depth)}function a(t,e){var r=s.styles[e];return r?"["+s.colors[r][0]+"m"+t+"["+s.colors[r][1]+"m":t}function u(t,e){return t}function c(t,r,n){if(t.customInspect&&r&&E(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return g(i)||(i=c(t,i,n)),i}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(g(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(_(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(p(e))return t.stylize("null","null")}(t,r);if(o)return o;var s=Object.keys(r),a=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),m(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(r);if(0===s.length){if(E(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(w(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(k(r))return t.stylize(Date.prototype.toString.call(r),"date");if(m(r))return f(r)}var y,S="",b=!1,T=["{","}"];(h(r)&&(b=!0,T=["[","]"]),E(r))&&(S=" [Function"+(r.name?": "+r.name:"")+"]");return w(r)&&(S=" "+RegExp.prototype.toString.call(r)),k(r)&&(S=" "+Date.prototype.toUTCString.call(r)),m(r)&&(S=" "+f(r)),0!==s.length||b&&0!=r.length?n<0?w(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),y=b?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)R(e,String(s))?o.push(l(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(l(t,e,r,n,i,!0))}),o}(t,r,n,a,s):s.map(function(e){return l(t,r,n,a,e,b)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(y,S,T)):T[0]+S+T[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),R(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=p(r)?c(t,u.value,null):c(t,u.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function h(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function p(t){return null===t}function _(t){return"number"==typeof t}function g(t){return"string"==typeof t}function v(t){return void 0===t}function w(t){return y(t)&&"[object RegExp]"===S(t)}function y(t){return"object"==typeof t&&null!==t}function k(t){return y(t)&&"[object Date]"===S(t)}function m(t){return y(t)&&("[object Error]"===S(t)||t instanceof Error)}function E(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function b(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(v(i)&&(i=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var r=process.pid;o[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else o[t]=function(){};return o[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=d,e.isNull=p,e.isNullOrUndefined=function(t){return null==t},e.isNumber=_,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=w,e.isObject=y,e.isDate=k,e.isError=m,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(48);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,r;console.log("%s - %s",(t=new Date,r=[b(t.getHours()),b(t.getMinutes()),b(t.getSeconds())].join(":"),[t.getDate(),T[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=r(47),e._extend=function(t,e){if(!e||!y(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,r(15))},function(t,e,r){function n(t,e){Object.defineProperties(this,{_errorData:{value:t},name:{value:t.name},message:{value:e||t.message}})}(0,r(49).inherits)(n,Error),n.prototype.clone=function(t){return new n(this._errorData,t)},t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}])}); 